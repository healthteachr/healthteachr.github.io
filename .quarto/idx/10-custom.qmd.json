{"title":"Customising Visualisations & Reports","markdown":{"headingText":"Customising Visualisations & Reports","headingAttr":{"id":"sec-custom","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\n## Intended Learning Outcomes {#sec-ilo-custom .unnumbered}\n\nThe final chapter of ADS moves beyond the core skills needed to complete the course. Our aim in this chapter is to give you a sense of what is now available to you with your new-found R skills. There's a lot in this chapter, as we wanted to present an overview of the possibilities, although there are no exercises at the end. If you're enrolled on ADS, you may wish to prioritise the assessment this week and come back to this chapter at a later date.\n\n* Create and customise advanced types of plots\n* Structure data in report, presentation, and dashboard formats\n* Include linked figures, tables, and references\n\n## Walkthrough video {#sec-walkthrough-custom .unnumbered}\n\nThere is no walkthrough video of this chapter because it is not core content.\n\n## Visualisation {#sec-custom-viz}\n\n### Set-up {#sec-setup-custom-viz}\n\nFirst, create a new project for the work we'll do in this chapter named `r path(\"10-advanced\")`. Second, open and save a new R Markdown document named `visualisations.Rmd`, delete the welcome text and load the required packages for this section. You will probably need to install several new packages.\n\n```{r setup-custom, message=FALSE, warning = FALSE, filename=\"Chapter packages\"}\nlibrary(tidyverse)   # data wrangling functions\nlibrary(ggthemes)    # for themes\nlibrary(patchwork)   # for combining plots\nlibrary(plotly)      # for interactive plots\nlibrary(devtools)    # for package development tools\n# devtools::install_github(\"hrbrmstr/waffle\")\nlibrary(waffle)      # for waffle plots\nlibrary(ggbump)      # for bump plots\nlibrary(treemap)     # for treemap plots\nlibrary(ggwordcloud) # for word clouds\nlibrary(tidytext)    # for manipulating text for word clouds\nlibrary(sf)          # for mapping geoms\nlibrary(rnaturalearth) # for map data\nlibrary(rnaturalearthdata) # extra mapping data\nlibrary(gganimate)   # for animated plots\n\ntheme_set(theme_light())\n```\n\nYou'll need to make a folder called \"data\" and download data files into it: \n<a href=\"https://healthteachr.github.io/ads-v2/data/Function_and_PA_data.csv\" download>Function_and_PA_data.csv</a> and <a href=\"https://healthteachr.github.io/ads-v2/data/scottish_population.csv\" download>scottish_population.csv</a>.\n\nDownload the [ggplot2 cheat sheet](https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf).\n\n\n### Defaults\n\nThe code below creates two familiar plots from @sec-viz), using the default (light) theme and palettes. First, load the data and set `condition_type` to a factor so you can control the order of the categories.\n\n```{r, message=FALSE}\n# update column specification\nct <- cols(condition_type = col_factor(levels = c(\"Joints\", \"Bones\", \"Muscles\", \"None\")))\n\n# load data\nfunction_data <- read_csv(file = \"data/Function_and_PA_data.csv\",\n                        col_types = ct)\n```\n\nNext, create a bar plot of number of participants by type of condition.\n\n```{r, message=FALSE}\n# create bar plot\nbar <- ggplot(data = function_data, \n              mapping = aes(x = condition_type,\n                            fill = condition_type)) +\n  geom_bar(show.legend = FALSE) +\n  labs(x = \"Type of condition\", \n       y = \"Count\",\n       title = \"Participants by condition\")\n```\n\nAnd create a scatterplot of gait speed by step count, distinguished by condition type.\n\n```{r, message=FALSE}\n#create scatterplot\npoint <- ggplot(data = function_data, \n                mapping = aes(x = gaitspeed, \n                              y = steps,\n                              color = condition_type)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = lm, formula = y~x) +\n  labs(x = \"Gait speed (m/s)\",\n       y = \"Number of steps\",\n       color = \"Type of condition\",\n       title = \"Gait speed by step count\")\n```\n\nFinally, combine the two plots using the `+` from <pkg>patchwork</pkg> to see the default styles for these plots.\n\n```{r, fig.cap=\"Default plot styles.\"}\nbar + point\n```\n\n::: {.callout-note .try}\nTry changing the theme using built-in themes or customising the colours or linetypes with scale_* functions. See @sec-plotstyle for details.\n:::\n\n\n### Annotations\n\nIt's often useful to add annotations to a plot, for example, to highlight an important part of the plot or add labels. The `annotate()` function creates a specific geom at x- and y-coordinates you specify. \n\n#### Text annotations\n\nAdd a text annotation by setting the `geom` argument to \"text\" or \"label\" and adding a `label`. Labels have padding and a background, while text is just text.\n\n* Backslash-n `\\n` in the label text controls where the line breaks are. Try removing or changing the position of these to see what happens. \n* `x` and `y` control the coordinates of the label. You will likely have to play around with these values to get them right.\n* The argument `hjust` is the horizontal justification of text, and `vjust` is the vertical justification. The default values are 0.5, where the text is centred on the x and y coordinates. 0 will justify to the left and bottom, while 1 justifies to the right and top. \n* You can  change the `angle` of text, but not labels.\n\n```{r annotate-text, fig.cap = \"An example of annotation text and label.\"}\nbar +\n  # add left-justified text to the first bar\n  annotate(geom = \"text\",\n           label = \"Our goal is to\\nreduce this\\ncategory\",\n           x = 0.65, y = 32,\n           hjust = 0, vjust = 1, \n           color = \"white\", fontface = \"bold\",\n           angle = 45) +\n  # add a centred label to the fourth bar\n  annotate(geom = \"label\",\n           label = \"Our goal is\\nto increase this\\ncategory\",\n           x = 4, y = 30,\n           hjust = 0.5, vjust = 1, \n           color = \" darkturquoise\", fontface = \"bold\")\n```\n\n\n::: {.callout-note .try}\n\nSee if you can work out how to make the figure below, starting with the following:\n\n```{r, eval = FALSE}\ntibble(x = c(0, 0, 1, 1),\n       y = c(0, 1, 0, 1)) %>%\n  ggplot(aes(x, y)) +\n  geom_point(alpha = 0.25, size = 4, color = \"red\")\n```\n\nHint: you will need to add 1 label annotation and 8 separate text annotations.\n\n```{r, echo = FALSE}\ntibble(x = c(0, 0, 1, 1),\n       y = c(0, 1, 0, 1)) %>%\n  ggplot(aes(x, y)) +\n  geom_point(alpha = 0.25, size = 4, color = \"red\") +\n  annotate(\"label\", label = \"In the\\nmiddle\",\n           x = 0.5, y = 0.5,\n           fill = \"dodgerblue\", color = \"white\",\n           label.padding = unit(1, \"lines\"),\n           label.r = unit(1.5, \"lines\")) +\n  annotate(\"text\", label = \"Bottom\\nLeft\",\n           x = 0, y = 0, hjust = 0, vjust = 0) +\n  annotate(\"text\", label = \"Top\\nLeft\", \n           x = 0, y = 1, hjust = 0, vjust = 1) +\n  annotate(\"text\", label = \"Bottom\\nRight\",\n           x = 1, y = 0, hjust = 1, vjust = 0) +\n  annotate(\"text\", label = \"Top\\nRight\",\n           x = 1, y = 1, hjust = 1, vjust = 1) +\n  annotate(\"text\", label = \"45 degrees\",\n           x = 0, y = 0.5, hjust = 0, angle = 45) +\n  annotate(\"text\", label = \"90 degrees\",\n           x = 0.25, y = 0.5, angle = 90) +\n  annotate(\"text\", label = \"270 degrees\",\n           x = 0.75, y = 0.5, angle = 270)+\n  annotate(\"text\", label = \"-45 degrees\",\n           x = 1, y = 0.5, hjust = 1, angle = -45)\n```\n\n\n```{r, eval = FALSE, webex.hide = TRUE}\ntibble(x = c(0, 0, 1, 1),\n       y = c(0, 1, 0, 1)) %>%\n  ggplot(aes(x, y)) +\n  geom_point(alpha = 0.25, size = 4, color = \"red\") +\n  annotate(\"label\", label = \"In the\\nmiddle\",\n           x = 0.5, y = 0.5,\n           fill = \"dodgerblue\", color = \"white\",\n           label.padding = unit(1, \"lines\"),\n           label.r = unit(1.5, \"lines\")) +\n  annotate(\"text\", label = \"Bottom\\nLeft\",\n           x = 0, y = 0, hjust = 0, vjust = 0) +\n  annotate(\"text\", label = \"Top\\nLeft\", \n           x = 0, y = 1, hjust = 0, vjust = 1) +\n  annotate(\"text\", label = \"Bottom\\nRight\",\n           x = 1, y = 0, hjust = 1, vjust = 0) +\n  annotate(\"text\", label = \"Top\\nRight\",\n           x = 1, y = 1, hjust = 1, vjust = 1) +\n  annotate(\"text\", label = \"45 degrees\",\n           x = 0, y = 0.5, hjust = 0, angle = 45) +\n  annotate(\"text\", label = \"90 degrees\",\n           x = 0.25, y = 0.5, angle = 90) +\n  annotate(\"text\", label = \"270 degrees\",\n           x = 0.75, y = 0.5, angle = 270)+\n  annotate(\"text\", label = \"-45 degrees\",\n           x = 1, y = 0.5, hjust = 1, angle = -45)\n```\n:::\n\n#### Other annotations\n\nYou can add other geoms to highlight parts of a plot. The example below adds a rectangle around a group of points, a text label, a straight arrow from the label to the rectangle, and a curved arrow from the label to an individual point.\n\n```{r annotation-other, fig.cap=\"Example of annotations with the rect, text, segment, and curve geoms.\"}\npoint +\n  # add a rectangle surrounding high step counts\n  annotate(geom = \"rect\",\n           xmin = 1.06, xmax = 1.3,\n           ymin = 8600, ymax = 10000,\n           fill = \"transparent\", color = \"red\") +\n  # add a text label\n  annotate(\"text\",\n           x = 0.7, y = 7500,\n           label = \"outliers\") +\n  # add an line with an arrow from the text to the box\n  annotate(geom = \"segment\", \n           x = 0.75, y = 7500, \n           xend = 1.05, yend = 8600,\n           arrow = arrow(length = unit(0.5, \"lines\"))) +\n  # add a curved line with an arrow \n  # from the text to a gait speed outlier\n  annotate(geom = \"curve\", \n          x = 0.65, y = 7500, \n          xend = 0.525, yend = 3650,\n          curvature = 0.5,\n          arrow = arrow(length = unit(0.5, \"lines\")))\n```\n\nSee the <pkg>ggforce\", \"https://ggforce.data-imaginist.com/\")` package for more sophisticated options, such as highlighting a group of points with an ellipse. \n\n### Other Plots {#sec-other-plots}\n\n#### Frequency and density plots\n\nIn @sec-histogram, we showed you how to use a histogram to show the distribution of one continuous variable. You can also use frequency or density plots.\n\n```{r histogram-example, fig.cap=\"Histogram of steps.\"}\n\nfunction_data <- read_csv(file = \"data/Function_and_PA_data.csv\",\n                        show_col_types = FALSE)\n\nggplot(function_data, aes(x = steps)) +\n  geom_histogram()\n```\n\n##### Frequency plot {#sec-freqpoly}\n\nRather than plotting each bin as a bar, you can connect a line across the top of each bin using a frequency plot. The function `geom_freqpoly()` works the same as `geom_histogram()`, except it can't take a `fill` argument because it's just a line. \n\n```{r freqpoly-example, fig.cap=\"Frequency plot of steps.\"}\nggplot(function_data, aes(x = steps)) +\n  scale_x_continuous(name = \"Number of steps\",\n                     breaks = seq(0, 10000, 2500)) +\n  geom_freqpoly(boundary = 0, binwidth = 250, \n                color = \"black\")\n```\n\n\n##### Density plot\n\nIf the distribution is smooth, a density plot is often a better way to show the distribution. A density plot doesn't need the `binwidth` or `boundary` arguments because it doesn't split the data into bins, but it can have `fill`.\n\n```{r density-example, fig.cap=\"Density plot of steps.\"}\nggplot(function_data, aes(x = steps)) +\n  scale_x_continuous(name = \"Number of steps\",\n                     breaks = seq(0, 10000, 2500)) +\n  geom_density(fill = \"purple\", color = \"black\")\n```\n\n##### Test your understanding\n\nImagine you have a table of the [population for each country in the world](https://population.un.org/wpp/Download/Standard/Population/){target=\"_blank\"} with the columns `country` and `population`. We'll just look at the 76 countries with populations of less than a million.\n\n```{r test-one-continuous, echo = FALSE}\n# set up quiz answers\nhist <- c(answer = \"geom_histogram\", x = \"geom_freqpoly\", x = \"geom_density\")\nfreq <- c(x = \"geom_histogram\", answer = \"geom_freqpoly\", x = \"geom_density\")\ndens <- c(x = \"geom_histogram\", x = \"geom_freqpoly\", answer = \"geom_density\")\n\n# load data\npop_data <- readxl::read_excel(\"data/WPP2019_POP_F01_1_TOTAL_POPULATION_BOTH_SEXES.xlsx\", skip = 16) %>%\n  filter(Type == \"Country/Area\") %>%\n  select(country = 3, population = `2020`) %>%\n  mutate(population = round(as.numeric(population) * 1000)) %>%\n  filter(population < 1e6)\n  \n# make plots\ng <- ggplot(pop_data, aes(x = population)) +\n  scale_x_continuous(breaks = seq(0, 1e6, 1e5),\n                     labels = c(paste0(0:9*100, \"K\"), \"1M\")) +\n  scale_y_continuous(name = \"\")\n\nhist_plot <- g + geom_histogram(binwidth = 1e5, boundary = 0, fill = \"white\", color = \"black\")\nfreq_plot <- g + geom_freqpoly(binwidth = 1e5, boundary = 0, color = \"black\") +\n  coord_cartesian(xlim = c(0, 1e6))\ndens_plot <- g + geom_density(color = \"black\", fill = \"white\")\n\ndens_plot + hist_plot + freq_plot + \n  plot_layout(nrow = 3) +\n  plot_annotation(tag_levels = \"A\")\n\n```\n\n::: {.callout-note .try}\n\n* What kind of plot is A? `r mcq(dens)`\n* What kind of plot is B? `r mcq(hist)`\n* What kind of plot is C? `r mcq(freq)`\n:::\n\n\n#### Interactive Plots\n\nThe <pkg>plotly</pkg> package can be used to make interactive graphs. Assign your ggplot to a variable and then use the function `ggplotly()` on the plot object. Note that interactive plots only work in HTML files, not PDFs or Word files.\n\n```{r plotly, message = FALSE, fig.cap=\"Interactive graph using plotly\"}\nggplotly(point)\n```\n\n::: {.callout-note}\nHover over the data points above and click on the legend items.\n:::\n\n#### Waffle Plots\n\nIn @sec-viz, we mentioned that pie charts are such a poor way to visualise proportions that we refused to even show you how to make one. Waffle plots are a delicious alternative. \n\n::: {.callout-warning}\nUse <pkg>waffle</pkg> by [hrbrmstr on GitHub](https://github.com/hrbrmstr/waffle/) using the `install_github()` function below, rather than the one on CRAN you get from using `install.packages()`.\n\n```{r, eval = FALSE}\ndevtools::install_github(\"hrbrmstr/waffle\")\n```\n\n:::\n\nBy default, `geom_waffle()` represents each observation with a tile and splits these across 10 rows. You can play about with the `n_rows` argument to determine what works best for your data.\n\n```{r, fig.cap = \"Waffle plot.\"}\nfunction_data %>% \n  count(condition_type) %>%\n  ggplot(aes(fill = condition_type, values = n)) +\n  geom_waffle(\n    n_rows = 8, # try setting this to 10 (the default)\n    size = 0.33, # line size\n    make_proportional = FALSE, # use raw values\n    colour = \"white\", # line colour\n    flip = FALSE, # bottom-top or left-right\n    radius = grid::unit(0.1, \"npc\") # set to 0.5 for circles\n  ) +\n  theme_enhance_waffle() + # gets rid of axes\n  scale_fill_colorblind(name = \"Type of condition\")\n```\n\nThe waffle plot can also be used to display the counts as proportions To achieve these, set `n_rows = 10` and `make_proportional = TRUE`. Now, rather than each tile representing one observation, each tile represents 1% of the data. \n\n```{r, fig.cap = \"Proportional waffle plot.\"}\nfunction_data %>% \n  count(condition_type) %>%\n  ggplot(aes(fill = condition_type, values = n)) +\n  geom_waffle(\n    n_rows = 10, \n    size = 0.33, \n    make_proportional = TRUE, # compute proportions\n    colour = \"white\", \n    flip = FALSE, \n    radius = grid::unit(0.1, \"npc\") \n  ) +\n  theme_enhance_waffle() + \n  scale_fill_colorblind(name = \"Type of condition\")\n```\n\n#### Treemap\n\nTreemap plots are another way to visualise proportions. Like the waffle plots, you need to count the data by category first. You can use any [brewer palette](https://www.datanovia.com/en/blog/the-a-z-of-rcolorbrewer-palette/) for the fill. \n\n```{r, fig.cap = \"Treemap plot.\"}\nfunction_data %>% \n  count(condition_type) %>%\n  treemap(\n    index = \"condition_type\", # column with number of rectangles\n    vSize = \"n\", # column with size of rectangle\n    title = \"\",\n    palette = \"BuPu\",\n    inflate.labels = TRUE # expand labels to size of rectangle\n  )\n```\n\nYou can also represent multiple categories with treemaps\n\n```{r, fig.cap = \"Treemap with two variables\"}\n\nfunction_data %>% \n  count(condition_type, generalhealth) %>%\n  arrange(generalhealth) %>%\n  treemap(\n    # use c() to specify two variables\n    index = c(\"generalhealth\", \"condition_type\"), \n    vSize = \"n\", \n    title = \"\",\n    palette = \"Dark2\",\n    # set different label sizes for each type of label\n    fontsize.labels = c(30, 10), \n    # set different alignments for two label types\n    align.labels = list(c(\"left\", \"top\"), c(\"center\", \"center\")) \n  )\n\n```\n\n\n#### Bump Plots\n\nBump plots are very useful for visualising how rankings change over time. So first, we need to get some ranking data. Let's start with a more typical raw data table, containing an identifying column of `person` and three columns for their scores each week\n\n```{r}\n# make a small dataset of scores for 3 people over 3 weeks\nscore_data <- tribble(\n  ~person, ~week_1, ~week_2, ~week_3,\n  \"Abeni\",      80,     75,       90,\n  \"Beth\",       75,     85,       75,\n  \"Carmen\",     60,     70,       80\n)\n```\n\nNow we make the table long, group by week, and use the `rank()` function to find the rank of each person's score each week. Use `n() - rank(score) + 1` to reverse the ranks so that the highest score gets rank 1. We also need to make the `week` variable a number.\n\n```{r}\n# calculate ranks\nrank_data <- score_data %>%\n  pivot_longer(cols = -person,\n               names_to = \"week\",\n               values_to = \"score\") %>%\n  group_by(week) %>%\n  mutate(rank = n() - rank(score) + 1) %>%\n  ungroup() %>%\n  arrange(week, rank) %>%\n  mutate(week = str_replace(week, \"week_\", \"\") %>% as.integer())\n\nrank_data\n```\n\nA typical mapping for a bump plot puts the time variable in the x-axis, the rank variable on the y-axis, and sets colour to the identifying variable.\n\n```{r basic-bump, fig.width = 8, fig.height=3, fig.cap = \"Basic bump plot\"}\nggplot(data = rank_data, \n       mapping = aes(x = week, \n                     y = rank, \n                     colour = person)) +\n  ggbump::geom_bump()\n```\n\nWe can make this more attractive by customising the axes and adding text labels. Try running each line of this code to see how it builds up.\n\n* Add `label = person` to the mapping so we can add in text labels.\n* Increase the size of the lines with the `size` argument to `geom_bump()`\n* We don't need labels for weeks 1.5 and 2.5, so change the x-axis `breaks`\n* The `expand` argument for the two scale_ functions expands the plot area so we can fit text labels to the right.\n* It makes more sense to have first place at the top, so reverse the order of the y-axis with `scale_y_reverse()` and fix the breaks and expansion.\n* Add text labels with `geom_text()`, but just for week 3, so set `data =  filter(rank_data, week == 3)` for this geom. \n* Set `x = 3.05` to move the text labels just to the right of week 3, and set `hjust = 0` to right-justify the text labels (the default is `hjust = 0.5`, which would center them on 3.05).\n* Remove the legend and grid lines. Increase the x-axis text size.\n\n```{r bump-example, fig.width = 8, fig.height=3, fig.cap = \"Bump plot with added features.\"}\nggplot(data = rank_data, \n       mapping = aes(x = week, \n                     y = rank, \n                     colour = person,\n                     label = person)) +\n  ggbump::geom_bump(size = 10) +\n  scale_x_continuous(name = \"\",\n                     breaks = 1:3, \n                     labels = c(\"Week 1\", \"Week 2\", \"Week 3\"),\n                     expand = expansion(c(.05, .2))) +\n  scale_y_reverse(name = \"Ranking\",\n                  breaks = 1:3, \n                  expand = expansion(.2)) +\n  geom_text(data = filter(rank_data, week == 3),\n            color = \"black\", x = 3.05, hjust = 0) +\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.text.x = element_text(size = 12))\n```\n\n\n#### Word Clouds {#sec-word-clouds}\n\nWord clouds are a common way to summarise text data. First, download <a href=\"https://healthteachr.github.io/ads-v2/data/Health_Apps_Review.csv\" download>Health_Apps_Review.csv</a> into your data folder and then load it into an object. This dataset contains  text reviews as well as the 1-5 rating from health app users.\n\n```{r}\n# https://www.kaggle.com/datasets/faysal1998/health-apps-review\nreviews <- rio::import(\"data/Health_Apps_Review.csv\")\n```\n\nWe can use this data to look at how the words used differ depending on the rating given. To make the text data easy to work with, the function `tidytext::unnest_tokens()` splits the words in the `input` column into individual words in a new `output` column. `unnnest_tokens()` is particularly helpful because it also does things like removes punctuation and transforms all words to lower case to make it easier to work with. Compare `words` and `reviews`` to see how they map on to each other.\n\n```{r}\nwords <- reviews %>%\n  unnest_tokens(output = \"word\", input = \"review\")\n```\n\nWe can then add another line of code using a pipe that counts how many instances of each word there is by rating to give us the most popular words.\n\n```{r}\nwords <- reviews %>%\n  unnest_tokens(output = \"word\", input = \"review\") %>%\n  count(word, rating, sort = TRUE) \n```\n\n```{r echo = FALSE}\nhead(words)\n```\n\nThe problem is that the most common words are all function words rather than content words, which makes sense because these words have the highest word frequency in natural language.\n\nHelpfully, `tidytext` contains a list of common \"stop words\", i.e., words that you want to ignore, that are stored in an object named `stop_words`.  It is also very useful to define a list of custom stop words based upon the unique properties of your data (it can sometimes take a few attempts to identify what's appropriate for your dataset). This dataset contains a lot of numbers that aren't informative, and it also contains “http” from website links, so we’ll get rid of both with a custom stop list.\n\nOnce you have defined your stop words, you can then use `anti_join()`  to remove any `word` that is present in the stop word list.\n\nTo get the top 25 words, we then group by rating and use `dplyr::slice_max()`, ordered by the column `n`. \n\n```{r}\ncustom_stop <- tibble(word = c(0:9, \"http\", 2020))\n\nwords <- reviews %>%\n  unnest_tokens(output = \"word\", input = \"review\") %>%\n  count(word, rating) %>%\n  anti_join(stop_words, by = \"word\") %>%\n  anti_join(custom_stop, by = \"word\") %>%\n  group_by(rating) %>%\n  slice_max(order_by = n, n = 25, with_ties = FALSE) %>%\n  ungroup()\n```\n\nFirst, let's make a word cloud for users who gave a 1-star rating:\n\n* Filter retains only the data for 1-star ratings. \n* `label` comes from the `word` column and is the data to plot (i.e., the words).\n* `colour` makes the words red (you could also set this to `word` to give each word a different colour or `n` to vary colour continuously by frequency).\n* `size` makes the size of the word proportional to `n`, the number of times the word appeared.\n* `ggwordcloud::geom_text_wordcloud_area()` is the word cloud geom. \n* `ggwordcloud::scale_size_area()` controls how big the word cloud is (this usually takes some trial-and-error).  \n\n```{r}\nrating1 <- filter(words, rating == 1) %>%\n  ggplot(aes(label = word, colour = \"red\", size = n)) +\n  geom_text_wordcloud_area() +\n  scale_size_area(max_size = 10) +\n  ggtitle(\"Rating = 1\") +\n  theme_minimal(base_size = 14)\n\nrating1\n```\n\nWe can now do the same but for 5-star ratings and paste the plots together with `patchwork` (word clouds don't play well with facets). \n\n```{r, fig.height = 3, fig.cap=\"Word cloud.\"}\nrating5 <- filter(words, rating == 5) %>%\n  ggplot(aes(label = word, size = n)) +\n  geom_text_wordcloud_area(colour = \"darkolivegreen3\") +\n  scale_size_area(max_size = 15) +\n  ggtitle(\"Rating = 5\") +\n  theme_minimal(base_size = 14)\n\nrating1 + rating5\n```\n\n::: {.callout-warning}\nIt's worth highlighting that whilst word clouds are very common, they're really the equivalent of pie charts for text data because we're not very good at making accurate comparisons based on size. You might be able to see what's the most popular word, but can you accurately determine the 2nd, 3rd, 4th or 5th most popular word based on the clouds alone? There's also the issue that just because it's text data doesn't make it a qualitative analysis and just because something is said a lot doesn't mean it's useful or important. But, this argument is outwith the scope of this book. \n:::\n\n\n#### Maps\n\nWorking with maps can be tricky. The <pkg>sf</pkg> package provides functions that work with <pkg>ggplot2</pkg>, such as `geom_sf()`. The <pkg>rnaturalearth</pkg> package (and associated data packages that you may be prompted to download) provide high-quality mapping coordinates.\n\n* `ne_countries()` returns world country polygons (i.e., a world map). We specify the object should be returned as a \"simple feature\" class `sf` so that it will work with `geom_sf()`. If you would like a deep dive on simple feature objects, check out a [vignette](https://r-spatial.github.io/sf/articles/sf1.html) from the <pkg>sf</pkg> package.\n* It's worth checking out what the object `ne_countries()` returns to see just how much information is available.\n* Try changing the values and colours below to get a sense of how the code works.\n\n\n```{r map-world, fig.width = 7, fig.height = 3.4}\n# get the world map coordinates\nworld_sf <- ne_countries(returnclass = \"sf\", scale = \"medium\")\n\n# plot them on a light blue background\nggplot() + \n  geom_sf(data = world_sf, size = 0.3) +\n  theme(panel.background = element_rect(fill = \"lightskyblue2\"))\n```\n\nYou can combine multiple countries using `bind_rows()` and visualise them with different colours for each country.\n\n```{r map-islands, fig.width = 6, fig.height = 6, fig.cap=\"Map coloured by country.\"}\n# get and bind country data\ninstall.packages('rnaturalearthhires', repos = c('https://ropensci.r-universe.dev', 'https://cloud.r-project.org'))\nlibrary(\"rnaturalearthhires\")\nuk_sf <- ne_states(country = \"united kingdom\", returnclass = \"sf\")\nireland_sf <- ne_states(country = \"ireland\", returnclass = \"sf\")\nislands <- bind_rows(uk_sf, ireland_sf) %>%\n  filter(!is.na(geonunit))\n\n# set colours\ncountry_colours <- c(\"Scotland\" = \"#0962BA\",\n                     \"Wales\" = \"#00AC48\",\n                     \"England\" = \"#FF0000\",\n                     \"Northern Ireland\" = \"#FFCD2C\",\n                     \"Ireland\" = \"#F77613\")\n\nggplot() + \n  geom_sf(data = islands,\n          mapping = aes(fill = geonunit),\n          colour = NA,\n          alpha = 0.75) +\n  coord_sf(crs = sf::st_crs(4326),\n           xlim = c(-10.7, 2.1), \n           ylim = c(49.7, 61)) +\n  scale_fill_manual(name = \"Country\", \n                    values = country_colours)\n```\n\n\nYou can join <a href=\"https://healthteachr.github.io/ads-v2/data/scottish_population.csv\" download>Scottish population data</a> to the map table to visualise data on the map using colours or labels.\n\n```{r}\n# load map data\nscotland_sf <- ne_states(geounit = \"Scotland\", \n                         returnclass = \"sf\")\n\n# load population data from\n# https://www.indexmundi.com/facts/united-kingdom/quick-facts/scotland/population\nscotpop <- read_csv(\"data/scottish_population.csv\", \n                    show_col_types = FALSE)\n\n# join data and fix typo in the map\nscotmap_pop <- scotland_sf %>%\n  mutate(name = ifelse(name == \"North Ayshire\", \n                       yes = \"North Ayrshire\", \n                       no = name)) %>%\n  left_join(scotpop, by = \"name\") %>%\n  select(name, population, geometry)\n```\n\n::: {.callout-warning}\nThere is a typo in the data from <pkg>rnaturalearth</pkg>, so you need to change \"North Ayshire\" to \"North Ayrshire\" before you join the population data.\n:::\n\n* Setting the fill to population in `geom_sf()` gives each region a colour based on its population. \n* The colours are customised with `scale_fill_viridis_c()`. The breaks of the fill scale are set to increments of 100K (1e5 in scientific notation) and the scale is set to span 0 to 600K. \n* `paste0()` creates the labels by taking the numbers 0 through 6 and adding \"00 k\" to them.\n* Finally, the position of the legend is moved into the sea using `legend.position()`.\n\n```{r map-scotland, fig.width = 5, fig.height = 7, fig.cap=\"Map coloured by population.\"}\n# plot\nggplot() + \n  geom_sf(data = scotmap_pop,\n          mapping = aes(fill = population),\n          color = \"white\", \n          size = .1) +\n  coord_sf(xlim = c(-8, 0), ylim = c(54, 61)) +\n  scale_fill_viridis_c(name = \"Population\",\n                       breaks = seq(from = 0, to = 6e5, by = 1e5), \n                       limits = c(0, 6e5),\n                       labels = paste0(0:6, \"00 K\")) +\n  theme(legend.position = c(0.16, 0.84))\n```\n\n#### Animated Plots\n\nAnimated plots are a great way to add a wow factor to your reports, but they can be complex to make, distracting, and not very accessible, so use them sparingly and only for data visualisation where the animation really adds something. The package <pkg>gganimate\", \"https://gganimate.com/\")` has many functions for animating ggplots.\n\nHere, we'll load some population data from the United Nations. <a href=\"data/WPP2019_POP_F01_1_TOTAL_POPULATION_BOTH_SEXES.xlsx\" download>Download the file</a> into your data folder and open it in Excel first to see what it looks like. The code below gets the data from the first tab, filters it to just the 6 world regions, makes the data long, and makes sure the `year` column is numeric and the `pop` column shows population in whole numbers (the original data is in 1000s).\n\n```{r}\n# load and process data\nworldpop <- readxl::read_excel(\"data/WPP2019_POP_F01_1_TOTAL_POPULATION_BOTH_SEXES.xlsx\", skip = 16) %>%\n  filter(Type == \"Region\") %>%\n  select(region = 3, `1950`:`1992`) %>%\n  pivot_longer(cols = -region, \n               names_to = \"year\",\n               values_to = \"pop\") %>%\n  mutate(year = as.integer(year),\n         pop = round(1000 * as.numeric(pop)))\n```\n\nLet's make an animated plot showing how the population in each region changes with year. First, make a static plot. Filter the data to the most recent year so you can see what a single frame of the animation will look like.\n\n```{r}\nworldpop %>%\n  filter(year == 1992) %>%\n  ggplot(aes(x = region, y = pop, fill = region)) +\n  geom_col(show.legend = FALSE) +\n  scale_fill_viridis_d() +\n  scale_x_discrete(name = \"\", \n                   guide = guide_axis(n.dodge=2))+\n  scale_y_continuous(name = \"Population\",\n                     breaks = seq(0, 3e9, 1e9),\n                     labels = paste0(0:3, \"B\")) +\n  ggtitle('Year: 1992')\n```\n\nTo convert this to an animated plot that shows the data from multiple years:\n\n* Remove the filter and add `transition_time(year)`. \n* Use the `{}` syntax to include the `frame_time` in the title. \n* Use `anim_save()` to save the animation to a GIF file and set this code chunk to `eval = FALSE` because creating an animation takes a long time and you don't want to have to run it every time you knit your report.\n\n```{r, eval = FALSE}\nlibrary(gifski)\nanim <- worldpop %>%\n  ggplot(aes(x = region, y = pop, fill = region)) +\n  geom_col(show.legend = FALSE) +\n  scale_fill_viridis_d() +\n  scale_x_discrete(name = \"\",\n                   guide = guide_axis(n.dodge=2))+\n  scale_y_continuous(name = \"Population\",\n                     breaks = seq(0, 3e9, 1e9),\n                     labels = paste0(0:3, \"B\")) +\n  ggtitle('Year: {frame_time}') +\n  transition_time(year)\n  \ndir.create(\"images\", FALSE) # creates an images directory if needed\n\nanim_save(animation = anim,\n          width = 8, height = 5, units = \"in\", res = 150,renderer = gifski_renderer(),\n          filename = \"images/gganim-demo.gif\")\n```\n\nYou can show your animated gif in an html report (animations don't work in Word or a PDF) using `include_graphics()`, or include the GIF in a dynamic document like PowerPoint.\n\n```{r anim-demo, fig.cap=\"Animated gif.\"}\nknitr::include_graphics(\"images/gganim-demo.gif\")\n```\n\n\n::: {.callout-warning}\nThere are actually not many plots that are really improved by animating them. The plot below gives the same information at a single glance.\n\n```{r anim-alternative, echo = FALSE}\nworldpop %>%\n  ggplot(aes(x = year, y = pop, color = region)) +\n  geom_line(size = 2) +\n  geom_text(aes(label = region), \n            # only label last year\n            data = filter(worldpop, year == max(year)),\n            hjust = 0,  # right-justify\n            nudge_x = 1, # move x-position 1 to the right\n            # nudge Europe up  a little\n            nudge_y = c(0, 0, 1e8, 0, 0, 0) \n  ) +\n  scale_x_continuous(name = \"\", \n                     breaks = seq(1950, 1995, 5),\n                     expand = expansion(add = c(1, 25))) +\n  scale_y_continuous(name = \"Population (in billions)\",\n                     breaks = seq(0, 3e9, 1e9),\n                     labels = paste0(0:3, \"B\"),\n                     limits = c(0, 3.5e9)) +\n  scale_color_viridis_d() +\n  ggtitle(\"Population growth from 1950 to 1995\") +\n  theme(legend.position = \"none\")\n```\n\n:::\n\n### Resources  {#sec-resources-custom}\n\nThere are so many more options for data visualisation in R than we have time to cover here. The following resources will get you started on your journey to informative, intuitive visualisations.\n\n* [The R Graph Gallery](http://www.r-graph-gallery.com/) (this is really useful)\n* [Look at Data](https://socviz.co/lookatdata.html) from [Data Vizualization for Social Science](http://socviz.co/)\n* [Graphs](http://www.cookbook-r.com/Graphs) in *Cookbook for R*\n* [Top 50 ggplot2 Visualizations](http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html)\n* [R Graphics Cookbook](http://www.cookbook-r.com/Graphs/) by Winston Chang\n* [ggplot extensions](https://exts.ggplot2.tidyverse.org/)\n* [plotly](https://plot.ly/ggplot2/) for creating interactive graphs\n* [Drawing Beautiful Maps Programmatically](https://r-spatial.org/r/2018/10/25/ggplot2-sf.html)\n* [gganimate](https://gganimate.com/)\n\n\n## Reports {#sec-custom-reports}\n\n### Set-up {#sec-setup-custom-reports}\n\nClose your visualisation Markdown and open and save a new R Markdown document named `reports.Rmd`, delete the welcome text and load the required packages for this section.\n\n```{r setup-reports, message=FALSE}\n#remove.packages(\"rlang\")\n#install.packages(\"rlang\")\n#library(rlang)\n#remove.packages(\"flexdashboard\")\n#install.packages(\"flexdashboard\")\nlibrary(tidyverse)     # data wrangling functions\nlibrary(bookdown)      # for chaptered reports\nlibrary(flexdashboard) # for dashboards\nlibrary(DT)            # for interactive tables\n```\n\nYou'll need to make a folder called \"data\" and download data files into it: \n<a href=\"https://healthteachr.github.io/ads-v2/data/Health_Apps_Review.csv\" download>Health_Apps_Review.csv</a> and <a href=\"https://healthteachr.github.io/ads-v2/data/scottish_population.csv\" download>scottish_population.csv</a>.\n\n### Linked documents {#sec-linked-docs}\n\nIf you need to create longer reports with links between sections, you can edit the YAML to use a bookdown format. `bookdown::html_document2` is a useful one that adds figure and table numbers automatically to any figures or tables with a caption and allows you to link to these by reference.\n\nTo create links to tables and figures, you need to name the code chunk that created your figures or tables, and then call those names in your inline coding:\n\n```{r, eval = FALSE, verbatim=\"r tab-my-table\"}\n# table code here\n```\n\n```{r, eval = FALSE, verbatim=\"r fig-my-figure\"}\n# figure code here\n```\n\n```\nSee @tab-my-table or @fig-my-figure.\n```\n\n::: {.callout-warning}\nThe code chunk names can only contain letters, numbers and dashes. If they contain other characters like spaces or underscores, the referencing will not work.\n:::\n\nYou can also link to different sections of your report by naming your headings with `{#sec-}`:\n\n``` md\n# My first heading {#sec-heading-1}\n\n## My second heading {#sec-heading-2}\n\nSee @sec-heading-1 and @sec-heading-2.\n\n```\nThe code below shows how to link text to figures or tables in a full report using the built-in `diamonds` dataset - use your `reports.Rmd` to create this document now. You can see the [HTML output here](demos/html_document2.html).\n\n`r hide(\"Linked document code\")`\n\n```{embed, file = \"demos/html_document2.Rmd\"}\n# readLines(\"demos/html_document2.Rmd\") %>% \n#   paste(collapse = \"\\n\") %>%\n#   paste0(\"<code style='font-size: smaller;'><pre>\\n\", ., \"\\n</pre></code>\") %>%\n#   cat()\n```\n\n`r unhide()`\n\nThis format defaults to numbered sections, so set `number_sections: false` in the `r glossary(\"YAML\")` header if you don't want this. If you remove numbered sections, links like `@sec-conclusion)` will show \"??\", so you need to use URL link syntax instead, like this:\n\n```\nSee the [last section](#conclusion) for concluding remarks.\n```\n\n### References {#sec-references}\n\nThere are several ways to do in-text references and automatically generate a [bibliography](https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html){target=\"_blank\"} in R Markdown. Markdown files need to link to a BibTex file (a plain text file with references in a specific format) that contains the references you need to cite. You specify the name of this file in the YAML header, like `bibliography: filename.bib` and cite references in text using an at symbol and a shortname, like `[@tidyverse]`.\n\n#### Creating a BibTeX file\n\nMost reference software like EndNote, Zotero or Mendeley have exporting options that can export to BibTeX format. You just need to check the shortnames in the resulting file.\n\nYou can also make a BibTeX file and add references manually. In RStudio, go to <if>File > New File... > Text File</if> and save the file as \"bibliography.bib\".\n\nNext, add the line `bibliography: bibliography.bib` to your YAML header.\n\n#### Adding references\n\nYou can add references to a journal article in the following format:\n\n```\n@article{shortname,\n  author = {Author One and Author Two and Author Three},\n  title = {Paper Title},\n  journal = {Journal Title},\n  volume = {vol},\n  number = {issue},\n  pages = {startpage--endpage},\n  year = {year},\n  doi = {doi}\n}\n```\n\nSee [A complete guide to the BibTeX format](https://www.bibtex.com/g/bibtex-format/){target=\"_blank\"} for instructions on citing books, technical reports, and more.\n\nYou can get the reference for an R package using the functions `citation()` and `toBibtex()`. You can paste the bibtex entry into your bibliography.bib file. Make sure to add a short name (e.g., \"ggplot2\") before the first comma to refer to the reference.\n\n```{r}\ncitation(package=\"ggplot2\") %>% toBibtex()\n```\n\n\n[Google Scholar](https://scholar.google.com/) entries have a BibTeX citation option. This is usually the easiest way to get the relevant values, although you have to add the DOI yourself. You can keep the suggested shortname or change it to something that makes more sense to you.\n\n```{r google-scholar, echo = FALSE, fi.caption = \"Get BibTex citations from Google Scholar.\"}\nknitr::include_graphics(\"images/present/google-scholar.png\")\n```\n\n\n#### Citing references\n\nYou can cite references in text like this: \n\n```\nThis tutorial uses several R packages [@tidyverse;@rmarkdown].\n```\n\nThis tutorial uses several R packages [@tidyverse;@rmarkdown].\n\nPut a minus in front of the @ if you just want the year:\n\n```\nFranconeri and colleagues [-@franconeri2021science] review research-backed guidelines for creating effective and intuitive visualizations.\n```\n\nFranconeri and colleagues [-@franconeri2021science] review research-backed guidelines for creating effective and intuitive visualizations.\n\n#### Citation styles\n\nYou can search a [list of style files](https://www.zotero.org/styles){target=\"_blank\"} (e.g., APA, MLA, Harvard) and download a file that will format your bibliography. You'll need to add the line `csl: filename.csl` to your YAML header. \n\n#### Reference section\n\nBy default, the reference section is added to the end of the document. If you want to change the position (e.g., to add figures and tables after the references), include `<div id=\"refs\"></div>` where you want the references. \n\n::: {.callout-note .try}\nAdd in-text citations and a reference list to your report.\n:::\n\n### Interactive tables\n\nOne way to make your reports more exciting is to use interactive tables. The `DT::datatable()` function displays a table with some extra interactive elements to allow readers to search and reorder the data, as well as controlling the number of rows shown at once. This can be especially helpful. This only works with HTML output types. The [DT website](https://rstudio.github.io/DT/){target=\"_blank\"} has extensive tutorials, but we'll cover the basics here.\n\n```{r}\nlibrary(DT)\n\nscotpop <- read_csv(\"data/scottish_population.csv\", \n                    show_col_types = FALSE)\n\ndatatable(data = scotpop)\n```\n\n\nYou can customise the display, such as changing column names, adding a caption, moving the location of the filter boxes, removing row names, applying [classes](https://datatables.net/manual/styling/classes){target=\"_blank\"} to change table appearance, and applying [advanced options](https://datatables.net/reference/option/){target=\"_blank\"}.\n\n```{r}\n# https://datatables.net/reference/option/\nmy_options <- list(\n  pageLength = 5, # how many rows are displayed\n  lengthChange = FALSE, # whether pageLength can change\n  info = TRUE, # text with the total number of rows\n  paging = TRUE, # if FALSE, the whole table displays\n  ordering = FALSE, # whether you can reorder columns\n  searching = FALSE # whether you can search the table\n)\n\ndatatable(\n  data = scotpop,\n  colnames = c(\"County\", \"Population\"),\n  caption = \"The population of Scottish counties.\",\n  filter = \"none\", # \"none\", \"bottom\" or \"top\"\n  rownames = FALSE, # removes the number at the left\n  class = \"cell-border hover stripe\", # default is \"display\"\n  options = my_options\n)\n```\n\n::: {.callout-note .try}\nCreate an interactive table like the one below from the `diamonds` dataset of diamonds where the `table` value is greater than 65 (the whole table is *much* too large to display with an interactive table). Show 20 items by default and remove the search box, but leave in the filter and other default options.\n\n```{r, echo = FALSE}\nmy_options <- list(\n  pageLength = 20, # how many rows are displayed\n  searching = FALSE # whether you can search the table\n)\n\ndiamonds %>% \n  filter(table > 65) %>%\n  select(-table, -(x:z)) %>%\n  DT::datatable(\n    caption = \"All diamonds with table > 65.\",\n    options = my_options\n  )\n```\n\n```{r, webex.hide = TRUE, eval = FALSE}\nmy_options <- list(\n  pageLength = 20, # how many rows are displayed\n  searching = FALSE # whether you can search the table\n)\n\ndiamonds %>% \n  filter(table > 65) %>%\n  select(-table, -(x:z)) %>%\n  DT::datatable(\n    caption = \"All diamonds with table > 65.\",\n    options = my_options\n  )\n```\n:::\n\n\n\n### Other formats\n\nYou can create more than just reports with R Markdown. You can also create presentations, interactive dashboards, books, websites, and web applications.\n\n#### Presentations\n\nYou can choose a presentation template when you create a new R Markdown document. We'll use ioslides for this example, but the other formats work similarly.\n\n```{r img-ioslides-template, echo=FALSE, fig.cap=\"Ioslides RMarkdown template.\"}\nknitr::include_graphics(\"images/present/new-ioslides.png\")\n```\n\nThe main differences between this and the Rmd files you've been working with until now are that the `output` type in the `r glossary(\"YAML\")` header is `ioslides_presentation` instead of `html_document` and this format requires a specific title structure. Each slide starts with a level-2 header.\n\nThe template provides you with examples of text, bullet point, code, and plot slides. You can knit this template to create an `r glossary(\"HTML\")` document with your presentation. It often looks odd in the RStudio built-in browser, so click the button to open it in a web browser. You can use the space bar or arrow keys to advance slides.\n\nThe code below shows how to load some packages and display text, a table, and a plot. You can see the [HTML output here](demos/ioslides.html).\n\n`r hide()`\n\n```{embed, file = \"demos/ioslides.Rmd\"}\n# readLines(\"demos/ioslides.Rmd\") %>% \n#   paste(collapse = \"\\n\") %>%\n#   paste0(\"<code style='font-size: smaller;'><pre>\\n\", ., \"\\n</pre></code>\") %>%\n#   cat()\n```\n\n`r unhide()`\n\n#### Dashboards\n\nDashboards are a way to display text, tables, and plots with dynamic formatting. After you install <pkg>flexdashboard</pkg>, you can choose a flexdashboard template when you create a new R Markdown document. \n\n```{r img-flx-template, echo=FALSE, fig.cap=\"Flexdashboard RMarkdown template.\"}\nknitr::include_graphics(\"images/present/flexdashboard-template.png\")\n```\n\nThe code below shows how to load some packages, display two tables in a tabset, and display two plots in a column. You can see the [HTML output here](demos/flexdashboard.html).\n\n`r hide()`\n\n```{embed, file = \"demos/flexdashboard.Rmd\"}\n# readLines(\"demos/flexdashboard.Rmd\") %>% \n#   paste(collapse = \"\\n\") %>%\n#   paste0(\"<code style='font-size: smaller;'><pre>\\n\", ., \"\\n</pre></code>\") %>%\n#   cat()\n```\n\n`r unhide()`\n\nChange the size of your web browser to see how the boxes, tables and figures change.\n\nThe best way to figure out how to format a dashboard is trial and error, but you can also look at some [sample layouts](https://pkgs.rstudio.com/flexdashboard/articles/layouts.html){target=\"_blank\"}.\n\n#### Books\n\nYou can create online books with <pkg>bookdown</pkg>. In fact, the book you're reading was created using bookdown. After you download the package, start a new project and choose \"Book project using bookdown\" from the list of project templates. \n\n```{r img-bookdown-template, echo=FALSE, fig.cap=\"Bookdown project template.\"}\nknitr::include_graphics(\"images/present/bookdown.png\")\n```\n\nEach chapter is written in a separate .Rmd file and the general book settings can be changed in the `_bookdown.yml` and `_output.yml` files. \n\n#### Websites\n\nYou can create a simple website the same way you create any R Markdown document. Choose \"Simple R Markdown Website\" from the project templates to get started. See @sec-webpages for a step-by-step tutorial.\n\nFor more complex, blog-style websites, you can investigate [<pkg>blogdown</pkg>](https://bookdown.org/yihui/blogdown/). After you install this package, you will also be able to create template blogdown projects to get you started.\n\n#### Shiny\n\nTo get truly interactive, you can take your R coding to the next level and learn Shiny. Shiny apps let your R code react to user input. You can do things like [make a word cloud](https://shiny.psy.gla.ac.uk/debruine/wordcloud/), [search a google spreadsheet](https://shiny.psy.gla.ac.uk/debruine/seen/), or [conduct a survey](https://shiny.psy.gla.ac.uk/debruine/question/).\n\nThis is well outside the scope of this class, but the skills you've learned here provide a good start. The following free book [Building Web Apps with R Shiny](https://debruine.github.io/shinyintro/) can get you started creating shiny apps.\n\n### Resources {#sec-resources-report}\n\n* [RStudio Formats](https://rmarkdown.rstudio.com/formats.html)\n* [R Markdown Cookbook](https://bookdown.org/yihui/rmarkdown-cookbook)\n* [DT](https://rstudio.github.io/DT/)\n* [Flexdashboard](https://pkgs.rstudio.com/flexdashboard/)\n* [Bookdown](https://bookdown.org/yihui/bookdown/)\n* [Blogdown](https://bookdown.org/yihui/blogdown/)\n* [Shiny](https://shiny.rstudio.com/)\n* [Building Web Apps with R Shiny](https://debruine.github.io/shinyintro/)\n\n\n<hr>\n\n## Course Complete\n\nAnd so, we are done. We've covered a huge amount over the course of Applied Data Skills, and whilst you're likely more comfortable with some bits than others, the skills you have developed are truly impressive. Even if you go no further than what you've learned in this book, you can now work reproducibly to produce informative summaries and visualisations that provide new insights into your data and reduce human error. \n\nBut it's also important to recognise that your knowledge of R will never be complete. In the course of writing this book, the entire ADS team have learned new functions, new arguments, new approaches, and new reasons to love or loathe certain data visualisations. The flexibility and possibility of R is what makes it frustrating and empowering in equal measure. What we hope more than anything is that Applied Data Skills is the start of your journey with R, not the end. Please keep in touch, we'd love to see where it takes you.\n\nOlivia Malkowski,  \nSean Williams,  \nJames Fern\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"kable","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"wrap","code-link":true,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["include/healthteachr.css","include/webex.css","include/style.css"],"highlight-style":"a11y","include-after-body":["include/webex.js","include/script.js"],"output-file":"10-custom.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.335","bibliography":["include/book.bib","include/packages.bib"],"csl":"include/apa.csl","theme":{"light":["flatly","include/light.scss"],"dark":["darkly","include/dark.scss"]},"number-depth":3,"code-copy":"hover"},"extensions":{"book":{"multiFile":true}}}}}