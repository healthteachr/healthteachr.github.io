<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Applied Data Skills - 10&nbsp; Customising Visualisations &amp; Reports</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./11-refs.html" rel="next">
<link href="./09-wrangle.html" rel="prev">
<link href="./images/logos/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-6NP3MF25W3', { 'anonymize_ip': true});
</script><link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="site_libs/plotly-binding-4.10.4/plotly.js"></script><script src="site_libs/typedarray-0.1/typedarray.min.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script><link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script><link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link rel="stylesheet" href="include/healthteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./10-custom.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Customising Visualisations &amp; Reports</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Applied Data Skills</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/healthteachr/healthteachr.github.io" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to R and RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reports with R Markdown</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Visualisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Import</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Summaries</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-formative.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Practice Report</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-joins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data Relations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-tidy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data Tidying</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-wrangle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-custom.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Customising Visualisations &amp; Reports</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-refs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-license.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">License/Citation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-installing-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Installing R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-updating-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Updating R, RStudio, and packages</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-symbols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Symbols</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-conventions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Conventions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-teams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Using Teams</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Debugging</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-datatypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Data Types</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">Dates and Times</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-styling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Styling Plots</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-spotify.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">J</span>&nbsp; <span class="chapter-title">Spotify Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-webpage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">K</span>&nbsp; <span class="chapter-title">Webpages</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#sec-ilo-custom" id="toc-sec-ilo-custom" class="nav-link active" data-scroll-target="#sec-ilo-custom">Intended Learning Outcomes</a></li>
  <li><a href="#sec-walkthrough-custom" id="toc-sec-walkthrough-custom" class="nav-link" data-scroll-target="#sec-walkthrough-custom">Walkthrough video</a></li>
  <li>
<a href="#sec-custom-viz" id="toc-sec-custom-viz" class="nav-link" data-scroll-target="#sec-custom-viz"><span class="header-section-number">10.1</span> Visualisation</a>
  <ul class="collapse">
<li><a href="#sec-setup-custom-viz" id="toc-sec-setup-custom-viz" class="nav-link" data-scroll-target="#sec-setup-custom-viz"><span class="header-section-number">10.1.1</span> Set-up</a></li>
  <li><a href="#defaults" id="toc-defaults" class="nav-link" data-scroll-target="#defaults"><span class="header-section-number">10.1.2</span> Defaults</a></li>
  <li><a href="#annotations" id="toc-annotations" class="nav-link" data-scroll-target="#annotations"><span class="header-section-number">10.1.3</span> Annotations</a></li>
  <li><a href="#sec-other-plots" id="toc-sec-other-plots" class="nav-link" data-scroll-target="#sec-other-plots"><span class="header-section-number">10.1.4</span> Other Plots</a></li>
  <li><a href="#sec-resources-custom" id="toc-sec-resources-custom" class="nav-link" data-scroll-target="#sec-resources-custom"><span class="header-section-number">10.1.5</span> Resources</a></li>
  </ul>
</li>
  <li>
<a href="#sec-custom-reports" id="toc-sec-custom-reports" class="nav-link" data-scroll-target="#sec-custom-reports"><span class="header-section-number">10.2</span> Reports</a>
  <ul class="collapse">
<li><a href="#sec-setup-custom-reports" id="toc-sec-setup-custom-reports" class="nav-link" data-scroll-target="#sec-setup-custom-reports"><span class="header-section-number">10.2.1</span> Set-up</a></li>
  <li><a href="#sec-linked-docs" id="toc-sec-linked-docs" class="nav-link" data-scroll-target="#sec-linked-docs"><span class="header-section-number">10.2.2</span> Linked documents</a></li>
  <li><a href="#sec-references" id="toc-sec-references" class="nav-link" data-scroll-target="#sec-references"><span class="header-section-number">10.2.3</span> References</a></li>
  <li><a href="#interactive-tables" id="toc-interactive-tables" class="nav-link" data-scroll-target="#interactive-tables"><span class="header-section-number">10.2.4</span> Interactive tables</a></li>
  <li><a href="#other-formats" id="toc-other-formats" class="nav-link" data-scroll-target="#other-formats"><span class="header-section-number">10.2.5</span> Other formats</a></li>
  <li><a href="#sec-resources-report" id="toc-sec-resources-report" class="nav-link" data-scroll-target="#sec-resources-report"><span class="header-section-number">10.2.6</span> Resources</a></li>
  </ul>
</li>
  <li><a href="#course-complete" id="toc-course-complete" class="nav-link" data-scroll-target="#course-complete"><span class="header-section-number">10.3</span> Course Complete</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/healthteachr/healthteachr.github.io/edit/main/10-custom.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/healthteachr/healthteachr.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/healthteachr/healthteachr.github.io/blob/main/10-custom.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-custom" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Customising Visualisations &amp; Reports</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="sec-ilo-custom" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="sec-ilo-custom">Intended Learning Outcomes</h2>
<p>The final chapter of ADS moves beyond the core skills needed to complete the course. Our aim in this chapter is to give you a sense of what is now available to you with your new-found R skills. There’s a lot in this chapter, as we wanted to present an overview of the possibilities, although there are no exercises at the end. If you’re enrolled on ADS, you may wish to prioritise the assessment this week and come back to this chapter at a later date.</p>
<ul>
<li>Create and customise advanced types of plots</li>
<li>Structure data in report, presentation, and dashboard formats</li>
<li>Include linked figures, tables, and references</li>
</ul></section><section id="sec-walkthrough-custom" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="sec-walkthrough-custom">Walkthrough video</h2>
<p>There is no walkthrough video of this chapter because it is not core content.</p>
</section><section id="sec-custom-viz" class="level2" data-number="10.1"><h2 data-number="10.1" class="anchored" data-anchor-id="sec-custom-viz">
<span class="header-section-number">10.1</span> Visualisation</h2>
<section id="sec-setup-custom-viz" class="level3" data-number="10.1.1"><h3 data-number="10.1.1" class="anchored" data-anchor-id="sec-setup-custom-viz">
<span class="header-section-number">10.1.1</span> Set-up</h3>
<p>First, create a new project for the work we’ll do in this chapter named <code class="path">10-advanced</code>. Second, open and save a new R Markdown document named <code>visualisations.Rmd</code>, delete the welcome text and load the required packages for this section. You will probably need to install several new packages.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Chapter packages</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)   <span class="co"># data wrangling functions</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(ggthemes)    <span class="co"># for themes</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(patchwork)   <span class="co"># for combining plots</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(plotly)      <span class="co"># for interactive plots</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(devtools)    <span class="co"># for package development tools</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co"># devtools::install_github("hrbrmstr/waffle")</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(waffle)      <span class="co"># for waffle plots</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(ggbump)      <span class="co"># for bump plots</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(treemap)     <span class="co"># for treemap plots</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(ggwordcloud) <span class="co"># for word clouds</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(tidytext)    <span class="co"># for manipulating text for word clouds</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(sf)          <span class="co"># for mapping geoms</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(rnaturalearth) <span class="co"># for map data</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">library</span>(rnaturalearthdata) <span class="co"># extra mapping data</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">library</span>(gganimate)   <span class="co"># for animated plots</span></span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="fu">theme_set</span>(<span class="fu">theme_light</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>You’ll need to make a folder called “data” and download data files into it: <a href="https://healthteachr.github.io/data/Function_and_PA_data.csv" download="">Function_and_PA_data.csv</a> and <a href="https://healthteachr.github.io/data/scottish_population.csv" download="">scottish_population.csv</a>.</p>
<p>Download the <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf">ggplot2 cheat sheet</a>.</p>
</section><section id="defaults" class="level3" data-number="10.1.2"><h3 data-number="10.1.2" class="anchored" data-anchor-id="defaults">
<span class="header-section-number">10.1.2</span> Defaults</h3>
<p>The code below creates two familiar plots from <a href="03-viz.html" class="quarto-xref"><span>Chapter 3</span></a>), using the default (light) theme and palettes. First, load the data and set <code>condition_type</code> to a factor so you can control the order of the categories.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># update column specification</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>ct <span class="ot">&lt;-</span> <span class="fu">cols</span>(<span class="at">condition_type =</span> <span class="fu">col_factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Joints"</span>, <span class="st">"Bones"</span>, <span class="st">"Muscles"</span>, <span class="st">"None"</span>)))</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># load data</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>function_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"data/Function_and_PA_data.csv"</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>                        <span class="at">col_types =</span> ct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, create a bar plot of number of participants by type of condition.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># create bar plot</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>bar <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> function_data, </span>
<span id="cb3-3"><a href="#cb3-3"></a>              <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> condition_type,</span>
<span id="cb3-4"><a href="#cb3-4"></a>                            <span class="at">fill =</span> condition_type)) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="fu">geom_bar</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Type of condition"</span>, </span>
<span id="cb3-7"><a href="#cb3-7"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>       <span class="at">title =</span> <span class="st">"Participants by condition"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And create a scatterplot of gait speed by step count, distinguished by condition type.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">#create scatterplot</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>point <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> function_data, </span>
<span id="cb4-3"><a href="#cb4-3"></a>                <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> gaitspeed, </span>
<span id="cb4-4"><a href="#cb4-4"></a>                              <span class="at">y =</span> steps,</span>
<span id="cb4-5"><a href="#cb4-5"></a>                              <span class="at">color =</span> condition_type)) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">formula =</span> y<span class="sc">~</span>x) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gait speed (m/s)"</span>,</span>
<span id="cb4-9"><a href="#cb4-9"></a>       <span class="at">y =</span> <span class="st">"Number of steps"</span>,</span>
<span id="cb4-10"><a href="#cb4-10"></a>       <span class="at">color =</span> <span class="st">"Type of condition"</span>,</span>
<span id="cb4-11"><a href="#cb4-11"></a>       <span class="at">title =</span> <span class="st">"Gait speed by step count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, combine the two plots using the <code>+</code> from <pkg>patchwork</pkg> to see the default styles for these plots.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>bar <span class="sc">+</span> point</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Default plot styles.</figcaption></figure>
</div>
</div>
</div>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Try changing the theme using built-in themes or customising the colours or linetypes with scale_* functions. See <a href="app-styling.html" class="quarto-xref"><span>Appendix I</span></a> for details.</p>
</div>
</div>
</section><section id="annotations" class="level3" data-number="10.1.3"><h3 data-number="10.1.3" class="anchored" data-anchor-id="annotations">
<span class="header-section-number">10.1.3</span> Annotations</h3>
<p>It’s often useful to add annotations to a plot, for example, to highlight an important part of the plot or add labels. The <code>annotate()</code> function creates a specific geom at x- and y-coordinates you specify.</p>
<section id="text-annotations" class="level4"><h4 class="anchored" data-anchor-id="text-annotations">Text annotations</h4>
<p>Add a text annotation by setting the <code>geom</code> argument to “text” or “label” and adding a <code>label</code>. Labels have padding and a background, while text is just text.</p>
<ul>
<li>Backslash-n <code>\n</code> in the label text controls where the line breaks are. Try removing or changing the position of these to see what happens.</li>
<li>
<code>x</code> and <code>y</code> control the coordinates of the label. You will likely have to play around with these values to get them right.</li>
<li>The argument <code>hjust</code> is the horizontal justification of text, and <code>vjust</code> is the vertical justification. The default values are 0.5, where the text is centred on the x and y coordinates. 0 will justify to the left and bottom, while 1 justifies to the right and top.</li>
<li>You can change the <code>angle</code> of text, but not labels.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>bar <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="co"># add left-justified text to the first bar</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>,</span>
<span id="cb6-4"><a href="#cb6-4"></a>           <span class="at">label =</span> <span class="st">"Our goal is to</span><span class="sc">\n</span><span class="st">reduce this</span><span class="sc">\n</span><span class="st">category"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>           <span class="at">x =</span> <span class="fl">0.65</span>, <span class="at">y =</span> <span class="dv">32</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>           <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">1</span>, </span>
<span id="cb6-7"><a href="#cb6-7"></a>           <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb6-8"><a href="#cb6-8"></a>           <span class="at">angle =</span> <span class="dv">45</span>) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="co"># add a centred label to the fourth bar</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"label"</span>,</span>
<span id="cb6-11"><a href="#cb6-11"></a>           <span class="at">label =</span> <span class="st">"Our goal is</span><span class="sc">\n</span><span class="st">to increase this</span><span class="sc">\n</span><span class="st">category"</span>,</span>
<span id="cb6-12"><a href="#cb6-12"></a>           <span class="at">x =</span> <span class="dv">4</span>, <span class="at">y =</span> <span class="dv">30</span>,</span>
<span id="cb6-13"><a href="#cb6-13"></a>           <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>, </span>
<span id="cb6-14"><a href="#cb6-14"></a>           <span class="at">color =</span> <span class="st">" darkturquoise"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/annotate-text-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>An example of annotation text and label.</figcaption></figure>
</div>
</div>
</div>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>See if you can work out how to make the figure below, starting with the following:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb7-2"><a href="#cb7-2"></a>       <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hint: you will need to add 1 label annotation and 8 separate text annotations.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center" data-webex.hide="true">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb8-2"><a href="#cb8-2"></a>       <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">label =</span> <span class="st">"In the</span><span class="sc">\n</span><span class="st">middle"</span>,</span>
<span id="cb8-6"><a href="#cb8-6"></a>           <span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="fl">0.5</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>           <span class="at">fill =</span> <span class="st">"dodgerblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb8-8"><a href="#cb8-8"></a>           <span class="at">label.padding =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb8-9"><a href="#cb8-9"></a>           <span class="at">label.r =</span> <span class="fu">unit</span>(<span class="fl">1.5</span>, <span class="st">"lines"</span>)) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"Bottom</span><span class="sc">\n</span><span class="st">Left"</span>,</span>
<span id="cb8-11"><a href="#cb8-11"></a>           <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"Top</span><span class="sc">\n</span><span class="st">Left"</span>, </span>
<span id="cb8-13"><a href="#cb8-13"></a>           <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"Bottom</span><span class="sc">\n</span><span class="st">Right"</span>,</span>
<span id="cb8-15"><a href="#cb8-15"></a>           <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"Top</span><span class="sc">\n</span><span class="st">Right"</span>,</span>
<span id="cb8-17"><a href="#cb8-17"></a>           <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"45 degrees"</span>,</span>
<span id="cb8-19"><a href="#cb8-19"></a>           <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">angle =</span> <span class="dv">45</span>) <span class="sc">+</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"90 degrees"</span>,</span>
<span id="cb8-21"><a href="#cb8-21"></a>           <span class="at">x =</span> <span class="fl">0.25</span>, <span class="at">y =</span> <span class="fl">0.5</span>, <span class="at">angle =</span> <span class="dv">90</span>) <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"270 degrees"</span>,</span>
<span id="cb8-23"><a href="#cb8-23"></a>           <span class="at">x =</span> <span class="fl">0.75</span>, <span class="at">y =</span> <span class="fl">0.5</span>, <span class="at">angle =</span> <span class="dv">270</span>)<span class="sc">+</span></span>
<span id="cb8-24"><a href="#cb8-24"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">label =</span> <span class="st">"-45 degrees"</span>,</span>
<span id="cb8-25"><a href="#cb8-25"></a>           <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">angle =</span> <span class="sc">-</span><span class="dv">45</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="other-annotations" class="level4"><h4 class="anchored" data-anchor-id="other-annotations">Other annotations</h4>
<p>You can add other geoms to highlight parts of a plot. The example below adds a rectangle around a group of points, a text label, a straight arrow from the label to the rectangle, and a curved arrow from the label to an individual point.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>point <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="co"># add a rectangle surrounding high step counts</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"rect"</span>,</span>
<span id="cb9-4"><a href="#cb9-4"></a>           <span class="at">xmin =</span> <span class="fl">1.06</span>, <span class="at">xmax =</span> <span class="fl">1.3</span>,</span>
<span id="cb9-5"><a href="#cb9-5"></a>           <span class="at">ymin =</span> <span class="dv">8600</span>, <span class="at">ymax =</span> <span class="dv">10000</span>,</span>
<span id="cb9-6"><a href="#cb9-6"></a>           <span class="at">fill =</span> <span class="st">"transparent"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="co"># add a text label</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>,</span>
<span id="cb9-9"><a href="#cb9-9"></a>           <span class="at">x =</span> <span class="fl">0.7</span>, <span class="at">y =</span> <span class="dv">7500</span>,</span>
<span id="cb9-10"><a href="#cb9-10"></a>           <span class="at">label =</span> <span class="st">"outliers"</span>) <span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  <span class="co"># add an line with an arrow from the text to the box</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"segment"</span>, </span>
<span id="cb9-13"><a href="#cb9-13"></a>           <span class="at">x =</span> <span class="fl">0.75</span>, <span class="at">y =</span> <span class="dv">7500</span>, </span>
<span id="cb9-14"><a href="#cb9-14"></a>           <span class="at">xend =</span> <span class="fl">1.05</span>, <span class="at">yend =</span> <span class="dv">8600</span>,</span>
<span id="cb9-15"><a href="#cb9-15"></a>           <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"lines"</span>))) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="co"># add a curved line with an arrow </span></span>
<span id="cb9-17"><a href="#cb9-17"></a>  <span class="co"># from the text to a gait speed outlier</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"curve"</span>, </span>
<span id="cb9-19"><a href="#cb9-19"></a>          <span class="at">x =</span> <span class="fl">0.65</span>, <span class="at">y =</span> <span class="dv">7500</span>, </span>
<span id="cb9-20"><a href="#cb9-20"></a>          <span class="at">xend =</span> <span class="fl">0.525</span>, <span class="at">yend =</span> <span class="dv">3650</span>,</span>
<span id="cb9-21"><a href="#cb9-21"></a>          <span class="at">curvature =</span> <span class="fl">0.5</span>,</span>
<span id="cb9-22"><a href="#cb9-22"></a>          <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"lines"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/annotation-other-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Example of annotations with the rect, text, segment, and curve geoms.</figcaption></figure>
</div>
</div>
</div>
<p>See the <pkg>ggforce”, “https://ggforce.data-imaginist.com/”)` package for more sophisticated options, such as highlighting a group of points with an ellipse.</pkg></p>
</section></section><section id="sec-other-plots" class="level3" data-number="10.1.4"><h3 data-number="10.1.4" class="anchored" data-anchor-id="sec-other-plots">
<span class="header-section-number">10.1.4</span> Other Plots</h3>
<section id="frequency-and-density-plots" class="level4"><h4 class="anchored" data-anchor-id="frequency-and-density-plots">Frequency and density plots</h4>
<p>In <a href="03-viz.html#sec-histogram" class="quarto-xref"><span>Section 3.4.2</span></a>, we showed you how to use a histogram to show the distribution of one continuous variable. You can also use frequency or density plots.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>function_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"data/Function_and_PA_data.csv"</span>,</span>
<span id="cb10-2"><a href="#cb10-2"></a>                        <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="fu">ggplot</span>(function_data, <span class="fu">aes</span>(<span class="at">x =</span> steps)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/histogram-example-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Histogram of steps.</figcaption></figure>
</div>
</div>
</div>
<section id="sec-freqpoly" class="level5"><h5 class="anchored" data-anchor-id="sec-freqpoly">Frequency plot</h5>
<p>Rather than plotting each bin as a bar, you can connect a line across the top of each bin using a frequency plot. The function <code>geom_freqpoly()</code> works the same as <code>geom_histogram()</code>, except it can’t take a <code>fill</code> argument because it’s just a line.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">ggplot</span>(function_data, <span class="fu">aes</span>(<span class="at">x =</span> steps)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Number of steps"</span>,</span>
<span id="cb12-3"><a href="#cb12-3"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10000</span>, <span class="dv">2500</span>)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">boundary =</span> <span class="dv">0</span>, <span class="at">binwidth =</span> <span class="dv">250</span>, </span>
<span id="cb12-5"><a href="#cb12-5"></a>                <span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/freqpoly-example-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Frequency plot of steps.</figcaption></figure>
</div>
</div>
</div>
</section><section id="density-plot" class="level5"><h5 class="anchored" data-anchor-id="density-plot">Density plot</h5>
<p>If the distribution is smooth, a density plot is often a better way to show the distribution. A density plot doesn’t need the <code>binwidth</code> or <code>boundary</code> arguments because it doesn’t split the data into bins, but it can have <code>fill</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">ggplot</span>(function_data, <span class="fu">aes</span>(<span class="at">x =</span> steps)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Number of steps"</span>,</span>
<span id="cb13-3"><a href="#cb13-3"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10000</span>, <span class="dv">2500</span>)) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"purple"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/density-example-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Density plot of steps.</figcaption></figure>
</div>
</div>
</div>
</section><section id="test-your-understanding" class="level5"><h5 class="anchored" data-anchor-id="test-your-understanding">Test your understanding</h5>
<p>Imagine you have a table of the <a href="https://population.un.org/wpp/Download/Standard/Population/" target="_blank">population for each country in the world</a> with the columns <code>country</code> and <code>population</code>. We’ll just look at the 76 countries with populations of less than a million.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/test-one-continuous-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>What kind of plot is A? <select class="webex-select"><option value="blank"></option>
<option value="x">geom_histogram</option>
<option value="x">geom_freqpoly</option>
<option value="answer">geom_density</option></select>
</li>
<li>What kind of plot is B? <select class="webex-select"><option value="blank"></option>
<option value="answer">geom_histogram</option>
<option value="x">geom_freqpoly</option>
<option value="x">geom_density</option></select>
</li>
<li>What kind of plot is C? <select class="webex-select"><option value="blank"></option>
<option value="x">geom_histogram</option>
<option value="answer">geom_freqpoly</option>
<option value="x">geom_density</option></select>
</li>
</ul>
</div>
</div>
</section></section><section id="interactive-plots" class="level4"><h4 class="anchored" data-anchor-id="interactive-plots">Interactive Plots</h4>
<p>The <pkg>plotly</pkg> package can be used to make interactive graphs. Assign your ggplot to a variable and then use the function <code>ggplotly()</code> on the plot object. Note that interactive plots only work in HTML files, not PDFs or Word files.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">ggplotly</span>(point)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f207cbdbcc7f758dc5bd" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-f207cbdbcc7f758dc5bd">{"x":{"data":[{"x":[0.83836478000000003,0.77555239200000003,0.71216827599999999,0.92009043700000004,0.80093592400000002,0.65036332600000002,0.59051370599999997,0.96586561199999998,0.554273248,0.788815975,0.57464820100000003,0.95664054200000004,1.0884453059999999,0.97428625800000002,0.63780069399999995,1.0484796759999999,0.63237076999999997,0.70930778999999999,0.57180345099999996,0.578517795,0.65650772999999996,0.83256918199999996,0.55143874900000001,0.97024124899999997,1.2210328580000001,0.70503544799999995,1.0263193850000001,0.65406829099999997,0.93901771300000003,0.77375829200000001,0.58974653499999996,0.72461694499999996,1.071572661,0.65567123900000002,0.65328061599999998,0.67190897500000002,0.532339275,0.64257085300000005,0.84695088900000004,0.75359827300000004,0.85590910899999995,0.73612546899999998,1.1066321130000001,0.73262518600000004,0.56194239899999998,0.91679626700000005,0.83431190300000002],"y":[3961,1223,600,5852,5163,1070,3633,4636,2393,4087,280,5314,6538,6364,1584,7116,957,3484,2232,2909,1796,3541,1788,3134,6877,4738,5750,2638,4406,3827,1963,4153,8872,2344,3480,4694,3428,2409,5900,2826,4482,4348,6990,4819,930,3257,3194],"text":["gaitspeed: 0.8383648<br />steps: 3961<br />condition_type: Joints","gaitspeed: 0.7755524<br />steps: 1223<br />condition_type: Joints","gaitspeed: 0.7121683<br />steps:  600<br />condition_type: Joints","gaitspeed: 0.9200904<br />steps: 5852<br />condition_type: Joints","gaitspeed: 0.8009359<br />steps: 5163<br />condition_type: Joints","gaitspeed: 0.6503633<br />steps: 1070<br />condition_type: Joints","gaitspeed: 0.5905137<br />steps: 3633<br />condition_type: Joints","gaitspeed: 0.9658656<br />steps: 4636<br />condition_type: Joints","gaitspeed: 0.5542732<br />steps: 2393<br />condition_type: Joints","gaitspeed: 0.7888160<br />steps: 4087<br />condition_type: Joints","gaitspeed: 0.5746482<br />steps:  280<br />condition_type: Joints","gaitspeed: 0.9566405<br />steps: 5314<br />condition_type: Joints","gaitspeed: 1.0884453<br />steps: 6538<br />condition_type: Joints","gaitspeed: 0.9742863<br />steps: 6364<br />condition_type: Joints","gaitspeed: 0.6378007<br />steps: 1584<br />condition_type: Joints","gaitspeed: 1.0484797<br />steps: 7116<br />condition_type: Joints","gaitspeed: 0.6323708<br />steps:  957<br />condition_type: Joints","gaitspeed: 0.7093078<br />steps: 3484<br />condition_type: Joints","gaitspeed: 0.5718035<br />steps: 2232<br />condition_type: Joints","gaitspeed: 0.5785178<br />steps: 2909<br />condition_type: Joints","gaitspeed: 0.6565077<br />steps: 1796<br />condition_type: Joints","gaitspeed: 0.8325692<br />steps: 3541<br />condition_type: Joints","gaitspeed: 0.5514387<br />steps: 1788<br />condition_type: Joints","gaitspeed: 0.9702412<br />steps: 3134<br />condition_type: Joints","gaitspeed: 1.2210329<br />steps: 6877<br />condition_type: Joints","gaitspeed: 0.7050354<br />steps: 4738<br />condition_type: Joints","gaitspeed: 1.0263194<br />steps: 5750<br />condition_type: Joints","gaitspeed: 0.6540683<br />steps: 2638<br />condition_type: Joints","gaitspeed: 0.9390177<br />steps: 4406<br />condition_type: Joints","gaitspeed: 0.7737583<br />steps: 3827<br />condition_type: Joints","gaitspeed: 0.5897465<br />steps: 1963<br />condition_type: Joints","gaitspeed: 0.7246169<br />steps: 4153<br />condition_type: Joints","gaitspeed: 1.0715727<br />steps: 8872<br />condition_type: Joints","gaitspeed: 0.6556712<br />steps: 2344<br />condition_type: Joints","gaitspeed: 0.6532806<br />steps: 3480<br />condition_type: Joints","gaitspeed: 0.6719090<br />steps: 4694<br />condition_type: Joints","gaitspeed: 0.5323393<br />steps: 3428<br />condition_type: Joints","gaitspeed: 0.6425709<br />steps: 2409<br />condition_type: Joints","gaitspeed: 0.8469509<br />steps: 5900<br />condition_type: Joints","gaitspeed: 0.7535983<br />steps: 2826<br />condition_type: Joints","gaitspeed: 0.8559091<br />steps: 4482<br />condition_type: Joints","gaitspeed: 0.7361255<br />steps: 4348<br />condition_type: Joints","gaitspeed: 1.1066321<br />steps: 6990<br />condition_type: Joints","gaitspeed: 0.7326252<br />steps: 4819<br />condition_type: Joints","gaitspeed: 0.5619424<br />steps:  930<br />condition_type: Joints","gaitspeed: 0.9167963<br />steps: 3257<br />condition_type: Joints","gaitspeed: 0.8343119<br />steps: 3194<br />condition_type: Joints"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Joints","legendgroup":"Joints","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.60893708499999999,0.93618559800000001,0.66401004799999996,0.73699295499999995,0.60409349199999995,0.66591858900000001,1.0177706479999999,0.72581064699999998,0.81638854699999996,0.60867512199999996,0.65166050200000003,0.62096214299999997],"y":[2821,4604,2653,3807,1407,2191,5521,2887,3869,5290,3147,1836],"text":["gaitspeed: 0.6089371<br />steps: 2821<br />condition_type: Bones","gaitspeed: 0.9361856<br />steps: 4604<br />condition_type: Bones","gaitspeed: 0.6640100<br />steps: 2653<br />condition_type: Bones","gaitspeed: 0.7369930<br />steps: 3807<br />condition_type: Bones","gaitspeed: 0.6040935<br />steps: 1407<br />condition_type: Bones","gaitspeed: 0.6659186<br />steps: 2191<br />condition_type: Bones","gaitspeed: 1.0177706<br />steps: 5521<br />condition_type: Bones","gaitspeed: 0.7258106<br />steps: 2887<br />condition_type: Bones","gaitspeed: 0.8163885<br />steps: 3869<br />condition_type: Bones","gaitspeed: 0.6086751<br />steps: 5290<br />condition_type: Bones","gaitspeed: 0.6516605<br />steps: 3147<br />condition_type: Bones","gaitspeed: 0.6209621<br />steps: 1836<br />condition_type: Bones"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"Bones","legendgroup":"Bones","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.919292212,1.0972102880000001,0.56474530700000003,0.74496662599999997,0.88028967400000002,0.734286785],"y":[3202,7592,3147,3898,5952,4000],"text":["gaitspeed: 0.9192922<br />steps: 3202<br />condition_type: Muscles","gaitspeed: 1.0972103<br />steps: 7592<br />condition_type: Muscles","gaitspeed: 0.5647453<br />steps: 3147<br />condition_type: Muscles","gaitspeed: 0.7449666<br />steps: 3898<br />condition_type: Muscles","gaitspeed: 0.8802897<br />steps: 5952<br />condition_type: Muscles","gaitspeed: 0.7342868<br />steps: 4000<br />condition_type: Muscles"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"Muscles","legendgroup":"Muscles","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.97599476600000001,1.2306723589999999,1.163457513,0.86477488300000005,1.224998236,1.0560476780000001,1.1614196299999999,1.0529191490000001,0.98576402699999999,1.03841877,1.256963968,1.1290870900000001,1.2211111779999999,1.1414847370000001,1.2685929540000001,1.176458716,1.1202682260000001,1.2974594829999999,1.2686234709999999,1.1397193670000001,1.2347227329999999,1.2927018400000001,0.95120686300000001,0.90216153899999996,0.91237455599999995,1.1154894829999999,0.84450739600000002,1.174041033,0.95428532399999999,1.286520004,1.265285969,1.184998035,1.051127672,1.2256399389999999,1.225120902],"y":[4563,6016,7398,5893,6926,6514,8527,8393,4744,7487,9829,8164,7265,5156,8720,8342,5891,7032,7748,5352,5903,7114,5541,2664,4737,6034,3787,6903,3901,8338,6426,6901,6134,7800,7968],"text":["gaitspeed: 0.9759948<br />steps: 4563<br />condition_type: None","gaitspeed: 1.2306724<br />steps: 6016<br />condition_type: None","gaitspeed: 1.1634575<br />steps: 7398<br />condition_type: None","gaitspeed: 0.8647749<br />steps: 5893<br />condition_type: None","gaitspeed: 1.2249982<br />steps: 6926<br />condition_type: None","gaitspeed: 1.0560477<br />steps: 6514<br />condition_type: None","gaitspeed: 1.1614196<br />steps: 8527<br />condition_type: None","gaitspeed: 1.0529191<br />steps: 8393<br />condition_type: None","gaitspeed: 0.9857640<br />steps: 4744<br />condition_type: None","gaitspeed: 1.0384188<br />steps: 7487<br />condition_type: None","gaitspeed: 1.2569640<br />steps: 9829<br />condition_type: None","gaitspeed: 1.1290871<br />steps: 8164<br />condition_type: None","gaitspeed: 1.2211112<br />steps: 7265<br />condition_type: None","gaitspeed: 1.1414847<br />steps: 5156<br />condition_type: None","gaitspeed: 1.2685930<br />steps: 8720<br />condition_type: None","gaitspeed: 1.1764587<br />steps: 8342<br />condition_type: None","gaitspeed: 1.1202682<br />steps: 5891<br />condition_type: None","gaitspeed: 1.2974595<br />steps: 7032<br />condition_type: None","gaitspeed: 1.2686235<br />steps: 7748<br />condition_type: None","gaitspeed: 1.1397194<br />steps: 5352<br />condition_type: None","gaitspeed: 1.2347227<br />steps: 5903<br />condition_type: None","gaitspeed: 1.2927018<br />steps: 7114<br />condition_type: None","gaitspeed: 0.9512069<br />steps: 5541<br />condition_type: None","gaitspeed: 0.9021615<br />steps: 2664<br />condition_type: None","gaitspeed: 0.9123746<br />steps: 4737<br />condition_type: None","gaitspeed: 1.1154895<br />steps: 6034<br />condition_type: None","gaitspeed: 0.8445074<br />steps: 3787<br />condition_type: None","gaitspeed: 1.1740410<br />steps: 6903<br />condition_type: None","gaitspeed: 0.9542853<br />steps: 3901<br />condition_type: None","gaitspeed: 1.2865200<br />steps: 8338<br />condition_type: None","gaitspeed: 1.2652860<br />steps: 6426<br />condition_type: None","gaitspeed: 1.1849980<br />steps: 6901<br />condition_type: None","gaitspeed: 1.0511277<br />steps: 6134<br />condition_type: None","gaitspeed: 1.2256399<br />steps: 7800<br />condition_type: None","gaitspeed: 1.2251209<br />steps: 7968<br />condition_type: None"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"None","legendgroup":"None","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.532339275,0.5410569152911392,0.5497745555822785,0.5584921958734177,0.567209836164557,0.5759274764556962,0.58464511674683539,0.5933627570379747,0.60208039732911389,0.6107980376202532,0.61951567791139239,0.6282333182025317,0.63695095849367089,0.64566859878481009,0.65438623907594939,0.66310387936708859,0.67182151965822789,0.68053915994936709,0.6892568002405064,0.69797444053164559,0.70669208082278478,0.71540972111392409,0.72412736140506329,0.73284500169620259,0.74156264198734179,0.75028028227848109,0.75899792256962029,0.76771556286075948,0.77643320315189879,0.78515084344303798,0.79386848373417718,0.80258612402531648,0.81130376431645579,0.82002140460759498,0.82873904489873418,0.83745668518987348,0.84617432548101268,0.85489196577215187,0.86360960606329118,0.87232724635443049,0.88104488664556968,0.88976252693670888,0.89848016722784818,0.90719780751898738,0.91591544781012657,0.92463308810126588,0.93335072839240518,0.94206836868354438,0.95078600897468357,0.95950364926582288,0.96822128955696207,0.97693892984810127,0.98565657013924057,0.99437421043037988,1.003091850721519,1.0118094910126583,1.0205271313037976,1.0292447715949367,1.037962411886076,1.0466800521772153,1.0553976924683544,1.0641153327594939,1.072832973050633,1.0815506133417723,1.0902682536329116,1.0989858939240507,1.10770353421519,1.1164211745063293,1.1251388147974684,1.1338564550886077,1.142574095379747,1.1512917356708861,1.1600093759620254,1.1687270162531647,1.1774446565443037,1.1861622968354433,1.1948799371265824,1.2035975774177214,1.212315217708861,1.2210328580000001],"y":[1599.9197941101406,1675.8842868894931,1751.8487796688473,1827.8132724481998,1903.7777652275531,1979.7422580069056,2055.706750786258,2131.6712435656123,2207.6357363449647,2283.600229124318,2359.5647219036705,2435.5292146830238,2511.4937074623772,2587.4582002417296,2663.422693021083,2739.3871858004354,2815.3516785797897,2891.3161713591421,2967.2806641384955,3043.2451569178479,3119.2096496972003,3195.1741424765546,3271.138635255907,3347.1031280352604,3423.0676208146128,3499.0321135939662,3574.9966063733195,3650.961099152672,3726.9255919320253,3802.8900847113778,3878.8545774907302,3954.8190702700845,4030.7835630494378,4106.7480558287898,4182.7125486081422,4258.6770413874965,4334.6415341668489,4410.6060269462014,4486.5705197255556,4562.5350125049081,4638.4995052842623,4714.4639980636148,4790.4284908429672,4866.3929836223197,4942.3574764016721,5018.3219691810264,5094.2864619603806,5170.2509547397331,5246.2154475190855,5322.1799402984379,5398.1444330777904,5474.1089258571428,5550.0734186364971,5626.0379114158513,5702.002404195202,5777.9668969745562,5853.9313897539087,5929.8958825332611,6005.8603753126154,6081.8248680919678,6157.7893608713202,6233.7538536506763,6309.7183464300269,6385.6828392093812,6461.6473319887336,6537.6118247680861,6613.5763175474403,6689.5408103267928,6765.5053031061452,6841.4697958854977,6917.4342886648519,6993.3987814442044,7069.3632742235568,7145.3277670029111,7221.2922597822617,7297.2567525616178,7373.2212453409702,7449.1857381203208,7525.1502308996769,7601.1147236790275],"text":["gaitspeed: 0.5323393<br />steps: 1599.920<br />condition_type: Joints","gaitspeed: 0.5410569<br />steps: 1675.884<br />condition_type: Joints","gaitspeed: 0.5497746<br />steps: 1751.849<br />condition_type: Joints","gaitspeed: 0.5584922<br />steps: 1827.813<br />condition_type: Joints","gaitspeed: 0.5672098<br />steps: 1903.778<br />condition_type: Joints","gaitspeed: 0.5759275<br />steps: 1979.742<br />condition_type: Joints","gaitspeed: 0.5846451<br />steps: 2055.707<br />condition_type: Joints","gaitspeed: 0.5933628<br />steps: 2131.671<br />condition_type: Joints","gaitspeed: 0.6020804<br />steps: 2207.636<br />condition_type: Joints","gaitspeed: 0.6107980<br />steps: 2283.600<br />condition_type: Joints","gaitspeed: 0.6195157<br />steps: 2359.565<br />condition_type: Joints","gaitspeed: 0.6282333<br />steps: 2435.529<br />condition_type: Joints","gaitspeed: 0.6369510<br />steps: 2511.494<br />condition_type: Joints","gaitspeed: 0.6456686<br />steps: 2587.458<br />condition_type: Joints","gaitspeed: 0.6543862<br />steps: 2663.423<br />condition_type: Joints","gaitspeed: 0.6631039<br />steps: 2739.387<br />condition_type: Joints","gaitspeed: 0.6718215<br />steps: 2815.352<br />condition_type: Joints","gaitspeed: 0.6805392<br />steps: 2891.316<br />condition_type: Joints","gaitspeed: 0.6892568<br />steps: 2967.281<br />condition_type: Joints","gaitspeed: 0.6979744<br />steps: 3043.245<br />condition_type: Joints","gaitspeed: 0.7066921<br />steps: 3119.210<br />condition_type: Joints","gaitspeed: 0.7154097<br />steps: 3195.174<br />condition_type: Joints","gaitspeed: 0.7241274<br />steps: 3271.139<br />condition_type: Joints","gaitspeed: 0.7328450<br />steps: 3347.103<br />condition_type: Joints","gaitspeed: 0.7415626<br />steps: 3423.068<br />condition_type: Joints","gaitspeed: 0.7502803<br />steps: 3499.032<br />condition_type: Joints","gaitspeed: 0.7589979<br />steps: 3574.997<br />condition_type: Joints","gaitspeed: 0.7677156<br />steps: 3650.961<br />condition_type: Joints","gaitspeed: 0.7764332<br />steps: 3726.926<br />condition_type: Joints","gaitspeed: 0.7851508<br />steps: 3802.890<br />condition_type: Joints","gaitspeed: 0.7938685<br />steps: 3878.855<br />condition_type: Joints","gaitspeed: 0.8025861<br />steps: 3954.819<br />condition_type: Joints","gaitspeed: 0.8113038<br />steps: 4030.784<br />condition_type: Joints","gaitspeed: 0.8200214<br />steps: 4106.748<br />condition_type: Joints","gaitspeed: 0.8287390<br />steps: 4182.713<br />condition_type: Joints","gaitspeed: 0.8374567<br />steps: 4258.677<br />condition_type: Joints","gaitspeed: 0.8461743<br />steps: 4334.642<br />condition_type: Joints","gaitspeed: 0.8548920<br />steps: 4410.606<br />condition_type: Joints","gaitspeed: 0.8636096<br />steps: 4486.571<br />condition_type: Joints","gaitspeed: 0.8723272<br />steps: 4562.535<br />condition_type: Joints","gaitspeed: 0.8810449<br />steps: 4638.500<br />condition_type: Joints","gaitspeed: 0.8897625<br />steps: 4714.464<br />condition_type: Joints","gaitspeed: 0.8984802<br />steps: 4790.428<br />condition_type: Joints","gaitspeed: 0.9071978<br />steps: 4866.393<br />condition_type: Joints","gaitspeed: 0.9159154<br />steps: 4942.357<br />condition_type: Joints","gaitspeed: 0.9246331<br />steps: 5018.322<br />condition_type: Joints","gaitspeed: 0.9333507<br />steps: 5094.286<br />condition_type: Joints","gaitspeed: 0.9420684<br />steps: 5170.251<br />condition_type: Joints","gaitspeed: 0.9507860<br />steps: 5246.215<br />condition_type: Joints","gaitspeed: 0.9595036<br />steps: 5322.180<br />condition_type: Joints","gaitspeed: 0.9682213<br />steps: 5398.144<br />condition_type: Joints","gaitspeed: 0.9769389<br />steps: 5474.109<br />condition_type: Joints","gaitspeed: 0.9856566<br />steps: 5550.073<br />condition_type: Joints","gaitspeed: 0.9943742<br />steps: 5626.038<br />condition_type: Joints","gaitspeed: 1.0030919<br />steps: 5702.002<br />condition_type: Joints","gaitspeed: 1.0118095<br />steps: 5777.967<br />condition_type: Joints","gaitspeed: 1.0205271<br />steps: 5853.931<br />condition_type: Joints","gaitspeed: 1.0292448<br />steps: 5929.896<br />condition_type: Joints","gaitspeed: 1.0379624<br />steps: 6005.860<br />condition_type: Joints","gaitspeed: 1.0466801<br />steps: 6081.825<br />condition_type: Joints","gaitspeed: 1.0553977<br />steps: 6157.789<br />condition_type: Joints","gaitspeed: 1.0641153<br />steps: 6233.754<br />condition_type: Joints","gaitspeed: 1.0728330<br />steps: 6309.718<br />condition_type: Joints","gaitspeed: 1.0815506<br />steps: 6385.683<br />condition_type: Joints","gaitspeed: 1.0902683<br />steps: 6461.647<br />condition_type: Joints","gaitspeed: 1.0989859<br />steps: 6537.612<br />condition_type: Joints","gaitspeed: 1.1077035<br />steps: 6613.576<br />condition_type: Joints","gaitspeed: 1.1164212<br />steps: 6689.541<br />condition_type: Joints","gaitspeed: 1.1251388<br />steps: 6765.505<br />condition_type: Joints","gaitspeed: 1.1338565<br />steps: 6841.470<br />condition_type: Joints","gaitspeed: 1.1425741<br />steps: 6917.434<br />condition_type: Joints","gaitspeed: 1.1512917<br />steps: 6993.399<br />condition_type: Joints","gaitspeed: 1.1600094<br />steps: 7069.363<br />condition_type: Joints","gaitspeed: 1.1687270<br />steps: 7145.328<br />condition_type: Joints","gaitspeed: 1.1774447<br />steps: 7221.292<br />condition_type: Joints","gaitspeed: 1.1861623<br />steps: 7297.257<br />condition_type: Joints","gaitspeed: 1.1948799<br />steps: 7373.221<br />condition_type: Joints","gaitspeed: 1.2035976<br />steps: 7449.186<br />condition_type: Joints","gaitspeed: 1.2123152<br />steps: 7525.150<br />condition_type: Joints","gaitspeed: 1.2210329<br />steps: 7601.115<br />condition_type: Joints"],"type":"scatter","mode":"lines","name":"Joints","line":{"width":3.7795275590551185,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","legendgroup":"Joints","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.60409349199999995,0.60932991169620243,0.61456633139240502,0.6198027510886075,0.62503917078481008,0.63027559048101256,0.63551201017721515,0.64074842987341762,0.64598484956962021,0.65122126926582269,0.65645768896202528,0.66169410865822775,0.66693052835443034,0.67216694805063282,0.67740336774683541,0.68263978744303788,0.68787620713924047,0.69311262683544295,0.69834904653164553,0.70358546622784801,0.7088218859240506,0.71405830562025308,0.71929472531645566,0.72453114501265814,0.72976756470886073,0.7350039844050632,0.74024040410126579,0.74547682379746827,0.75071324349367086,0.75594966318987333,0.76118608288607592,0.7664225025822784,0.77165892227848099,0.77689534197468346,0.78213176167088605,0.78736818136708853,0.79260460106329111,0.79784102075949359,0.80307744045569618,0.80831386015189866,0.81355027984810124,0.81878669954430372,0.82402311924050631,0.82925953893670878,0.83449595863291137,0.83973237832911385,0.84496879802531644,0.85020521772151891,0.85544163741772139,0.86067805711392398,0.86591447681012657,0.87115089650632904,0.87638731620253152,0.88162373589873411,0.88686015559493669,0.89209657529113917,0.89733299498734165,0.90256941468354424,0.90780583437974682,0.9130422540759493,0.91827867377215178,0.92351509346835436,0.92875151316455695,0.93398793286075943,0.93922435255696191,0.94446077225316449,0.94969719194936708,0.95493361164556956,0.96017003134177203,0.96540645103797462,0.97064287073417721,0.97587929043037969,0.98111571012658216,0.98635212982278475,0.99158854951898734,0.99682496921518982,1.0020613889113923,1.007297808607595,1.0125342283037975,1.0177706479999999],"y":[2583.3985092470039,2616.9830002922417,2650.5674913374796,2684.1519823827175,2717.7364734279563,2751.3209644731942,2784.9054555184321,2818.4899465636699,2852.0744376089087,2885.6589286541466,2919.2434196993845,2952.8279107446224,2986.4124017898612,3019.9968928350982,3053.5813838803369,3087.1658749255748,3120.7503659708127,3154.3348570160506,3187.9193480612894,3221.5038391065273,3255.0883301517651,3288.672821197003,3322.2573122422418,3355.8418032874797,3389.4262943327176,3423.0107853779555,3456.5952764231943,3490.1797674684312,3523.76425851367,3557.3487495589079,3590.9332406041458,3624.5177316493837,3658.1022226946225,3691.6867137398604,3725.2712047850982,3758.8556958303361,3792.4401868755749,3826.0246779208128,3859.6091689660507,3893.1936600112886,3926.7781510565273,3960.3626421017643,3993.9471331470031,4027.531624192241,4061.1161152374789,4094.7006062827168,4128.2850973279556,4161.8695883731934,4195.4540794184313,4229.0385704636692,4262.623061508908,4296.2075525541459,4329.7920435993829,4363.3765346446216,4396.9610256898604,4430.5455167350974,4464.1300077803353,4497.7144988255741,4531.298989870812,4564.8834809160498,4598.4679719612877,4632.0524630065265,4665.6369540517644,4699.2214450970023,4732.8059361422402,4766.390427187479,4799.9749182327168,4833.5594092779547,4867.1439003231926,4900.7283913684305,4934.3128824136693,4967.8973734589072,5001.4818645041451,5035.0663555493829,5068.6508465946217,5102.2353376398596,5135.8198286850966,5169.4043197303363,5202.9888107755742,5236.573301820812],"text":["gaitspeed: 0.6040935<br />steps: 2583.399<br />condition_type: Bones","gaitspeed: 0.6093299<br />steps: 2616.983<br />condition_type: Bones","gaitspeed: 0.6145663<br />steps: 2650.567<br />condition_type: Bones","gaitspeed: 0.6198028<br />steps: 2684.152<br />condition_type: Bones","gaitspeed: 0.6250392<br />steps: 2717.736<br />condition_type: Bones","gaitspeed: 0.6302756<br />steps: 2751.321<br />condition_type: Bones","gaitspeed: 0.6355120<br />steps: 2784.905<br />condition_type: Bones","gaitspeed: 0.6407484<br />steps: 2818.490<br />condition_type: Bones","gaitspeed: 0.6459848<br />steps: 2852.074<br />condition_type: Bones","gaitspeed: 0.6512213<br />steps: 2885.659<br />condition_type: Bones","gaitspeed: 0.6564577<br />steps: 2919.243<br />condition_type: Bones","gaitspeed: 0.6616941<br />steps: 2952.828<br />condition_type: Bones","gaitspeed: 0.6669305<br />steps: 2986.412<br />condition_type: Bones","gaitspeed: 0.6721669<br />steps: 3019.997<br />condition_type: Bones","gaitspeed: 0.6774034<br />steps: 3053.581<br />condition_type: Bones","gaitspeed: 0.6826398<br />steps: 3087.166<br />condition_type: Bones","gaitspeed: 0.6878762<br />steps: 3120.750<br />condition_type: Bones","gaitspeed: 0.6931126<br />steps: 3154.335<br />condition_type: Bones","gaitspeed: 0.6983490<br />steps: 3187.919<br />condition_type: Bones","gaitspeed: 0.7035855<br />steps: 3221.504<br />condition_type: Bones","gaitspeed: 0.7088219<br />steps: 3255.088<br />condition_type: Bones","gaitspeed: 0.7140583<br />steps: 3288.673<br />condition_type: Bones","gaitspeed: 0.7192947<br />steps: 3322.257<br />condition_type: Bones","gaitspeed: 0.7245311<br />steps: 3355.842<br />condition_type: Bones","gaitspeed: 0.7297676<br />steps: 3389.426<br />condition_type: Bones","gaitspeed: 0.7350040<br />steps: 3423.011<br />condition_type: Bones","gaitspeed: 0.7402404<br />steps: 3456.595<br />condition_type: Bones","gaitspeed: 0.7454768<br />steps: 3490.180<br />condition_type: Bones","gaitspeed: 0.7507132<br />steps: 3523.764<br />condition_type: Bones","gaitspeed: 0.7559497<br />steps: 3557.349<br />condition_type: Bones","gaitspeed: 0.7611861<br />steps: 3590.933<br />condition_type: Bones","gaitspeed: 0.7664225<br />steps: 3624.518<br />condition_type: Bones","gaitspeed: 0.7716589<br />steps: 3658.102<br />condition_type: Bones","gaitspeed: 0.7768953<br />steps: 3691.687<br />condition_type: Bones","gaitspeed: 0.7821318<br />steps: 3725.271<br />condition_type: Bones","gaitspeed: 0.7873682<br />steps: 3758.856<br />condition_type: Bones","gaitspeed: 0.7926046<br />steps: 3792.440<br />condition_type: Bones","gaitspeed: 0.7978410<br />steps: 3826.025<br />condition_type: Bones","gaitspeed: 0.8030774<br />steps: 3859.609<br />condition_type: Bones","gaitspeed: 0.8083139<br />steps: 3893.194<br />condition_type: Bones","gaitspeed: 0.8135503<br />steps: 3926.778<br />condition_type: Bones","gaitspeed: 0.8187867<br />steps: 3960.363<br />condition_type: Bones","gaitspeed: 0.8240231<br />steps: 3993.947<br />condition_type: Bones","gaitspeed: 0.8292595<br />steps: 4027.532<br />condition_type: Bones","gaitspeed: 0.8344960<br />steps: 4061.116<br />condition_type: Bones","gaitspeed: 0.8397324<br />steps: 4094.701<br />condition_type: Bones","gaitspeed: 0.8449688<br />steps: 4128.285<br />condition_type: Bones","gaitspeed: 0.8502052<br />steps: 4161.870<br />condition_type: Bones","gaitspeed: 0.8554416<br />steps: 4195.454<br />condition_type: Bones","gaitspeed: 0.8606781<br />steps: 4229.039<br />condition_type: Bones","gaitspeed: 0.8659145<br />steps: 4262.623<br />condition_type: Bones","gaitspeed: 0.8711509<br />steps: 4296.208<br />condition_type: Bones","gaitspeed: 0.8763873<br />steps: 4329.792<br />condition_type: Bones","gaitspeed: 0.8816237<br />steps: 4363.377<br />condition_type: Bones","gaitspeed: 0.8868602<br />steps: 4396.961<br />condition_type: Bones","gaitspeed: 0.8920966<br />steps: 4430.546<br />condition_type: Bones","gaitspeed: 0.8973330<br />steps: 4464.130<br />condition_type: Bones","gaitspeed: 0.9025694<br />steps: 4497.714<br />condition_type: Bones","gaitspeed: 0.9078058<br />steps: 4531.299<br />condition_type: Bones","gaitspeed: 0.9130423<br />steps: 4564.883<br />condition_type: Bones","gaitspeed: 0.9182787<br />steps: 4598.468<br />condition_type: Bones","gaitspeed: 0.9235151<br />steps: 4632.052<br />condition_type: Bones","gaitspeed: 0.9287515<br />steps: 4665.637<br />condition_type: Bones","gaitspeed: 0.9339879<br />steps: 4699.221<br />condition_type: Bones","gaitspeed: 0.9392244<br />steps: 4732.806<br />condition_type: Bones","gaitspeed: 0.9444608<br />steps: 4766.390<br />condition_type: Bones","gaitspeed: 0.9496972<br />steps: 4799.975<br />condition_type: Bones","gaitspeed: 0.9549336<br />steps: 4833.559<br />condition_type: Bones","gaitspeed: 0.9601700<br />steps: 4867.144<br />condition_type: Bones","gaitspeed: 0.9654065<br />steps: 4900.728<br />condition_type: Bones","gaitspeed: 0.9706429<br />steps: 4934.313<br />condition_type: Bones","gaitspeed: 0.9758793<br />steps: 4967.897<br />condition_type: Bones","gaitspeed: 0.9811157<br />steps: 5001.482<br />condition_type: Bones","gaitspeed: 0.9863521<br />steps: 5035.066<br />condition_type: Bones","gaitspeed: 0.9915885<br />steps: 5068.651<br />condition_type: Bones","gaitspeed: 0.9968250<br />steps: 5102.235<br />condition_type: Bones","gaitspeed: 1.0020614<br />steps: 5135.820<br />condition_type: Bones","gaitspeed: 1.0072978<br />steps: 5169.404<br />condition_type: Bones","gaitspeed: 1.0125342<br />steps: 5202.989<br />condition_type: Bones","gaitspeed: 1.0177706<br />steps: 5236.573<br />condition_type: Bones"],"type":"scatter","mode":"lines","name":"Bones","line":{"width":3.7795275590551185,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","legendgroup":"Bones","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.56474530700000003,0.57148537005063293,0.57822543310126584,0.58496549615189875,0.59170555920253165,0.59844562225316456,0.60518568530379746,0.61192574835443037,0.61866581140506338,0.62540587445569629,0.63214593750632919,0.6388860005569621,0.645626063607595,0.65236612665822791,0.65910618970886081,0.66584625275949372,0.67258631581012662,0.67932637886075953,0.68606644191139243,0.69280650496202534,0.69954656801265824,0.70628663106329115,0.71302669411392405,0.71976675716455696,0.72650682021518986,0.73324688326582277,0.73998694631645567,0.74672700936708869,0.7534670724177216,0.7602071354683545,0.76694719851898741,0.77368726156962031,0.78042732462025322,0.78716738767088612,0.79390745072151903,0.80064751377215193,0.80738757682278484,0.81412763987341774,0.82086770292405076,0.82760776597468366,0.83434782902531657,0.84108789207594947,0.84782795512658238,0.85456801817721528,0.86130808122784819,0.86804814427848109,0.874788207329114,0.8815282703797469,0.88826833343037981,0.89500839648101271,0.90174845953164562,0.90848852258227852,0.91522858563291143,0.92196864868354433,0.92870871173417724,0.93544877478481014,0.94218883783544305,0.94892890088607595,0.95566896393670886,0.96240902698734176,0.96914909003797478,0.97588915308860769,0.98262921613924059,0.9893692791898735,0.9961093422405064,1.0028494052911392,1.0095894683417721,1.016329531392405,1.0230695944430379,1.029809657493671,1.0365497205443039,1.0432897835949368,1.0500298466455698,1.0567699096962027,1.0635099727468356,1.0702500357974685,1.0769900988481014,1.0837301618987343,1.0904702249493672,1.0972102880000001],"y":[2716.8667646300582,2766.7546871402437,2816.6426096504292,2866.5305321606156,2916.4184546708011,2966.3063771809875,3016.194299691173,3066.0822222013585,3115.9701447115458,3165.8580672217313,3215.7459897319177,3265.6339122421032,3315.5218347522887,3365.4097572624751,3415.2976797726606,3465.185602282847,3515.0735247930324,3564.9614473032179,3614.8493698134043,3664.7372923235898,3714.6252148337762,3764.5131373439617,3814.4010598541481,3864.2889823643336,3914.1769048745191,3964.0648273847055,4013.952749894891,4063.8406724050774,4113.7285949152638,4163.6165174254493,4213.5044399356357,4263.3923624458212,4313.2802849560076,4363.1682074661931,4413.0561299763785,4462.9440524865649,4512.8319749967504,4562.7198975069368,4612.6078200171232,4662.4957425273087,4712.3836650374951,4762.2715875476806,4812.159510057867,4862.0474325680525,4911.935355078238,4961.8232775884244,5011.7112000986099,5061.5991226087963,5111.4870451189818,5161.3749676291673,5211.2628901393537,5261.1508126495391,5311.0387351597255,5360.926657669911,5410.8145801800974,5460.7025026902829,5510.5904252004684,5560.4783477106548,5610.3662702208403,5660.2541927310267,5710.1421152412131,5760.0300377513986,5809.917960261585,5859.8058827717705,5909.6938052819569,5959.5817277921415,6009.469650302327,6059.3575728125134,6109.2454953226988,6159.1334178328871,6209.0213403430726,6258.909262853258,6308.7971853634444,6358.6851078736299,6408.5730303838163,6458.4609528940018,6508.3488754041873,6558.2367979143737,6608.1247204245592,6658.0126429347456],"text":["gaitspeed: 0.5647453<br />steps: 2716.867<br />condition_type: Muscles","gaitspeed: 0.5714854<br />steps: 2766.755<br />condition_type: Muscles","gaitspeed: 0.5782254<br />steps: 2816.643<br />condition_type: Muscles","gaitspeed: 0.5849655<br />steps: 2866.531<br />condition_type: Muscles","gaitspeed: 0.5917056<br />steps: 2916.418<br />condition_type: Muscles","gaitspeed: 0.5984456<br />steps: 2966.306<br />condition_type: Muscles","gaitspeed: 0.6051857<br />steps: 3016.194<br />condition_type: Muscles","gaitspeed: 0.6119257<br />steps: 3066.082<br />condition_type: Muscles","gaitspeed: 0.6186658<br />steps: 3115.970<br />condition_type: Muscles","gaitspeed: 0.6254059<br />steps: 3165.858<br />condition_type: Muscles","gaitspeed: 0.6321459<br />steps: 3215.746<br />condition_type: Muscles","gaitspeed: 0.6388860<br />steps: 3265.634<br />condition_type: Muscles","gaitspeed: 0.6456261<br />steps: 3315.522<br />condition_type: Muscles","gaitspeed: 0.6523661<br />steps: 3365.410<br />condition_type: Muscles","gaitspeed: 0.6591062<br />steps: 3415.298<br />condition_type: Muscles","gaitspeed: 0.6658463<br />steps: 3465.186<br />condition_type: Muscles","gaitspeed: 0.6725863<br />steps: 3515.074<br />condition_type: Muscles","gaitspeed: 0.6793264<br />steps: 3564.961<br />condition_type: Muscles","gaitspeed: 0.6860664<br />steps: 3614.849<br />condition_type: Muscles","gaitspeed: 0.6928065<br />steps: 3664.737<br />condition_type: Muscles","gaitspeed: 0.6995466<br />steps: 3714.625<br />condition_type: Muscles","gaitspeed: 0.7062866<br />steps: 3764.513<br />condition_type: Muscles","gaitspeed: 0.7130267<br />steps: 3814.401<br />condition_type: Muscles","gaitspeed: 0.7197668<br />steps: 3864.289<br />condition_type: Muscles","gaitspeed: 0.7265068<br />steps: 3914.177<br />condition_type: Muscles","gaitspeed: 0.7332469<br />steps: 3964.065<br />condition_type: Muscles","gaitspeed: 0.7399869<br />steps: 4013.953<br />condition_type: Muscles","gaitspeed: 0.7467270<br />steps: 4063.841<br />condition_type: Muscles","gaitspeed: 0.7534671<br />steps: 4113.729<br />condition_type: Muscles","gaitspeed: 0.7602071<br />steps: 4163.617<br />condition_type: Muscles","gaitspeed: 0.7669472<br />steps: 4213.504<br />condition_type: Muscles","gaitspeed: 0.7736873<br />steps: 4263.392<br />condition_type: Muscles","gaitspeed: 0.7804273<br />steps: 4313.280<br />condition_type: Muscles","gaitspeed: 0.7871674<br />steps: 4363.168<br />condition_type: Muscles","gaitspeed: 0.7939075<br />steps: 4413.056<br />condition_type: Muscles","gaitspeed: 0.8006475<br />steps: 4462.944<br />condition_type: Muscles","gaitspeed: 0.8073876<br />steps: 4512.832<br />condition_type: Muscles","gaitspeed: 0.8141276<br />steps: 4562.720<br />condition_type: Muscles","gaitspeed: 0.8208677<br />steps: 4612.608<br />condition_type: Muscles","gaitspeed: 0.8276078<br />steps: 4662.496<br />condition_type: Muscles","gaitspeed: 0.8343478<br />steps: 4712.384<br />condition_type: Muscles","gaitspeed: 0.8410879<br />steps: 4762.272<br />condition_type: Muscles","gaitspeed: 0.8478280<br />steps: 4812.160<br />condition_type: Muscles","gaitspeed: 0.8545680<br />steps: 4862.047<br />condition_type: Muscles","gaitspeed: 0.8613081<br />steps: 4911.935<br />condition_type: Muscles","gaitspeed: 0.8680481<br />steps: 4961.823<br />condition_type: Muscles","gaitspeed: 0.8747882<br />steps: 5011.711<br />condition_type: Muscles","gaitspeed: 0.8815283<br />steps: 5061.599<br />condition_type: Muscles","gaitspeed: 0.8882683<br />steps: 5111.487<br />condition_type: Muscles","gaitspeed: 0.8950084<br />steps: 5161.375<br />condition_type: Muscles","gaitspeed: 0.9017485<br />steps: 5211.263<br />condition_type: Muscles","gaitspeed: 0.9084885<br />steps: 5261.151<br />condition_type: Muscles","gaitspeed: 0.9152286<br />steps: 5311.039<br />condition_type: Muscles","gaitspeed: 0.9219686<br />steps: 5360.927<br />condition_type: Muscles","gaitspeed: 0.9287087<br />steps: 5410.815<br />condition_type: Muscles","gaitspeed: 0.9354488<br />steps: 5460.703<br />condition_type: Muscles","gaitspeed: 0.9421888<br />steps: 5510.590<br />condition_type: Muscles","gaitspeed: 0.9489289<br />steps: 5560.478<br />condition_type: Muscles","gaitspeed: 0.9556690<br />steps: 5610.366<br />condition_type: Muscles","gaitspeed: 0.9624090<br />steps: 5660.254<br />condition_type: Muscles","gaitspeed: 0.9691491<br />steps: 5710.142<br />condition_type: Muscles","gaitspeed: 0.9758892<br />steps: 5760.030<br />condition_type: Muscles","gaitspeed: 0.9826292<br />steps: 5809.918<br />condition_type: Muscles","gaitspeed: 0.9893693<br />steps: 5859.806<br />condition_type: Muscles","gaitspeed: 0.9961093<br />steps: 5909.694<br />condition_type: Muscles","gaitspeed: 1.0028494<br />steps: 5959.582<br />condition_type: Muscles","gaitspeed: 1.0095895<br />steps: 6009.470<br />condition_type: Muscles","gaitspeed: 1.0163295<br />steps: 6059.358<br />condition_type: Muscles","gaitspeed: 1.0230696<br />steps: 6109.245<br />condition_type: Muscles","gaitspeed: 1.0298097<br />steps: 6159.133<br />condition_type: Muscles","gaitspeed: 1.0365497<br />steps: 6209.021<br />condition_type: Muscles","gaitspeed: 1.0432898<br />steps: 6258.909<br />condition_type: Muscles","gaitspeed: 1.0500298<br />steps: 6308.797<br />condition_type: Muscles","gaitspeed: 1.0567699<br />steps: 6358.685<br />condition_type: Muscles","gaitspeed: 1.0635100<br />steps: 6408.573<br />condition_type: Muscles","gaitspeed: 1.0702500<br />steps: 6458.461<br />condition_type: Muscles","gaitspeed: 1.0769901<br />steps: 6508.349<br />condition_type: Muscles","gaitspeed: 1.0837302<br />steps: 6558.237<br />condition_type: Muscles","gaitspeed: 1.0904702<br />steps: 6608.125<br />condition_type: Muscles","gaitspeed: 1.0972103<br />steps: 6658.013<br />condition_type: Muscles"],"type":"scatter","mode":"lines","name":"Muscles","line":{"width":3.7795275590551185,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","legendgroup":"Muscles","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.84450739600000002,0.85024096672151905,0.85597453744303797,0.86170810816455701,0.86744167888607593,0.87317524960759496,0.87890882032911399,0.88464239105063291,0.89037596177215195,0.89610953249367087,0.9018431032151899,0.90757667393670882,0.91331024465822785,0.91904381537974689,0.92477738610126581,0.93051095682278484,0.93624452754430376,0.94197809826582279,0.94771166898734172,0.95344523970886075,0.95917881043037978,0.9649123811518987,0.97064595187341773,0.97637952259493677,0.98211309331645569,0.98784666403797472,0.99358023475949364,0.99931380548101267,1.0050473762025316,1.0107809469240507,1.0165145176455697,1.0222480883670886,1.0279816590886075,1.0337152298101266,1.0394488005316456,1.0451823712531645,1.0509159419746834,1.0566495126962026,1.0623830834177215,1.0681166541392404,1.0738502248607595,1.0795837955822785,1.0853173663037974,1.0910509370253165,1.0967845077468354,1.1025180784683544,1.1082516491898735,1.1139852199113924,1.1197187906329114,1.1254523613544303,1.1311859320759494,1.1369195027974683,1.1426530735189873,1.1483866442405062,1.1541202149620253,1.1598537856835442,1.1655873564050632,1.1713209271265823,1.1770544978481012,1.1827880685696202,1.1885216392911393,1.1942552100126582,1.1999887807341771,1.2057223514556963,1.2114559221772152,1.2171894928987341,1.222923063620253,1.2286566343417722,1.2343902050632911,1.24012377578481,1.245857346506329,1.2515909172278481,1.257324487949367,1.2630580586708859,1.2687916293924051,1.274525200113924,1.2802587708354429,1.2859923415569621,1.291725912278481,1.2974594829999999],"y":[4234.6371325488744,4282.3740636304155,4330.1109947119548,4377.8479257934978,4425.5848568750371,4473.3217879565782,4521.0587190381193,4568.7956501196604,4616.5325812012015,4664.2695122827408,4712.0064433642819,4759.7433744458231,4807.4803055273642,4855.2172366089053,4902.9541676904446,4950.6910987719857,4998.4280298535268,5046.1649609350679,5093.9018920166072,5141.6388230981502,5189.3757541796913,5237.1126852612306,5284.8496163427717,5332.5865474243128,5380.3234785058539,5428.060409587395,5475.7973406689362,5523.5342717504773,5571.2712028320166,5619.0081339135595,5666.7450649950988,5714.4819960766399,5762.2189271581792,5809.9558582397221,5857.6927893212614,5905.4297204028026,5953.1666514843419,6000.9035825658848,6048.6405136474241,6096.3774447289652,6144.1143758105063,6191.8513068920474,6239.5882379735885,6287.3251690551297,6335.0621001366708,6382.7990312182101,6430.535962299753,6478.2728933812923,6526.0098244628334,6573.7467555443727,6621.4836866259157,6669.2206177074549,6716.9575487889961,6764.6944798705354,6812.4314109520783,6860.1683420336176,6907.9052731151587,6955.6422041967016,7003.3791352782409,7051.1160663597821,7098.8529974413232,7146.5899285228643,7194.3268596044036,7242.0637906859465,7289.8007217674858,7337.5376528490269,7385.2745839305662,7433.0115150121092,7480.7484460936485,7528.4853771751896,7576.2223082567289,7623.9592393382718,7671.6961704198129,7719.4331015013522,7767.1700325828951,7814.9069636644344,7862.6438947459756,7910.3808258275167,7958.1177569090578,8005.8546879905971],"text":["gaitspeed: 0.8445074<br />steps: 4234.637<br />condition_type: None","gaitspeed: 0.8502410<br />steps: 4282.374<br />condition_type: None","gaitspeed: 0.8559745<br />steps: 4330.111<br />condition_type: None","gaitspeed: 0.8617081<br />steps: 4377.848<br />condition_type: None","gaitspeed: 0.8674417<br />steps: 4425.585<br />condition_type: None","gaitspeed: 0.8731752<br />steps: 4473.322<br />condition_type: None","gaitspeed: 0.8789088<br />steps: 4521.059<br />condition_type: None","gaitspeed: 0.8846424<br />steps: 4568.796<br />condition_type: None","gaitspeed: 0.8903760<br />steps: 4616.533<br />condition_type: None","gaitspeed: 0.8961095<br />steps: 4664.270<br />condition_type: None","gaitspeed: 0.9018431<br />steps: 4712.006<br />condition_type: None","gaitspeed: 0.9075767<br />steps: 4759.743<br />condition_type: None","gaitspeed: 0.9133102<br />steps: 4807.480<br />condition_type: None","gaitspeed: 0.9190438<br />steps: 4855.217<br />condition_type: None","gaitspeed: 0.9247774<br />steps: 4902.954<br />condition_type: None","gaitspeed: 0.9305110<br />steps: 4950.691<br />condition_type: None","gaitspeed: 0.9362445<br />steps: 4998.428<br />condition_type: None","gaitspeed: 0.9419781<br />steps: 5046.165<br />condition_type: None","gaitspeed: 0.9477117<br />steps: 5093.902<br />condition_type: None","gaitspeed: 0.9534452<br />steps: 5141.639<br />condition_type: None","gaitspeed: 0.9591788<br />steps: 5189.376<br />condition_type: None","gaitspeed: 0.9649124<br />steps: 5237.113<br />condition_type: None","gaitspeed: 0.9706460<br />steps: 5284.850<br />condition_type: None","gaitspeed: 0.9763795<br />steps: 5332.587<br />condition_type: None","gaitspeed: 0.9821131<br />steps: 5380.323<br />condition_type: None","gaitspeed: 0.9878467<br />steps: 5428.060<br />condition_type: None","gaitspeed: 0.9935802<br />steps: 5475.797<br />condition_type: None","gaitspeed: 0.9993138<br />steps: 5523.534<br />condition_type: None","gaitspeed: 1.0050474<br />steps: 5571.271<br />condition_type: None","gaitspeed: 1.0107809<br />steps: 5619.008<br />condition_type: None","gaitspeed: 1.0165145<br />steps: 5666.745<br />condition_type: None","gaitspeed: 1.0222481<br />steps: 5714.482<br />condition_type: None","gaitspeed: 1.0279817<br />steps: 5762.219<br />condition_type: None","gaitspeed: 1.0337152<br />steps: 5809.956<br />condition_type: None","gaitspeed: 1.0394488<br />steps: 5857.693<br />condition_type: None","gaitspeed: 1.0451824<br />steps: 5905.430<br />condition_type: None","gaitspeed: 1.0509159<br />steps: 5953.167<br />condition_type: None","gaitspeed: 1.0566495<br />steps: 6000.904<br />condition_type: None","gaitspeed: 1.0623831<br />steps: 6048.641<br />condition_type: None","gaitspeed: 1.0681167<br />steps: 6096.377<br />condition_type: None","gaitspeed: 1.0738502<br />steps: 6144.114<br />condition_type: None","gaitspeed: 1.0795838<br />steps: 6191.851<br />condition_type: None","gaitspeed: 1.0853174<br />steps: 6239.588<br />condition_type: None","gaitspeed: 1.0910509<br />steps: 6287.325<br />condition_type: None","gaitspeed: 1.0967845<br />steps: 6335.062<br />condition_type: None","gaitspeed: 1.1025181<br />steps: 6382.799<br />condition_type: None","gaitspeed: 1.1082516<br />steps: 6430.536<br />condition_type: None","gaitspeed: 1.1139852<br />steps: 6478.273<br />condition_type: None","gaitspeed: 1.1197188<br />steps: 6526.010<br />condition_type: None","gaitspeed: 1.1254524<br />steps: 6573.747<br />condition_type: None","gaitspeed: 1.1311859<br />steps: 6621.484<br />condition_type: None","gaitspeed: 1.1369195<br />steps: 6669.221<br />condition_type: None","gaitspeed: 1.1426531<br />steps: 6716.958<br />condition_type: None","gaitspeed: 1.1483866<br />steps: 6764.694<br />condition_type: None","gaitspeed: 1.1541202<br />steps: 6812.431<br />condition_type: None","gaitspeed: 1.1598538<br />steps: 6860.168<br />condition_type: None","gaitspeed: 1.1655874<br />steps: 6907.905<br />condition_type: None","gaitspeed: 1.1713209<br />steps: 6955.642<br />condition_type: None","gaitspeed: 1.1770545<br />steps: 7003.379<br />condition_type: None","gaitspeed: 1.1827881<br />steps: 7051.116<br />condition_type: None","gaitspeed: 1.1885216<br />steps: 7098.853<br />condition_type: None","gaitspeed: 1.1942552<br />steps: 7146.590<br />condition_type: None","gaitspeed: 1.1999888<br />steps: 7194.327<br />condition_type: None","gaitspeed: 1.2057224<br />steps: 7242.064<br />condition_type: None","gaitspeed: 1.2114559<br />steps: 7289.801<br />condition_type: None","gaitspeed: 1.2171895<br />steps: 7337.538<br />condition_type: None","gaitspeed: 1.2229231<br />steps: 7385.275<br />condition_type: None","gaitspeed: 1.2286566<br />steps: 7433.012<br />condition_type: None","gaitspeed: 1.2343902<br />steps: 7480.748<br />condition_type: None","gaitspeed: 1.2401238<br />steps: 7528.485<br />condition_type: None","gaitspeed: 1.2458573<br />steps: 7576.222<br />condition_type: None","gaitspeed: 1.2515909<br />steps: 7623.959<br />condition_type: None","gaitspeed: 1.2573245<br />steps: 7671.696<br />condition_type: None","gaitspeed: 1.2630581<br />steps: 7719.433<br />condition_type: None","gaitspeed: 1.2687916<br />steps: 7767.170<br />condition_type: None","gaitspeed: 1.2745252<br />steps: 7814.907<br />condition_type: None","gaitspeed: 1.2802588<br />steps: 7862.644<br />condition_type: None","gaitspeed: 1.2859923<br />steps: 7910.381<br />condition_type: None","gaitspeed: 1.2917259<br />steps: 7958.118<br />condition_type: None","gaitspeed: 1.2974595<br />steps: 8005.855<br />condition_type: None"],"type":"scatter","mode":"lines","name":"None","line":{"width":3.7795275590551185,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","legendgroup":"None","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.532339275,0.5410569152911392,0.5497745555822785,0.5584921958734177,0.567209836164557,0.5759274764556962,0.58464511674683539,0.5933627570379747,0.60208039732911389,0.6107980376202532,0.61951567791139239,0.6282333182025317,0.63695095849367089,0.64566859878481009,0.65438623907594939,0.66310387936708859,0.67182151965822789,0.68053915994936709,0.6892568002405064,0.69797444053164559,0.70669208082278478,0.71540972111392409,0.72412736140506329,0.73284500169620259,0.74156264198734179,0.75028028227848109,0.75899792256962029,0.76771556286075948,0.77643320315189879,0.78515084344303798,0.79386848373417718,0.80258612402531648,0.81130376431645579,0.82002140460759498,0.82873904489873418,0.83745668518987348,0.84617432548101268,0.85489196577215187,0.86360960606329118,0.87232724635443049,0.88104488664556968,0.88976252693670888,0.89848016722784818,0.90719780751898738,0.91591544781012657,0.92463308810126588,0.93335072839240518,0.94206836868354438,0.95078600897468357,0.95950364926582288,0.96822128955696207,0.97693892984810127,0.98565657013924057,0.99437421043037988,1.003091850721519,1.0118094910126583,1.0205271313037976,1.0292447715949367,1.037962411886076,1.0466800521772153,1.0553976924683544,1.0641153327594939,1.072832973050633,1.0815506133417723,1.0902682536329116,1.0989858939240507,1.10770353421519,1.1164211745063293,1.1251388147974684,1.1338564550886077,1.142574095379747,1.1512917356708861,1.1600093759620254,1.1687270162531647,1.1774446565443037,1.1861622968354433,1.1948799371265824,1.2035975774177214,1.212315217708861,1.2210328580000001,1.2210328580000001,1.212315217708861,1.2035975774177214,1.1948799371265824,1.1861622968354433,1.1774446565443037,1.1687270162531647,1.1600093759620254,1.1512917356708861,1.142574095379747,1.1338564550886077,1.1251388147974684,1.1164211745063293,1.10770353421519,1.0989858939240507,1.0902682536329116,1.0815506133417723,1.072832973050633,1.0641153327594939,1.0553976924683544,1.0466800521772153,1.037962411886076,1.0292447715949367,1.0205271313037976,1.0118094910126583,1.003091850721519,0.99437421043037988,0.98565657013924057,0.97693892984810127,0.96822128955696207,0.95950364926582288,0.95078600897468357,0.94206836868354438,0.93335072839240518,0.92463308810126588,0.91591544781012657,0.90719780751898738,0.89848016722784818,0.88976252693670888,0.88104488664556968,0.87232724635443049,0.86360960606329118,0.85489196577215187,0.84617432548101268,0.83745668518987348,0.82873904489873418,0.82002140460759498,0.81130376431645579,0.80258612402531648,0.79386848373417718,0.78515084344303798,0.77643320315189879,0.76771556286075948,0.75899792256962029,0.75028028227848109,0.74156264198734179,0.73284500169620259,0.72412736140506329,0.71540972111392409,0.70669208082278478,0.69797444053164559,0.6892568002405064,0.68053915994936709,0.67182151965822789,0.66310387936708859,0.65438623907594939,0.64566859878481009,0.63695095849367089,0.6282333182025317,0.61951567791139239,0.6107980376202532,0.60208039732911389,0.5933627570379747,0.58464511674683539,0.5759274764556962,0.567209836164557,0.5584921958734177,0.5497745555822785,0.5410569152911392,0.532339275,0.532339275],"y":[982.96724792001851,1073.4155905978173,1163.6790905779098,1253.7439354232281,1343.5951238932532,1433.2163693380544,1522.5900002415917,1611.696859744301,1700.5162067048389,1789.025621762077,1877.2009229452192,1965.0160966546682,2052.4432512803542,2139.452602287749,2226.012499188902,2312.0895062706604,2397.6485500449699,2482.6531468058502,2567.0657230389229,2650.8480393001896,2733.9617241440828,2816.3689184308241,2898.033021818218,2978.9195227700152,3058.9968818276188,3138.2374265765716,3216.6182075175216,3294.1217589084476,3370.7367092890618,3446.4581937644894,3521.2880339739631,3595.2346704498145,3668.3128531448974,3740.5431161074353,3811.9510786480578,3882.566625777099,3952.4230243490861,4021.5560286721766,4090.003021738456,4157.8022276264164,4224.9920189623426,4291.6103322097306,4357.6941940731303,4423.2793550023853,4488.4000207633871,4553.0886700896253,4617.3759451646465,4681.2906016738616,4744.8595059932568,4808.1076684054469,4871.0583027838748,4933.7329047753137,4996.1513420180736,5058.3319512891976,5120.2916386472316,5182.0459796218347,5243.6093173072095,5304.9948568613709,5366.2147554191079,5427.2802068157944,5488.2015208127123,5548.9881967310357,5609.6489915573511,5670.1919826918975,5730.624625582549,5790.9538065323304,5851.1858909921939,5911.3267676602154,5971.3818887070702,6031.3563064389537,6091.2547066957213,6151.0814392654138,6210.8405455782295,6270.5357839240096,6330.1706524184656,6389.748409924935,6449.2720951207093,6508.7445438804425,6568.1684051334096,6627.5461553369887,8574.6832920210654,8482.1320566659451,8389.6269323601991,8297.170395561232,8204.7650951983014,8112.4138671460578,8020.1197500818125,7927.8860028688841,7835.7161236229949,7743.6138706339825,7651.5832853320417,7559.6287175052203,7467.7548529933702,7375.9667441026868,7284.2698430038417,7192.6700383949183,7101.1736957268649,7009.7877013027028,6918.5195105703169,6827.3772009299282,6736.3695293681412,6645.5059952061229,6554.7969082051513,6464.2534622006078,6373.8878143272777,6283.7131697431723,6193.7438715425051,6103.9954952549206,6014.4849469389719,5925.230563371706,5836.252212191429,5747.5713890449142,5659.2113078056045,5571.1969787561147,5483.5552682724274,5396.3149320399571,5309.5066122422541,5223.1627876128041,5137.317663917499,5052.0069916061821,4967.2677973833997,4883.1380177126557,4799.6560252202262,4716.8600439846123,4634.787456997894,4553.4740185682267,4472.9529955501448,4393.2542729539782,4314.4034700903549,4236.4211210074973,4159.3219756582666,4083.1144745749889,4007.8004393968963,3933.3750052291175,3859.8268006113608,3787.1383598016068,3715.2867333005056,3644.2442486935961,3573.9793665222851,3504.4575752503179,3435.6422745355062,3367.495605238068,3299.9791959124341,3233.0548071146095,3166.6848653302104,3100.832886853264,3035.4637981957103,2970.5441636444002,2906.0423327113795,2841.9285208621218,2778.1748364865589,2714.7552659850908,2651.6456273869235,2588.823501330924,2526.2681466757567,2463.9604065618532,2401.8826094731712,2340.0184687597848,2278.3529831811688,2216.8723403002627,982.96724792001851],"text":["gaitspeed: 0.5323393<br />steps: 1599.920<br />condition_type: Joints","gaitspeed: 0.5410569<br />steps: 1675.884<br />condition_type: Joints","gaitspeed: 0.5497746<br />steps: 1751.849<br />condition_type: Joints","gaitspeed: 0.5584922<br />steps: 1827.813<br />condition_type: Joints","gaitspeed: 0.5672098<br />steps: 1903.778<br />condition_type: Joints","gaitspeed: 0.5759275<br />steps: 1979.742<br />condition_type: Joints","gaitspeed: 0.5846451<br />steps: 2055.707<br />condition_type: Joints","gaitspeed: 0.5933628<br />steps: 2131.671<br />condition_type: Joints","gaitspeed: 0.6020804<br />steps: 2207.636<br />condition_type: Joints","gaitspeed: 0.6107980<br />steps: 2283.600<br />condition_type: Joints","gaitspeed: 0.6195157<br />steps: 2359.565<br />condition_type: Joints","gaitspeed: 0.6282333<br />steps: 2435.529<br />condition_type: Joints","gaitspeed: 0.6369510<br />steps: 2511.494<br />condition_type: Joints","gaitspeed: 0.6456686<br />steps: 2587.458<br />condition_type: Joints","gaitspeed: 0.6543862<br />steps: 2663.423<br />condition_type: Joints","gaitspeed: 0.6631039<br />steps: 2739.387<br />condition_type: Joints","gaitspeed: 0.6718215<br />steps: 2815.352<br />condition_type: Joints","gaitspeed: 0.6805392<br />steps: 2891.316<br />condition_type: Joints","gaitspeed: 0.6892568<br />steps: 2967.281<br />condition_type: Joints","gaitspeed: 0.6979744<br />steps: 3043.245<br />condition_type: Joints","gaitspeed: 0.7066921<br />steps: 3119.210<br />condition_type: Joints","gaitspeed: 0.7154097<br />steps: 3195.174<br />condition_type: Joints","gaitspeed: 0.7241274<br />steps: 3271.139<br />condition_type: Joints","gaitspeed: 0.7328450<br />steps: 3347.103<br />condition_type: Joints","gaitspeed: 0.7415626<br />steps: 3423.068<br />condition_type: Joints","gaitspeed: 0.7502803<br />steps: 3499.032<br />condition_type: Joints","gaitspeed: 0.7589979<br />steps: 3574.997<br />condition_type: Joints","gaitspeed: 0.7677156<br />steps: 3650.961<br />condition_type: Joints","gaitspeed: 0.7764332<br />steps: 3726.926<br />condition_type: Joints","gaitspeed: 0.7851508<br />steps: 3802.890<br />condition_type: Joints","gaitspeed: 0.7938685<br />steps: 3878.855<br />condition_type: Joints","gaitspeed: 0.8025861<br />steps: 3954.819<br />condition_type: Joints","gaitspeed: 0.8113038<br />steps: 4030.784<br />condition_type: Joints","gaitspeed: 0.8200214<br />steps: 4106.748<br />condition_type: Joints","gaitspeed: 0.8287390<br />steps: 4182.713<br />condition_type: Joints","gaitspeed: 0.8374567<br />steps: 4258.677<br />condition_type: Joints","gaitspeed: 0.8461743<br />steps: 4334.642<br />condition_type: Joints","gaitspeed: 0.8548920<br />steps: 4410.606<br />condition_type: Joints","gaitspeed: 0.8636096<br />steps: 4486.571<br />condition_type: Joints","gaitspeed: 0.8723272<br />steps: 4562.535<br />condition_type: Joints","gaitspeed: 0.8810449<br />steps: 4638.500<br />condition_type: Joints","gaitspeed: 0.8897625<br />steps: 4714.464<br />condition_type: Joints","gaitspeed: 0.8984802<br />steps: 4790.428<br />condition_type: Joints","gaitspeed: 0.9071978<br />steps: 4866.393<br />condition_type: Joints","gaitspeed: 0.9159154<br />steps: 4942.357<br />condition_type: Joints","gaitspeed: 0.9246331<br />steps: 5018.322<br />condition_type: Joints","gaitspeed: 0.9333507<br />steps: 5094.286<br />condition_type: Joints","gaitspeed: 0.9420684<br />steps: 5170.251<br />condition_type: Joints","gaitspeed: 0.9507860<br />steps: 5246.215<br />condition_type: Joints","gaitspeed: 0.9595036<br />steps: 5322.180<br />condition_type: Joints","gaitspeed: 0.9682213<br />steps: 5398.144<br />condition_type: Joints","gaitspeed: 0.9769389<br />steps: 5474.109<br />condition_type: Joints","gaitspeed: 0.9856566<br />steps: 5550.073<br />condition_type: Joints","gaitspeed: 0.9943742<br />steps: 5626.038<br />condition_type: Joints","gaitspeed: 1.0030919<br />steps: 5702.002<br />condition_type: Joints","gaitspeed: 1.0118095<br />steps: 5777.967<br />condition_type: Joints","gaitspeed: 1.0205271<br />steps: 5853.931<br />condition_type: Joints","gaitspeed: 1.0292448<br />steps: 5929.896<br />condition_type: Joints","gaitspeed: 1.0379624<br />steps: 6005.860<br />condition_type: Joints","gaitspeed: 1.0466801<br />steps: 6081.825<br />condition_type: Joints","gaitspeed: 1.0553977<br />steps: 6157.789<br />condition_type: Joints","gaitspeed: 1.0641153<br />steps: 6233.754<br />condition_type: Joints","gaitspeed: 1.0728330<br />steps: 6309.718<br />condition_type: Joints","gaitspeed: 1.0815506<br />steps: 6385.683<br />condition_type: Joints","gaitspeed: 1.0902683<br />steps: 6461.647<br />condition_type: Joints","gaitspeed: 1.0989859<br />steps: 6537.612<br />condition_type: Joints","gaitspeed: 1.1077035<br />steps: 6613.576<br />condition_type: Joints","gaitspeed: 1.1164212<br />steps: 6689.541<br />condition_type: Joints","gaitspeed: 1.1251388<br />steps: 6765.505<br />condition_type: Joints","gaitspeed: 1.1338565<br />steps: 6841.470<br />condition_type: Joints","gaitspeed: 1.1425741<br />steps: 6917.434<br />condition_type: Joints","gaitspeed: 1.1512917<br />steps: 6993.399<br />condition_type: Joints","gaitspeed: 1.1600094<br />steps: 7069.363<br />condition_type: Joints","gaitspeed: 1.1687270<br />steps: 7145.328<br />condition_type: Joints","gaitspeed: 1.1774447<br />steps: 7221.292<br />condition_type: Joints","gaitspeed: 1.1861623<br />steps: 7297.257<br />condition_type: Joints","gaitspeed: 1.1948799<br />steps: 7373.221<br />condition_type: Joints","gaitspeed: 1.2035976<br />steps: 7449.186<br />condition_type: Joints","gaitspeed: 1.2123152<br />steps: 7525.150<br />condition_type: Joints","gaitspeed: 1.2210329<br />steps: 7601.115<br />condition_type: Joints","gaitspeed: 1.2210329<br />steps: 7601.115<br />condition_type: Joints","gaitspeed: 1.2123152<br />steps: 7525.150<br />condition_type: Joints","gaitspeed: 1.2035976<br />steps: 7449.186<br />condition_type: Joints","gaitspeed: 1.1948799<br />steps: 7373.221<br />condition_type: Joints","gaitspeed: 1.1861623<br />steps: 7297.257<br />condition_type: Joints","gaitspeed: 1.1774447<br />steps: 7221.292<br />condition_type: Joints","gaitspeed: 1.1687270<br />steps: 7145.328<br />condition_type: Joints","gaitspeed: 1.1600094<br />steps: 7069.363<br />condition_type: Joints","gaitspeed: 1.1512917<br />steps: 6993.399<br />condition_type: Joints","gaitspeed: 1.1425741<br />steps: 6917.434<br />condition_type: Joints","gaitspeed: 1.1338565<br />steps: 6841.470<br />condition_type: Joints","gaitspeed: 1.1251388<br />steps: 6765.505<br />condition_type: Joints","gaitspeed: 1.1164212<br />steps: 6689.541<br />condition_type: Joints","gaitspeed: 1.1077035<br />steps: 6613.576<br />condition_type: Joints","gaitspeed: 1.0989859<br />steps: 6537.612<br />condition_type: Joints","gaitspeed: 1.0902683<br />steps: 6461.647<br />condition_type: Joints","gaitspeed: 1.0815506<br />steps: 6385.683<br />condition_type: Joints","gaitspeed: 1.0728330<br />steps: 6309.718<br />condition_type: Joints","gaitspeed: 1.0641153<br />steps: 6233.754<br />condition_type: Joints","gaitspeed: 1.0553977<br />steps: 6157.789<br />condition_type: Joints","gaitspeed: 1.0466801<br />steps: 6081.825<br />condition_type: Joints","gaitspeed: 1.0379624<br />steps: 6005.860<br />condition_type: Joints","gaitspeed: 1.0292448<br />steps: 5929.896<br />condition_type: Joints","gaitspeed: 1.0205271<br />steps: 5853.931<br />condition_type: Joints","gaitspeed: 1.0118095<br />steps: 5777.967<br />condition_type: Joints","gaitspeed: 1.0030919<br />steps: 5702.002<br />condition_type: Joints","gaitspeed: 0.9943742<br />steps: 5626.038<br />condition_type: Joints","gaitspeed: 0.9856566<br />steps: 5550.073<br />condition_type: Joints","gaitspeed: 0.9769389<br />steps: 5474.109<br />condition_type: Joints","gaitspeed: 0.9682213<br />steps: 5398.144<br />condition_type: Joints","gaitspeed: 0.9595036<br />steps: 5322.180<br />condition_type: Joints","gaitspeed: 0.9507860<br />steps: 5246.215<br />condition_type: Joints","gaitspeed: 0.9420684<br />steps: 5170.251<br />condition_type: Joints","gaitspeed: 0.9333507<br />steps: 5094.286<br />condition_type: Joints","gaitspeed: 0.9246331<br />steps: 5018.322<br />condition_type: Joints","gaitspeed: 0.9159154<br />steps: 4942.357<br />condition_type: Joints","gaitspeed: 0.9071978<br />steps: 4866.393<br />condition_type: Joints","gaitspeed: 0.8984802<br />steps: 4790.428<br />condition_type: Joints","gaitspeed: 0.8897625<br />steps: 4714.464<br />condition_type: Joints","gaitspeed: 0.8810449<br />steps: 4638.500<br />condition_type: Joints","gaitspeed: 0.8723272<br />steps: 4562.535<br />condition_type: Joints","gaitspeed: 0.8636096<br />steps: 4486.571<br />condition_type: Joints","gaitspeed: 0.8548920<br />steps: 4410.606<br />condition_type: Joints","gaitspeed: 0.8461743<br />steps: 4334.642<br />condition_type: Joints","gaitspeed: 0.8374567<br />steps: 4258.677<br />condition_type: Joints","gaitspeed: 0.8287390<br />steps: 4182.713<br />condition_type: Joints","gaitspeed: 0.8200214<br />steps: 4106.748<br />condition_type: Joints","gaitspeed: 0.8113038<br />steps: 4030.784<br />condition_type: Joints","gaitspeed: 0.8025861<br />steps: 3954.819<br />condition_type: Joints","gaitspeed: 0.7938685<br />steps: 3878.855<br />condition_type: Joints","gaitspeed: 0.7851508<br />steps: 3802.890<br />condition_type: Joints","gaitspeed: 0.7764332<br />steps: 3726.926<br />condition_type: Joints","gaitspeed: 0.7677156<br />steps: 3650.961<br />condition_type: Joints","gaitspeed: 0.7589979<br />steps: 3574.997<br />condition_type: Joints","gaitspeed: 0.7502803<br />steps: 3499.032<br />condition_type: Joints","gaitspeed: 0.7415626<br />steps: 3423.068<br />condition_type: Joints","gaitspeed: 0.7328450<br />steps: 3347.103<br />condition_type: Joints","gaitspeed: 0.7241274<br />steps: 3271.139<br />condition_type: Joints","gaitspeed: 0.7154097<br />steps: 3195.174<br />condition_type: Joints","gaitspeed: 0.7066921<br />steps: 3119.210<br />condition_type: Joints","gaitspeed: 0.6979744<br />steps: 3043.245<br />condition_type: Joints","gaitspeed: 0.6892568<br />steps: 2967.281<br />condition_type: Joints","gaitspeed: 0.6805392<br />steps: 2891.316<br />condition_type: Joints","gaitspeed: 0.6718215<br />steps: 2815.352<br />condition_type: Joints","gaitspeed: 0.6631039<br />steps: 2739.387<br />condition_type: Joints","gaitspeed: 0.6543862<br />steps: 2663.423<br />condition_type: Joints","gaitspeed: 0.6456686<br />steps: 2587.458<br />condition_type: Joints","gaitspeed: 0.6369510<br />steps: 2511.494<br />condition_type: Joints","gaitspeed: 0.6282333<br />steps: 2435.529<br />condition_type: Joints","gaitspeed: 0.6195157<br />steps: 2359.565<br />condition_type: Joints","gaitspeed: 0.6107980<br />steps: 2283.600<br />condition_type: Joints","gaitspeed: 0.6020804<br />steps: 2207.636<br />condition_type: Joints","gaitspeed: 0.5933628<br />steps: 2131.671<br />condition_type: Joints","gaitspeed: 0.5846451<br />steps: 2055.707<br />condition_type: Joints","gaitspeed: 0.5759275<br />steps: 1979.742<br />condition_type: Joints","gaitspeed: 0.5672098<br />steps: 1903.778<br />condition_type: Joints","gaitspeed: 0.5584922<br />steps: 1827.813<br />condition_type: Joints","gaitspeed: 0.5497746<br />steps: 1751.849<br />condition_type: Joints","gaitspeed: 0.5410569<br />steps: 1675.884<br />condition_type: Joints","gaitspeed: 0.5323393<br />steps: 1599.920<br />condition_type: Joints","gaitspeed: 0.5323393<br />steps: 1599.920<br />condition_type: Joints"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Joints","legendgroup":"Joints","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[0.60409349199999995,0.60932991169620243,0.61456633139240502,0.6198027510886075,0.62503917078481008,0.63027559048101256,0.63551201017721515,0.64074842987341762,0.64598484956962021,0.65122126926582269,0.65645768896202528,0.66169410865822775,0.66693052835443034,0.67216694805063282,0.67740336774683541,0.68263978744303788,0.68787620713924047,0.69311262683544295,0.69834904653164553,0.70358546622784801,0.7088218859240506,0.71405830562025308,0.71929472531645566,0.72453114501265814,0.72976756470886073,0.7350039844050632,0.74024040410126579,0.74547682379746827,0.75071324349367086,0.75594966318987333,0.76118608288607592,0.7664225025822784,0.77165892227848099,0.77689534197468346,0.78213176167088605,0.78736818136708853,0.79260460106329111,0.79784102075949359,0.80307744045569618,0.80831386015189866,0.81355027984810124,0.81878669954430372,0.82402311924050631,0.82925953893670878,0.83449595863291137,0.83973237832911385,0.84496879802531644,0.85020521772151891,0.85544163741772139,0.86067805711392398,0.86591447681012657,0.87115089650632904,0.87638731620253152,0.88162373589873411,0.88686015559493669,0.89209657529113917,0.89733299498734165,0.90256941468354424,0.90780583437974682,0.9130422540759493,0.91827867377215178,0.92351509346835436,0.92875151316455695,0.93398793286075943,0.93922435255696191,0.94446077225316449,0.94969719194936708,0.95493361164556956,0.96017003134177203,0.96540645103797462,0.97064287073417721,0.97587929043037969,0.98111571012658216,0.98635212982278475,0.99158854951898734,0.99682496921518982,1.0020613889113923,1.007297808607595,1.0125342283037975,1.0177706479999999,1.0177706479999999,1.0125342283037975,1.007297808607595,1.0020613889113923,0.99682496921518982,0.99158854951898734,0.98635212982278475,0.98111571012658216,0.97587929043037969,0.97064287073417721,0.96540645103797462,0.96017003134177203,0.95493361164556956,0.94969719194936708,0.94446077225316449,0.93922435255696191,0.93398793286075943,0.92875151316455695,0.92351509346835436,0.91827867377215178,0.9130422540759493,0.90780583437974682,0.90256941468354424,0.89733299498734165,0.89209657529113917,0.88686015559493669,0.88162373589873411,0.87638731620253152,0.87115089650632904,0.86591447681012657,0.86067805711392398,0.85544163741772139,0.85020521772151891,0.84496879802531644,0.83973237832911385,0.83449595863291137,0.82925953893670878,0.82402311924050631,0.81878669954430372,0.81355027984810124,0.80831386015189866,0.80307744045569618,0.79784102075949359,0.79260460106329111,0.78736818136708853,0.78213176167088605,0.77689534197468346,0.77165892227848099,0.7664225025822784,0.76118608288607592,0.75594966318987333,0.75071324349367086,0.74547682379746827,0.74024040410126579,0.7350039844050632,0.72976756470886073,0.72453114501265814,0.71929472531645566,0.71405830562025308,0.7088218859240506,0.70358546622784801,0.69834904653164553,0.69311262683544295,0.68787620713924047,0.68263978744303788,0.67740336774683541,0.67216694805063282,0.66693052835443034,0.66169410865822775,0.65645768896202528,0.65122126926582269,0.64598484956962021,0.64074842987341762,0.63551201017721515,0.63027559048101256,0.62503917078481008,0.6198027510886075,0.61456633139240502,0.60932991169620243,0.60409349199999995,0.60409349199999995],"y":[1693.0389872682463,1744.1951662919639,1794.8858605891978,1845.0826000062248,1894.7554718830938,1943.8731614627523,1992.4030230366882,2040.3111871432782,2087.5627091461429,2134.1217642226866,2179.9518930965701,2225.01630166419,2269.2782159234621,2312.701291276057,2355.2500723585381,2396.8904961532817,2437.5904274152813,2477.3202116976136,2516.0532278226005,2553.76641893748,2590.4407797282879,2626.0617772999594,2660.6196848923319,2694.1098110303469,2726.5326117195427,2757.8936794929787,2788.2036099179595,2817.4777529129747,2845.735862249338,2873.0016613682137,2899.3023467670728,2924.6680515571925,2949.131291442216,2972.7264135722135,2995.4890658601389,3017.4557008268885,3038.6631242709723,3059.1480953816008,3078.9469815855509,3098.0954686003915,3116.6283239353097,3134.5792104414495,3151.9805454219786,3168.8634001927485,3185.2574347484106,3201.190862245111,3216.6904382756265,3231.78147031351,3246.4878431806183,3260.8320569019152,3274.8352738196995,3288.5173723236544,3301.8970049993959,3314.9916593986732,3327.8177199862025,3340.3905301217646,3352.7244531939946,3364.8329322382651,3376.7285475496224,3388.4230719474072,3399.9275234656716,3411.2522153370046,3422.4068032106793,3433.4003296027099,3444.2412656182619,3454.9375500186452,3465.4966257278356,3475.9254738890518,3486.2306455917942,3496.41829139526,3506.494188776086,3516.4637676278653,3526.3321339374634,3536.1040917592982,3545.7841636039775,3555.3766093522245,3564.8854437991959,3574.3144529283009,3583.6672090075031,3592.9470845951992,6880.1995190464249,6822.3104125436457,6764.4941865323717,6706.7542135709973,6649.0940659274947,6591.5175295852659,6534.0286193394677,6476.6315950708267,6419.330979289949,6362.1315760512525,6305.038491341601,6248.057155054591,6191.1933446668572,6134.4532107375981,6077.8433043563127,6021.370606666218,5965.0425605912951,5908.86710489285,5852.8527106760484,5797.0084204569039,5741.3438898846925,5685.8694321920011,5630.596065412883,5575.5355623666765,5520.7005033484302,5466.1043313935188,5411.7614098905706,5357.6870821993698,5303.8977327846369,5250.410849198116,5197.2450840254232,5144.4203156562444,5091.9577064328769,5039.8797563802846,4988.2103503203225,4936.9747957265472,4886.1998481917335,4835.9137208720276,4786.1460737620791,4736.927978177745,4688.2918514221856,4640.2713563465504,4592.9012604600248,4546.217249480178,4500.2556908337838,4455.0533437100576,4410.6470139075072,4367.0731539470289,4324.3674117415749,4282.5641344412188,4241.6958377496021,4201.7926547780025,4162.8817820238883,4124.986942928429,4088.1278912629323,4052.3199769458924,4017.5737955446125,3983.8949395921518,3951.2838650940466,3919.7358805752424,3889.2412592755745,3859.7854682999782,3831.3495023344876,3803.9103045263441,3777.441253697868,3751.9126954021358,3727.2924943941393,3703.5465876562603,3680.6395198250548,3658.5349463021989,3637.1960930856067,3616.5861660716746,3596.6687059840615,3577.4078880001762,3558.7687674836361,3540.7174749728188,3523.2213647592102,3506.2491220857614,3489.7708342925198,3473.7580312257614,1693.0389872682463],"text":["gaitspeed: 0.6040935<br />steps: 2583.399<br />condition_type: Bones","gaitspeed: 0.6093299<br />steps: 2616.983<br />condition_type: Bones","gaitspeed: 0.6145663<br />steps: 2650.567<br />condition_type: Bones","gaitspeed: 0.6198028<br />steps: 2684.152<br />condition_type: Bones","gaitspeed: 0.6250392<br />steps: 2717.736<br />condition_type: Bones","gaitspeed: 0.6302756<br />steps: 2751.321<br />condition_type: Bones","gaitspeed: 0.6355120<br />steps: 2784.905<br />condition_type: Bones","gaitspeed: 0.6407484<br />steps: 2818.490<br />condition_type: Bones","gaitspeed: 0.6459848<br />steps: 2852.074<br />condition_type: Bones","gaitspeed: 0.6512213<br />steps: 2885.659<br />condition_type: Bones","gaitspeed: 0.6564577<br />steps: 2919.243<br />condition_type: Bones","gaitspeed: 0.6616941<br />steps: 2952.828<br />condition_type: Bones","gaitspeed: 0.6669305<br />steps: 2986.412<br />condition_type: Bones","gaitspeed: 0.6721669<br />steps: 3019.997<br />condition_type: Bones","gaitspeed: 0.6774034<br />steps: 3053.581<br />condition_type: Bones","gaitspeed: 0.6826398<br />steps: 3087.166<br />condition_type: Bones","gaitspeed: 0.6878762<br />steps: 3120.750<br />condition_type: Bones","gaitspeed: 0.6931126<br />steps: 3154.335<br />condition_type: Bones","gaitspeed: 0.6983490<br />steps: 3187.919<br />condition_type: Bones","gaitspeed: 0.7035855<br />steps: 3221.504<br />condition_type: Bones","gaitspeed: 0.7088219<br />steps: 3255.088<br />condition_type: Bones","gaitspeed: 0.7140583<br />steps: 3288.673<br />condition_type: Bones","gaitspeed: 0.7192947<br />steps: 3322.257<br />condition_type: Bones","gaitspeed: 0.7245311<br />steps: 3355.842<br />condition_type: Bones","gaitspeed: 0.7297676<br />steps: 3389.426<br />condition_type: Bones","gaitspeed: 0.7350040<br />steps: 3423.011<br />condition_type: Bones","gaitspeed: 0.7402404<br />steps: 3456.595<br />condition_type: Bones","gaitspeed: 0.7454768<br />steps: 3490.180<br />condition_type: Bones","gaitspeed: 0.7507132<br />steps: 3523.764<br />condition_type: Bones","gaitspeed: 0.7559497<br />steps: 3557.349<br />condition_type: Bones","gaitspeed: 0.7611861<br />steps: 3590.933<br />condition_type: Bones","gaitspeed: 0.7664225<br />steps: 3624.518<br />condition_type: Bones","gaitspeed: 0.7716589<br />steps: 3658.102<br />condition_type: Bones","gaitspeed: 0.7768953<br />steps: 3691.687<br />condition_type: Bones","gaitspeed: 0.7821318<br />steps: 3725.271<br />condition_type: Bones","gaitspeed: 0.7873682<br />steps: 3758.856<br />condition_type: Bones","gaitspeed: 0.7926046<br />steps: 3792.440<br />condition_type: Bones","gaitspeed: 0.7978410<br />steps: 3826.025<br />condition_type: Bones","gaitspeed: 0.8030774<br />steps: 3859.609<br />condition_type: Bones","gaitspeed: 0.8083139<br />steps: 3893.194<br />condition_type: Bones","gaitspeed: 0.8135503<br />steps: 3926.778<br />condition_type: Bones","gaitspeed: 0.8187867<br />steps: 3960.363<br />condition_type: Bones","gaitspeed: 0.8240231<br />steps: 3993.947<br />condition_type: Bones","gaitspeed: 0.8292595<br />steps: 4027.532<br />condition_type: Bones","gaitspeed: 0.8344960<br />steps: 4061.116<br />condition_type: Bones","gaitspeed: 0.8397324<br />steps: 4094.701<br />condition_type: Bones","gaitspeed: 0.8449688<br />steps: 4128.285<br />condition_type: Bones","gaitspeed: 0.8502052<br />steps: 4161.870<br />condition_type: Bones","gaitspeed: 0.8554416<br />steps: 4195.454<br />condition_type: Bones","gaitspeed: 0.8606781<br />steps: 4229.039<br />condition_type: Bones","gaitspeed: 0.8659145<br />steps: 4262.623<br />condition_type: Bones","gaitspeed: 0.8711509<br />steps: 4296.208<br />condition_type: Bones","gaitspeed: 0.8763873<br />steps: 4329.792<br />condition_type: Bones","gaitspeed: 0.8816237<br />steps: 4363.377<br />condition_type: Bones","gaitspeed: 0.8868602<br />steps: 4396.961<br />condition_type: Bones","gaitspeed: 0.8920966<br />steps: 4430.546<br />condition_type: Bones","gaitspeed: 0.8973330<br />steps: 4464.130<br />condition_type: Bones","gaitspeed: 0.9025694<br />steps: 4497.714<br />condition_type: Bones","gaitspeed: 0.9078058<br />steps: 4531.299<br />condition_type: Bones","gaitspeed: 0.9130423<br />steps: 4564.883<br />condition_type: Bones","gaitspeed: 0.9182787<br />steps: 4598.468<br />condition_type: Bones","gaitspeed: 0.9235151<br />steps: 4632.052<br />condition_type: Bones","gaitspeed: 0.9287515<br />steps: 4665.637<br />condition_type: Bones","gaitspeed: 0.9339879<br />steps: 4699.221<br />condition_type: Bones","gaitspeed: 0.9392244<br />steps: 4732.806<br />condition_type: Bones","gaitspeed: 0.9444608<br />steps: 4766.390<br />condition_type: Bones","gaitspeed: 0.9496972<br />steps: 4799.975<br />condition_type: Bones","gaitspeed: 0.9549336<br />steps: 4833.559<br />condition_type: Bones","gaitspeed: 0.9601700<br />steps: 4867.144<br />condition_type: Bones","gaitspeed: 0.9654065<br />steps: 4900.728<br />condition_type: Bones","gaitspeed: 0.9706429<br />steps: 4934.313<br />condition_type: Bones","gaitspeed: 0.9758793<br />steps: 4967.897<br />condition_type: Bones","gaitspeed: 0.9811157<br />steps: 5001.482<br />condition_type: Bones","gaitspeed: 0.9863521<br />steps: 5035.066<br />condition_type: Bones","gaitspeed: 0.9915885<br />steps: 5068.651<br />condition_type: Bones","gaitspeed: 0.9968250<br />steps: 5102.235<br />condition_type: Bones","gaitspeed: 1.0020614<br />steps: 5135.820<br />condition_type: Bones","gaitspeed: 1.0072978<br />steps: 5169.404<br />condition_type: Bones","gaitspeed: 1.0125342<br />steps: 5202.989<br />condition_type: Bones","gaitspeed: 1.0177706<br />steps: 5236.573<br />condition_type: Bones","gaitspeed: 1.0177706<br />steps: 5236.573<br />condition_type: Bones","gaitspeed: 1.0125342<br />steps: 5202.989<br />condition_type: Bones","gaitspeed: 1.0072978<br />steps: 5169.404<br />condition_type: Bones","gaitspeed: 1.0020614<br />steps: 5135.820<br />condition_type: Bones","gaitspeed: 0.9968250<br />steps: 5102.235<br />condition_type: Bones","gaitspeed: 0.9915885<br />steps: 5068.651<br />condition_type: Bones","gaitspeed: 0.9863521<br />steps: 5035.066<br />condition_type: Bones","gaitspeed: 0.9811157<br />steps: 5001.482<br />condition_type: Bones","gaitspeed: 0.9758793<br />steps: 4967.897<br />condition_type: Bones","gaitspeed: 0.9706429<br />steps: 4934.313<br />condition_type: Bones","gaitspeed: 0.9654065<br />steps: 4900.728<br />condition_type: Bones","gaitspeed: 0.9601700<br />steps: 4867.144<br />condition_type: Bones","gaitspeed: 0.9549336<br />steps: 4833.559<br />condition_type: Bones","gaitspeed: 0.9496972<br />steps: 4799.975<br />condition_type: Bones","gaitspeed: 0.9444608<br />steps: 4766.390<br />condition_type: Bones","gaitspeed: 0.9392244<br />steps: 4732.806<br />condition_type: Bones","gaitspeed: 0.9339879<br />steps: 4699.221<br />condition_type: Bones","gaitspeed: 0.9287515<br />steps: 4665.637<br />condition_type: Bones","gaitspeed: 0.9235151<br />steps: 4632.052<br />condition_type: Bones","gaitspeed: 0.9182787<br />steps: 4598.468<br />condition_type: Bones","gaitspeed: 0.9130423<br />steps: 4564.883<br />condition_type: Bones","gaitspeed: 0.9078058<br />steps: 4531.299<br />condition_type: Bones","gaitspeed: 0.9025694<br />steps: 4497.714<br />condition_type: Bones","gaitspeed: 0.8973330<br />steps: 4464.130<br />condition_type: Bones","gaitspeed: 0.8920966<br />steps: 4430.546<br />condition_type: Bones","gaitspeed: 0.8868602<br />steps: 4396.961<br />condition_type: Bones","gaitspeed: 0.8816237<br />steps: 4363.377<br />condition_type: Bones","gaitspeed: 0.8763873<br />steps: 4329.792<br />condition_type: Bones","gaitspeed: 0.8711509<br />steps: 4296.208<br />condition_type: Bones","gaitspeed: 0.8659145<br />steps: 4262.623<br />condition_type: Bones","gaitspeed: 0.8606781<br />steps: 4229.039<br />condition_type: Bones","gaitspeed: 0.8554416<br />steps: 4195.454<br />condition_type: Bones","gaitspeed: 0.8502052<br />steps: 4161.870<br />condition_type: Bones","gaitspeed: 0.8449688<br />steps: 4128.285<br />condition_type: Bones","gaitspeed: 0.8397324<br />steps: 4094.701<br />condition_type: Bones","gaitspeed: 0.8344960<br />steps: 4061.116<br />condition_type: Bones","gaitspeed: 0.8292595<br />steps: 4027.532<br />condition_type: Bones","gaitspeed: 0.8240231<br />steps: 3993.947<br />condition_type: Bones","gaitspeed: 0.8187867<br />steps: 3960.363<br />condition_type: Bones","gaitspeed: 0.8135503<br />steps: 3926.778<br />condition_type: Bones","gaitspeed: 0.8083139<br />steps: 3893.194<br />condition_type: Bones","gaitspeed: 0.8030774<br />steps: 3859.609<br />condition_type: Bones","gaitspeed: 0.7978410<br />steps: 3826.025<br />condition_type: Bones","gaitspeed: 0.7926046<br />steps: 3792.440<br />condition_type: Bones","gaitspeed: 0.7873682<br />steps: 3758.856<br />condition_type: Bones","gaitspeed: 0.7821318<br />steps: 3725.271<br />condition_type: Bones","gaitspeed: 0.7768953<br />steps: 3691.687<br />condition_type: Bones","gaitspeed: 0.7716589<br />steps: 3658.102<br />condition_type: Bones","gaitspeed: 0.7664225<br />steps: 3624.518<br />condition_type: Bones","gaitspeed: 0.7611861<br />steps: 3590.933<br />condition_type: Bones","gaitspeed: 0.7559497<br />steps: 3557.349<br />condition_type: Bones","gaitspeed: 0.7507132<br />steps: 3523.764<br />condition_type: Bones","gaitspeed: 0.7454768<br />steps: 3490.180<br />condition_type: Bones","gaitspeed: 0.7402404<br />steps: 3456.595<br />condition_type: Bones","gaitspeed: 0.7350040<br />steps: 3423.011<br />condition_type: Bones","gaitspeed: 0.7297676<br />steps: 3389.426<br />condition_type: Bones","gaitspeed: 0.7245311<br />steps: 3355.842<br />condition_type: Bones","gaitspeed: 0.7192947<br />steps: 3322.257<br />condition_type: Bones","gaitspeed: 0.7140583<br />steps: 3288.673<br />condition_type: Bones","gaitspeed: 0.7088219<br />steps: 3255.088<br />condition_type: Bones","gaitspeed: 0.7035855<br />steps: 3221.504<br />condition_type: Bones","gaitspeed: 0.6983490<br />steps: 3187.919<br />condition_type: Bones","gaitspeed: 0.6931126<br />steps: 3154.335<br />condition_type: Bones","gaitspeed: 0.6878762<br />steps: 3120.750<br />condition_type: Bones","gaitspeed: 0.6826398<br />steps: 3087.166<br />condition_type: Bones","gaitspeed: 0.6774034<br />steps: 3053.581<br />condition_type: Bones","gaitspeed: 0.6721669<br />steps: 3019.997<br />condition_type: Bones","gaitspeed: 0.6669305<br />steps: 2986.412<br />condition_type: Bones","gaitspeed: 0.6616941<br />steps: 2952.828<br />condition_type: Bones","gaitspeed: 0.6564577<br />steps: 2919.243<br />condition_type: Bones","gaitspeed: 0.6512213<br />steps: 2885.659<br />condition_type: Bones","gaitspeed: 0.6459848<br />steps: 2852.074<br />condition_type: Bones","gaitspeed: 0.6407484<br />steps: 2818.490<br />condition_type: Bones","gaitspeed: 0.6355120<br />steps: 2784.905<br />condition_type: Bones","gaitspeed: 0.6302756<br />steps: 2751.321<br />condition_type: Bones","gaitspeed: 0.6250392<br />steps: 2717.736<br />condition_type: Bones","gaitspeed: 0.6198028<br />steps: 2684.152<br />condition_type: Bones","gaitspeed: 0.6145663<br />steps: 2650.567<br />condition_type: Bones","gaitspeed: 0.6093299<br />steps: 2616.983<br />condition_type: Bones","gaitspeed: 0.6040935<br />steps: 2583.399<br />condition_type: Bones","gaitspeed: 0.6040935<br />steps: 2583.399<br />condition_type: Bones"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Bones","legendgroup":"Bones","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[0.56474530700000003,0.57148537005063293,0.57822543310126584,0.58496549615189875,0.59170555920253165,0.59844562225316456,0.60518568530379746,0.61192574835443037,0.61866581140506338,0.62540587445569629,0.63214593750632919,0.6388860005569621,0.645626063607595,0.65236612665822791,0.65910618970886081,0.66584625275949372,0.67258631581012662,0.67932637886075953,0.68606644191139243,0.69280650496202534,0.69954656801265824,0.70628663106329115,0.71302669411392405,0.71976675716455696,0.72650682021518986,0.73324688326582277,0.73998694631645567,0.74672700936708869,0.7534670724177216,0.7602071354683545,0.76694719851898741,0.77368726156962031,0.78042732462025322,0.78716738767088612,0.79390745072151903,0.80064751377215193,0.80738757682278484,0.81412763987341774,0.82086770292405076,0.82760776597468366,0.83434782902531657,0.84108789207594947,0.84782795512658238,0.85456801817721528,0.86130808122784819,0.86804814427848109,0.874788207329114,0.8815282703797469,0.88826833343037981,0.89500839648101271,0.90174845953164562,0.90848852258227852,0.91522858563291143,0.92196864868354433,0.92870871173417724,0.93544877478481014,0.94218883783544305,0.94892890088607595,0.95566896393670886,0.96240902698734176,0.96914909003797478,0.97588915308860769,0.98262921613924059,0.9893692791898735,0.9961093422405064,1.0028494052911392,1.0095894683417721,1.016329531392405,1.0230695944430379,1.029809657493671,1.0365497205443039,1.0432897835949368,1.0500298466455698,1.0567699096962027,1.0635099727468356,1.0702500357974685,1.0769900988481014,1.0837301618987343,1.0904702249493672,1.0972102880000001,1.0972102880000001,1.0904702249493672,1.0837301618987343,1.0769900988481014,1.0702500357974685,1.0635099727468356,1.0567699096962027,1.0500298466455698,1.0432897835949368,1.0365497205443039,1.029809657493671,1.0230695944430379,1.016329531392405,1.0095894683417721,1.0028494052911392,0.9961093422405064,0.9893692791898735,0.98262921613924059,0.97588915308860769,0.96914909003797478,0.96240902698734176,0.95566896393670886,0.94892890088607595,0.94218883783544305,0.93544877478481014,0.92870871173417724,0.92196864868354433,0.91522858563291143,0.90848852258227852,0.90174845953164562,0.89500839648101271,0.88826833343037981,0.8815282703797469,0.874788207329114,0.86804814427848109,0.86130808122784819,0.85456801817721528,0.84782795512658238,0.84108789207594947,0.83434782902531657,0.82760776597468366,0.82086770292405076,0.81412763987341774,0.80738757682278484,0.80064751377215193,0.79390745072151903,0.78716738767088612,0.78042732462025322,0.77368726156962031,0.76694719851898741,0.7602071354683545,0.7534670724177216,0.74672700936708869,0.73998694631645567,0.73324688326582277,0.72650682021518986,0.71976675716455696,0.71302669411392405,0.70628663106329115,0.69954656801265824,0.69280650496202534,0.68606644191139243,0.67932637886075953,0.67258631581012662,0.66584625275949372,0.65910618970886081,0.65236612665822791,0.645626063607595,0.6388860005569621,0.63214593750632919,0.62540587445569629,0.61866581140506338,0.61192574835443037,0.60518568530379746,0.59844562225316456,0.59170555920253165,0.58496549615189875,0.57822543310126584,0.57148537005063293,0.56474530700000003,0.56474530700000003],"y":[65.360338024332123,163.7263787194679,261.6964027232334,359.24762672559336,456.35570806757869,552.9946343042875,649.13660687263155,744.751919185524,839.8088296877163,934.27343067627498,1028.1095140203547,1121.2784353201964,1213.7389785348505,1305.4472236912052,1396.3564209717817,1486.4168752702953,1575.5758462018589,1663.7774695510618,1750.9627072167355,1837.0693338329695,1922.0319693583635,2005.7821679520662,2088.2485742910912,2169.3571589932089,2249.0315448293086,2327.1934347495662,2403.7631512085154,2478.6602936621534,2551.8045172698066,2623.1164306844767,2692.5186043958829,2759.9366736011334,2825.3005114141652,2888.545439988663,2949.6134396055431,3008.4543098689519,3065.0267337770788,3119.2991953657574,3171.2507053576096,3220.8712968644504,3268.1622642719576,3313.1361320885026,3355.8163554916546,3396.2367690858491,3434.4408135493395,3470.48058019774,3504.4157202352098,3536.3122683036681,3566.2414290570214,3594.2783714537218,3620.5010691007969,3644.9892172184309,3667.8232485109938,3689.0834621753966,3708.8492730061607,3727.198581417153,3744.2072603525226,3759.9487515111227,3774.4937609582994,3787.9100428791062,3800.2622597406735,3811.6119072793745,3822.0172933265617,3831.5335603770168,3840.2127428588719,3848.1038511838551,3855.2529757711945,3861.7034052982085,3867.4957544057306,3872.6680969603217,3877.2561017421222,3881.2931680881893,3884.8105595819993,3887.8375343491066,3890.4014709065805,3892.5279888298028,3894.2410637548987,3895.5631364373116,3896.5152157456905,3897.1169755925016,9418.9083102769891,9319.7342251034279,9220.9104593914362,9122.4566870534763,9024.3939169582009,8926.7445898610531,8829.5326813981537,8732.7838111448891,8636.5253576183277,8540.786578944022,8445.598738705452,8350.9952362396671,8257.0117403268177,8163.6863248334594,8071.0596044004278,7979.1748677050418,7888.0782051665246,7797.8186271966078,7708.4481682234227,7620.0219707417527,7532.5983425829472,7446.2387794833812,7361.0079439101864,7276.9735900484138,7194.2064239634128,7112.7798873540341,7032.7698531644255,6954.2542218084573,6877.3124080806474,6802.0247111779099,6728.4715638046127,6656.7326611809422,6586.8859769139244,6519.0066799620099,6453.1659749791088,6389.4298966071365,6327.8580960502559,6268.5026646240794,6211.4070430068587,6156.6050658030326,6104.120188190167,6053.9649346766364,6006.1405996481162,5960.6372162164225,5917.433795104178,5876.498820347214,5837.7909749437231,5801.26005849785,5766.8480512905089,5734.4902754753884,5704.1166041664219,5675.6526725607209,5649.0210511480018,5624.1423485812666,5600.9362200198448,5579.3222649197296,5559.2208057354583,5540.553545417205,5523.2441067358577,5507.2184603091891,5492.4052508142104,5478.7360324100737,5466.1454250553743,5454.5712033842065,5443.9543292953986,5434.2389385735396,5425.372290833745,5417.3046909697268,5409.9893891640095,5403.3824654434811,5397.4427037671876,5392.1314597353758,5387.4125252171925,5383.2519925097149,5379.6181200576875,5376.481201274024,5373.8134375956379,5371.588816577625,5369.7829955610196,5368.3731912357844,65.360338024332123],"text":["gaitspeed: 0.5647453<br />steps: 2716.867<br />condition_type: Muscles","gaitspeed: 0.5714854<br />steps: 2766.755<br />condition_type: Muscles","gaitspeed: 0.5782254<br />steps: 2816.643<br />condition_type: Muscles","gaitspeed: 0.5849655<br />steps: 2866.531<br />condition_type: Muscles","gaitspeed: 0.5917056<br />steps: 2916.418<br />condition_type: Muscles","gaitspeed: 0.5984456<br />steps: 2966.306<br />condition_type: Muscles","gaitspeed: 0.6051857<br />steps: 3016.194<br />condition_type: Muscles","gaitspeed: 0.6119257<br />steps: 3066.082<br />condition_type: Muscles","gaitspeed: 0.6186658<br />steps: 3115.970<br />condition_type: Muscles","gaitspeed: 0.6254059<br />steps: 3165.858<br />condition_type: Muscles","gaitspeed: 0.6321459<br />steps: 3215.746<br />condition_type: Muscles","gaitspeed: 0.6388860<br />steps: 3265.634<br />condition_type: Muscles","gaitspeed: 0.6456261<br />steps: 3315.522<br />condition_type: Muscles","gaitspeed: 0.6523661<br />steps: 3365.410<br />condition_type: Muscles","gaitspeed: 0.6591062<br />steps: 3415.298<br />condition_type: Muscles","gaitspeed: 0.6658463<br />steps: 3465.186<br />condition_type: Muscles","gaitspeed: 0.6725863<br />steps: 3515.074<br />condition_type: Muscles","gaitspeed: 0.6793264<br />steps: 3564.961<br />condition_type: Muscles","gaitspeed: 0.6860664<br />steps: 3614.849<br />condition_type: Muscles","gaitspeed: 0.6928065<br />steps: 3664.737<br />condition_type: Muscles","gaitspeed: 0.6995466<br />steps: 3714.625<br />condition_type: Muscles","gaitspeed: 0.7062866<br />steps: 3764.513<br />condition_type: Muscles","gaitspeed: 0.7130267<br />steps: 3814.401<br />condition_type: Muscles","gaitspeed: 0.7197668<br />steps: 3864.289<br />condition_type: Muscles","gaitspeed: 0.7265068<br />steps: 3914.177<br />condition_type: Muscles","gaitspeed: 0.7332469<br />steps: 3964.065<br />condition_type: Muscles","gaitspeed: 0.7399869<br />steps: 4013.953<br />condition_type: Muscles","gaitspeed: 0.7467270<br />steps: 4063.841<br />condition_type: Muscles","gaitspeed: 0.7534671<br />steps: 4113.729<br />condition_type: Muscles","gaitspeed: 0.7602071<br />steps: 4163.617<br />condition_type: Muscles","gaitspeed: 0.7669472<br />steps: 4213.504<br />condition_type: Muscles","gaitspeed: 0.7736873<br />steps: 4263.392<br />condition_type: Muscles","gaitspeed: 0.7804273<br />steps: 4313.280<br />condition_type: Muscles","gaitspeed: 0.7871674<br />steps: 4363.168<br />condition_type: Muscles","gaitspeed: 0.7939075<br />steps: 4413.056<br />condition_type: Muscles","gaitspeed: 0.8006475<br />steps: 4462.944<br />condition_type: Muscles","gaitspeed: 0.8073876<br />steps: 4512.832<br />condition_type: Muscles","gaitspeed: 0.8141276<br />steps: 4562.720<br />condition_type: Muscles","gaitspeed: 0.8208677<br />steps: 4612.608<br />condition_type: Muscles","gaitspeed: 0.8276078<br />steps: 4662.496<br />condition_type: Muscles","gaitspeed: 0.8343478<br />steps: 4712.384<br />condition_type: Muscles","gaitspeed: 0.8410879<br />steps: 4762.272<br />condition_type: Muscles","gaitspeed: 0.8478280<br />steps: 4812.160<br />condition_type: Muscles","gaitspeed: 0.8545680<br />steps: 4862.047<br />condition_type: Muscles","gaitspeed: 0.8613081<br />steps: 4911.935<br />condition_type: Muscles","gaitspeed: 0.8680481<br />steps: 4961.823<br />condition_type: Muscles","gaitspeed: 0.8747882<br />steps: 5011.711<br />condition_type: Muscles","gaitspeed: 0.8815283<br />steps: 5061.599<br />condition_type: Muscles","gaitspeed: 0.8882683<br />steps: 5111.487<br />condition_type: Muscles","gaitspeed: 0.8950084<br />steps: 5161.375<br />condition_type: Muscles","gaitspeed: 0.9017485<br />steps: 5211.263<br />condition_type: Muscles","gaitspeed: 0.9084885<br />steps: 5261.151<br />condition_type: Muscles","gaitspeed: 0.9152286<br />steps: 5311.039<br />condition_type: Muscles","gaitspeed: 0.9219686<br />steps: 5360.927<br />condition_type: Muscles","gaitspeed: 0.9287087<br />steps: 5410.815<br />condition_type: Muscles","gaitspeed: 0.9354488<br />steps: 5460.703<br />condition_type: Muscles","gaitspeed: 0.9421888<br />steps: 5510.590<br />condition_type: Muscles","gaitspeed: 0.9489289<br />steps: 5560.478<br />condition_type: Muscles","gaitspeed: 0.9556690<br />steps: 5610.366<br />condition_type: Muscles","gaitspeed: 0.9624090<br />steps: 5660.254<br />condition_type: Muscles","gaitspeed: 0.9691491<br />steps: 5710.142<br />condition_type: Muscles","gaitspeed: 0.9758892<br />steps: 5760.030<br />condition_type: Muscles","gaitspeed: 0.9826292<br />steps: 5809.918<br />condition_type: Muscles","gaitspeed: 0.9893693<br />steps: 5859.806<br />condition_type: Muscles","gaitspeed: 0.9961093<br />steps: 5909.694<br />condition_type: Muscles","gaitspeed: 1.0028494<br />steps: 5959.582<br />condition_type: Muscles","gaitspeed: 1.0095895<br />steps: 6009.470<br />condition_type: Muscles","gaitspeed: 1.0163295<br />steps: 6059.358<br />condition_type: Muscles","gaitspeed: 1.0230696<br />steps: 6109.245<br />condition_type: Muscles","gaitspeed: 1.0298097<br />steps: 6159.133<br />condition_type: Muscles","gaitspeed: 1.0365497<br />steps: 6209.021<br />condition_type: Muscles","gaitspeed: 1.0432898<br />steps: 6258.909<br />condition_type: Muscles","gaitspeed: 1.0500298<br />steps: 6308.797<br />condition_type: Muscles","gaitspeed: 1.0567699<br />steps: 6358.685<br />condition_type: Muscles","gaitspeed: 1.0635100<br />steps: 6408.573<br />condition_type: Muscles","gaitspeed: 1.0702500<br />steps: 6458.461<br />condition_type: Muscles","gaitspeed: 1.0769901<br />steps: 6508.349<br />condition_type: Muscles","gaitspeed: 1.0837302<br />steps: 6558.237<br />condition_type: Muscles","gaitspeed: 1.0904702<br />steps: 6608.125<br />condition_type: Muscles","gaitspeed: 1.0972103<br />steps: 6658.013<br />condition_type: Muscles","gaitspeed: 1.0972103<br />steps: 6658.013<br />condition_type: Muscles","gaitspeed: 1.0904702<br />steps: 6608.125<br />condition_type: Muscles","gaitspeed: 1.0837302<br />steps: 6558.237<br />condition_type: Muscles","gaitspeed: 1.0769901<br />steps: 6508.349<br />condition_type: Muscles","gaitspeed: 1.0702500<br />steps: 6458.461<br />condition_type: Muscles","gaitspeed: 1.0635100<br />steps: 6408.573<br />condition_type: Muscles","gaitspeed: 1.0567699<br />steps: 6358.685<br />condition_type: Muscles","gaitspeed: 1.0500298<br />steps: 6308.797<br />condition_type: Muscles","gaitspeed: 1.0432898<br />steps: 6258.909<br />condition_type: Muscles","gaitspeed: 1.0365497<br />steps: 6209.021<br />condition_type: Muscles","gaitspeed: 1.0298097<br />steps: 6159.133<br />condition_type: Muscles","gaitspeed: 1.0230696<br />steps: 6109.245<br />condition_type: Muscles","gaitspeed: 1.0163295<br />steps: 6059.358<br />condition_type: Muscles","gaitspeed: 1.0095895<br />steps: 6009.470<br />condition_type: Muscles","gaitspeed: 1.0028494<br />steps: 5959.582<br />condition_type: Muscles","gaitspeed: 0.9961093<br />steps: 5909.694<br />condition_type: Muscles","gaitspeed: 0.9893693<br />steps: 5859.806<br />condition_type: Muscles","gaitspeed: 0.9826292<br />steps: 5809.918<br />condition_type: Muscles","gaitspeed: 0.9758892<br />steps: 5760.030<br />condition_type: Muscles","gaitspeed: 0.9691491<br />steps: 5710.142<br />condition_type: Muscles","gaitspeed: 0.9624090<br />steps: 5660.254<br />condition_type: Muscles","gaitspeed: 0.9556690<br />steps: 5610.366<br />condition_type: Muscles","gaitspeed: 0.9489289<br />steps: 5560.478<br />condition_type: Muscles","gaitspeed: 0.9421888<br />steps: 5510.590<br />condition_type: Muscles","gaitspeed: 0.9354488<br />steps: 5460.703<br />condition_type: Muscles","gaitspeed: 0.9287087<br />steps: 5410.815<br />condition_type: Muscles","gaitspeed: 0.9219686<br />steps: 5360.927<br />condition_type: Muscles","gaitspeed: 0.9152286<br />steps: 5311.039<br />condition_type: Muscles","gaitspeed: 0.9084885<br />steps: 5261.151<br />condition_type: Muscles","gaitspeed: 0.9017485<br />steps: 5211.263<br />condition_type: Muscles","gaitspeed: 0.8950084<br />steps: 5161.375<br />condition_type: Muscles","gaitspeed: 0.8882683<br />steps: 5111.487<br />condition_type: Muscles","gaitspeed: 0.8815283<br />steps: 5061.599<br />condition_type: Muscles","gaitspeed: 0.8747882<br />steps: 5011.711<br />condition_type: Muscles","gaitspeed: 0.8680481<br />steps: 4961.823<br />condition_type: Muscles","gaitspeed: 0.8613081<br />steps: 4911.935<br />condition_type: Muscles","gaitspeed: 0.8545680<br />steps: 4862.047<br />condition_type: Muscles","gaitspeed: 0.8478280<br />steps: 4812.160<br />condition_type: Muscles","gaitspeed: 0.8410879<br />steps: 4762.272<br />condition_type: Muscles","gaitspeed: 0.8343478<br />steps: 4712.384<br />condition_type: Muscles","gaitspeed: 0.8276078<br />steps: 4662.496<br />condition_type: Muscles","gaitspeed: 0.8208677<br />steps: 4612.608<br />condition_type: Muscles","gaitspeed: 0.8141276<br />steps: 4562.720<br />condition_type: Muscles","gaitspeed: 0.8073876<br />steps: 4512.832<br />condition_type: Muscles","gaitspeed: 0.8006475<br />steps: 4462.944<br />condition_type: Muscles","gaitspeed: 0.7939075<br />steps: 4413.056<br />condition_type: Muscles","gaitspeed: 0.7871674<br />steps: 4363.168<br />condition_type: Muscles","gaitspeed: 0.7804273<br />steps: 4313.280<br />condition_type: Muscles","gaitspeed: 0.7736873<br />steps: 4263.392<br />condition_type: Muscles","gaitspeed: 0.7669472<br />steps: 4213.504<br />condition_type: Muscles","gaitspeed: 0.7602071<br />steps: 4163.617<br />condition_type: Muscles","gaitspeed: 0.7534671<br />steps: 4113.729<br />condition_type: Muscles","gaitspeed: 0.7467270<br />steps: 4063.841<br />condition_type: Muscles","gaitspeed: 0.7399869<br />steps: 4013.953<br />condition_type: Muscles","gaitspeed: 0.7332469<br />steps: 3964.065<br />condition_type: Muscles","gaitspeed: 0.7265068<br />steps: 3914.177<br />condition_type: Muscles","gaitspeed: 0.7197668<br />steps: 3864.289<br />condition_type: Muscles","gaitspeed: 0.7130267<br />steps: 3814.401<br />condition_type: Muscles","gaitspeed: 0.7062866<br />steps: 3764.513<br />condition_type: Muscles","gaitspeed: 0.6995466<br />steps: 3714.625<br />condition_type: Muscles","gaitspeed: 0.6928065<br />steps: 3664.737<br />condition_type: Muscles","gaitspeed: 0.6860664<br />steps: 3614.849<br />condition_type: Muscles","gaitspeed: 0.6793264<br />steps: 3564.961<br />condition_type: Muscles","gaitspeed: 0.6725863<br />steps: 3515.074<br />condition_type: Muscles","gaitspeed: 0.6658463<br />steps: 3465.186<br />condition_type: Muscles","gaitspeed: 0.6591062<br />steps: 3415.298<br />condition_type: Muscles","gaitspeed: 0.6523661<br />steps: 3365.410<br />condition_type: Muscles","gaitspeed: 0.6456261<br />steps: 3315.522<br />condition_type: Muscles","gaitspeed: 0.6388860<br />steps: 3265.634<br />condition_type: Muscles","gaitspeed: 0.6321459<br />steps: 3215.746<br />condition_type: Muscles","gaitspeed: 0.6254059<br />steps: 3165.858<br />condition_type: Muscles","gaitspeed: 0.6186658<br />steps: 3115.970<br />condition_type: Muscles","gaitspeed: 0.6119257<br />steps: 3066.082<br />condition_type: Muscles","gaitspeed: 0.6051857<br />steps: 3016.194<br />condition_type: Muscles","gaitspeed: 0.5984456<br />steps: 2966.306<br />condition_type: Muscles","gaitspeed: 0.5917056<br />steps: 2916.418<br />condition_type: Muscles","gaitspeed: 0.5849655<br />steps: 2866.531<br />condition_type: Muscles","gaitspeed: 0.5782254<br />steps: 2816.643<br />condition_type: Muscles","gaitspeed: 0.5714854<br />steps: 2766.755<br />condition_type: Muscles","gaitspeed: 0.5647453<br />steps: 2716.867<br />condition_type: Muscles","gaitspeed: 0.5647453<br />steps: 2716.867<br />condition_type: Muscles"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Muscles","legendgroup":"Muscles","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[0.84450739600000002,0.85024096672151905,0.85597453744303797,0.86170810816455701,0.86744167888607593,0.87317524960759496,0.87890882032911399,0.88464239105063291,0.89037596177215195,0.89610953249367087,0.9018431032151899,0.90757667393670882,0.91331024465822785,0.91904381537974689,0.92477738610126581,0.93051095682278484,0.93624452754430376,0.94197809826582279,0.94771166898734172,0.95344523970886075,0.95917881043037978,0.9649123811518987,0.97064595187341773,0.97637952259493677,0.98211309331645569,0.98784666403797472,0.99358023475949364,0.99931380548101267,1.0050473762025316,1.0107809469240507,1.0165145176455697,1.0222480883670886,1.0279816590886075,1.0337152298101266,1.0394488005316456,1.0451823712531645,1.0509159419746834,1.0566495126962026,1.0623830834177215,1.0681166541392404,1.0738502248607595,1.0795837955822785,1.0853173663037974,1.0910509370253165,1.0967845077468354,1.1025180784683544,1.1082516491898735,1.1139852199113924,1.1197187906329114,1.1254523613544303,1.1311859320759494,1.1369195027974683,1.1426530735189873,1.1483866442405062,1.1541202149620253,1.1598537856835442,1.1655873564050632,1.1713209271265823,1.1770544978481012,1.1827880685696202,1.1885216392911393,1.1942552100126582,1.1999887807341771,1.2057223514556963,1.2114559221772152,1.2171894928987341,1.222923063620253,1.2286566343417722,1.2343902050632911,1.24012377578481,1.245857346506329,1.2515909172278481,1.257324487949367,1.2630580586708859,1.2687916293924051,1.274525200113924,1.2802587708354429,1.2859923415569621,1.291725912278481,1.2974594829999999,1.2974594829999999,1.2974594829999999,1.291725912278481,1.2859923415569621,1.2802587708354429,1.274525200113924,1.2687916293924051,1.2630580586708859,1.257324487949367,1.2515909172278481,1.245857346506329,1.24012377578481,1.2343902050632911,1.2286566343417722,1.222923063620253,1.2171894928987341,1.2114559221772152,1.2057223514556963,1.1999887807341771,1.1942552100126582,1.1885216392911393,1.1827880685696202,1.1770544978481012,1.1713209271265823,1.1655873564050632,1.1598537856835442,1.1541202149620253,1.1483866442405062,1.1426530735189873,1.1369195027974683,1.1311859320759494,1.1254523613544303,1.1197187906329114,1.1139852199113924,1.1082516491898735,1.1025180784683544,1.0967845077468354,1.0910509370253165,1.0853173663037974,1.0795837955822785,1.0738502248607595,1.0681166541392404,1.0623830834177215,1.0566495126962026,1.0509159419746834,1.0451823712531645,1.0394488005316456,1.0337152298101266,1.0279816590886075,1.0222480883670886,1.0165145176455697,1.0107809469240507,1.0050473762025316,0.99931380548101267,0.99358023475949364,0.98784666403797472,0.98211309331645569,0.97637952259493677,0.97064595187341773,0.9649123811518987,0.95917881043037978,0.95344523970886075,0.94771166898734172,0.94197809826582279,0.93624452754430376,0.93051095682278484,0.92477738610126581,0.91904381537974689,0.91331024465822785,0.90757667393670882,0.9018431032151899,0.89610953249367087,0.89037596177215195,0.88464239105063291,0.87890882032911399,0.87317524960759496,0.86744167888607593,0.86170810816455701,0.85597453744303797,0.85024096672151905,0.84450739600000002,0.84450739600000002],"y":[3287.6369101962155,3351.2089745396888,3414.7201406542454,3478.1672053212451,3541.5467511170068,3604.855129632364,3668.0884432633911,3731.2425254550749,3794.3129192729475,3857.2948541718306,3920.1832208260475,3982.9725438823575,4045.6569524963065,4108.2301485153303,4170.6853721792886,4233.0153652223507,4295.2123312812755,4357.26789354639,4419.1730496356195,4480.9181237321764,4542.4927161068554,4603.8856502510152,4665.0849179812712,4726.0776230479096,4786.8499239921512,4847.3869772591697,4907.6728818904376,4967.690627495469,5027.4220476420669,5086.8477813047239,5145.9472455656132,5204.6986233563639,5263.0788706335406,5321.063747955066,5378.6278819072895,5435.7448621432068,5492.3873798293307,5548.5274129445015,5604.136463000511,5659.1858462420787,5713.6470401399229,5767.4920829826933,5820.6940206580775,5873.2273904694357,5925.0687273796902,5976.1970738625068,6026.5944711254233,6076.2464074321715,6125.1421991014631,6173.2752818200452,6220.6433942190615,6267.2486419274301,6313.0974379164463,6358.2003230351811,6402.5716782697982,6446.2293465846496,6489.1941865912677,6531.4895824335663,6573.1409342025208,6614.1751512156297,6654.6201671203835,6694.5044915878716,6733.8568089080964,6772.7056295407256,6811.078996936877,6849.0042489125408,6886.5078305833204,6923.6151543329788,6960.3505013940767,6996.7369592483083,7032.7963890793762,7068.5494178140507,7104.0154497649801,7139.2126934609087,7174.1581998545298,7208.8679086928114,7243.3567003912513,7277.6384512559998,7311.7260903392726,7345.6316565920151,7345.6316565920151,8666.077719389179,8604.509423478843,8543.1232003990335,8481.931089100699,8420.9460186360575,8360.1818653112605,8299.6535095417967,8239.3768910746458,8179.3690608624929,8119.6482274340815,8060.2337951020709,8001.1463907932202,7942.4078756912395,7884.0413372778121,7826.0710567855131,7768.5224465980946,7711.4219518311675,7654.7969103007108,7598.675365457857,7543.0858277622629,7488.0569815039344,7433.617336353961,7379.794825959837,7326.6163596390497,7274.1073374825855,7222.2911436343584,7171.1886367058896,7120.8176596615458,7071.1925934874798,7022.3239790327698,6974.2182292687003,6926.8774498242037,6880.2993793304131,6834.4774534740827,6789.4009885739133,6745.0554728936513,6701.4229476408236,6658.4824552890996,6616.2105308014015,6574.5817114810898,6533.5690432158517,6493.1445642943372,6453.2797521872681,6413.945923139353,6375.1145786623983,6336.7576967352334,6298.8479685243783,6261.3589836828178,6224.2653687969159,6187.5428844245844,6151.1684865223951,6115.1203580219662,6079.3779160054855,6043.9217994474348,6008.7338419156204,5973.7970330195567,5939.095471800716,5904.6143147042721,5870.3397202714459,5836.2587922525272,5802.359522464124,5768.630734397595,5735.0620283237458,5701.6437284257781,5668.3668323216207,5635.2229632016006,5602.2043247024803,5569.3036585584223,5536.5142050092891,5503.8296659025164,5471.2441703936511,5438.7522431294556,5406.3487747842455,5374.0289948128475,5341.7884462807924,5309.6229626330678,5277.5286462657505,5245.5018487696643,5213.5391527211423,5181.6373549015334,3287.6369101962155],"text":["gaitspeed: 0.8445074<br />steps: 4234.637<br />condition_type: None","gaitspeed: 0.8502410<br />steps: 4282.374<br />condition_type: None","gaitspeed: 0.8559745<br />steps: 4330.111<br />condition_type: None","gaitspeed: 0.8617081<br />steps: 4377.848<br />condition_type: None","gaitspeed: 0.8674417<br />steps: 4425.585<br />condition_type: None","gaitspeed: 0.8731752<br />steps: 4473.322<br />condition_type: None","gaitspeed: 0.8789088<br />steps: 4521.059<br />condition_type: None","gaitspeed: 0.8846424<br />steps: 4568.796<br />condition_type: None","gaitspeed: 0.8903760<br />steps: 4616.533<br />condition_type: None","gaitspeed: 0.8961095<br />steps: 4664.270<br />condition_type: None","gaitspeed: 0.9018431<br />steps: 4712.006<br />condition_type: None","gaitspeed: 0.9075767<br />steps: 4759.743<br />condition_type: None","gaitspeed: 0.9133102<br />steps: 4807.480<br />condition_type: None","gaitspeed: 0.9190438<br />steps: 4855.217<br />condition_type: None","gaitspeed: 0.9247774<br />steps: 4902.954<br />condition_type: None","gaitspeed: 0.9305110<br />steps: 4950.691<br />condition_type: None","gaitspeed: 0.9362445<br />steps: 4998.428<br />condition_type: None","gaitspeed: 0.9419781<br />steps: 5046.165<br />condition_type: None","gaitspeed: 0.9477117<br />steps: 5093.902<br />condition_type: None","gaitspeed: 0.9534452<br />steps: 5141.639<br />condition_type: None","gaitspeed: 0.9591788<br />steps: 5189.376<br />condition_type: None","gaitspeed: 0.9649124<br />steps: 5237.113<br />condition_type: None","gaitspeed: 0.9706460<br />steps: 5284.850<br />condition_type: None","gaitspeed: 0.9763795<br />steps: 5332.587<br />condition_type: None","gaitspeed: 0.9821131<br />steps: 5380.323<br />condition_type: None","gaitspeed: 0.9878467<br />steps: 5428.060<br />condition_type: None","gaitspeed: 0.9935802<br />steps: 5475.797<br />condition_type: None","gaitspeed: 0.9993138<br />steps: 5523.534<br />condition_type: None","gaitspeed: 1.0050474<br />steps: 5571.271<br />condition_type: None","gaitspeed: 1.0107809<br />steps: 5619.008<br />condition_type: None","gaitspeed: 1.0165145<br />steps: 5666.745<br />condition_type: None","gaitspeed: 1.0222481<br />steps: 5714.482<br />condition_type: None","gaitspeed: 1.0279817<br />steps: 5762.219<br />condition_type: None","gaitspeed: 1.0337152<br />steps: 5809.956<br />condition_type: None","gaitspeed: 1.0394488<br />steps: 5857.693<br />condition_type: None","gaitspeed: 1.0451824<br />steps: 5905.430<br />condition_type: None","gaitspeed: 1.0509159<br />steps: 5953.167<br />condition_type: None","gaitspeed: 1.0566495<br />steps: 6000.904<br />condition_type: None","gaitspeed: 1.0623831<br />steps: 6048.641<br />condition_type: None","gaitspeed: 1.0681167<br />steps: 6096.377<br />condition_type: None","gaitspeed: 1.0738502<br />steps: 6144.114<br />condition_type: None","gaitspeed: 1.0795838<br />steps: 6191.851<br />condition_type: None","gaitspeed: 1.0853174<br />steps: 6239.588<br />condition_type: None","gaitspeed: 1.0910509<br />steps: 6287.325<br />condition_type: None","gaitspeed: 1.0967845<br />steps: 6335.062<br />condition_type: None","gaitspeed: 1.1025181<br />steps: 6382.799<br />condition_type: None","gaitspeed: 1.1082516<br />steps: 6430.536<br />condition_type: None","gaitspeed: 1.1139852<br />steps: 6478.273<br />condition_type: None","gaitspeed: 1.1197188<br />steps: 6526.010<br />condition_type: None","gaitspeed: 1.1254524<br />steps: 6573.747<br />condition_type: None","gaitspeed: 1.1311859<br />steps: 6621.484<br />condition_type: None","gaitspeed: 1.1369195<br />steps: 6669.221<br />condition_type: None","gaitspeed: 1.1426531<br />steps: 6716.958<br />condition_type: None","gaitspeed: 1.1483866<br />steps: 6764.694<br />condition_type: None","gaitspeed: 1.1541202<br />steps: 6812.431<br />condition_type: None","gaitspeed: 1.1598538<br />steps: 6860.168<br />condition_type: None","gaitspeed: 1.1655874<br />steps: 6907.905<br />condition_type: None","gaitspeed: 1.1713209<br />steps: 6955.642<br />condition_type: None","gaitspeed: 1.1770545<br />steps: 7003.379<br />condition_type: None","gaitspeed: 1.1827881<br />steps: 7051.116<br />condition_type: None","gaitspeed: 1.1885216<br />steps: 7098.853<br />condition_type: None","gaitspeed: 1.1942552<br />steps: 7146.590<br />condition_type: None","gaitspeed: 1.1999888<br />steps: 7194.327<br />condition_type: None","gaitspeed: 1.2057224<br />steps: 7242.064<br />condition_type: None","gaitspeed: 1.2114559<br />steps: 7289.801<br />condition_type: None","gaitspeed: 1.2171895<br />steps: 7337.538<br />condition_type: None","gaitspeed: 1.2229231<br />steps: 7385.275<br />condition_type: None","gaitspeed: 1.2286566<br />steps: 7433.012<br />condition_type: None","gaitspeed: 1.2343902<br />steps: 7480.748<br />condition_type: None","gaitspeed: 1.2401238<br />steps: 7528.485<br />condition_type: None","gaitspeed: 1.2458573<br />steps: 7576.222<br />condition_type: None","gaitspeed: 1.2515909<br />steps: 7623.959<br />condition_type: None","gaitspeed: 1.2573245<br />steps: 7671.696<br />condition_type: None","gaitspeed: 1.2630581<br />steps: 7719.433<br />condition_type: None","gaitspeed: 1.2687916<br />steps: 7767.170<br />condition_type: None","gaitspeed: 1.2745252<br />steps: 7814.907<br />condition_type: None","gaitspeed: 1.2802588<br />steps: 7862.644<br />condition_type: None","gaitspeed: 1.2859923<br />steps: 7910.381<br />condition_type: None","gaitspeed: 1.2917259<br />steps: 7958.118<br />condition_type: None","gaitspeed: 1.2974595<br />steps: 8005.855<br />condition_type: None","gaitspeed: 1.2974595<br />steps: 8005.855<br />condition_type: None","gaitspeed: 1.2974595<br />steps: 8005.855<br />condition_type: None","gaitspeed: 1.2917259<br />steps: 7958.118<br />condition_type: None","gaitspeed: 1.2859923<br />steps: 7910.381<br />condition_type: None","gaitspeed: 1.2802588<br />steps: 7862.644<br />condition_type: None","gaitspeed: 1.2745252<br />steps: 7814.907<br />condition_type: None","gaitspeed: 1.2687916<br />steps: 7767.170<br />condition_type: None","gaitspeed: 1.2630581<br />steps: 7719.433<br />condition_type: None","gaitspeed: 1.2573245<br />steps: 7671.696<br />condition_type: None","gaitspeed: 1.2515909<br />steps: 7623.959<br />condition_type: None","gaitspeed: 1.2458573<br />steps: 7576.222<br />condition_type: None","gaitspeed: 1.2401238<br />steps: 7528.485<br />condition_type: None","gaitspeed: 1.2343902<br />steps: 7480.748<br />condition_type: None","gaitspeed: 1.2286566<br />steps: 7433.012<br />condition_type: None","gaitspeed: 1.2229231<br />steps: 7385.275<br />condition_type: None","gaitspeed: 1.2171895<br />steps: 7337.538<br />condition_type: None","gaitspeed: 1.2114559<br />steps: 7289.801<br />condition_type: None","gaitspeed: 1.2057224<br />steps: 7242.064<br />condition_type: None","gaitspeed: 1.1999888<br />steps: 7194.327<br />condition_type: None","gaitspeed: 1.1942552<br />steps: 7146.590<br />condition_type: None","gaitspeed: 1.1885216<br />steps: 7098.853<br />condition_type: None","gaitspeed: 1.1827881<br />steps: 7051.116<br />condition_type: None","gaitspeed: 1.1770545<br />steps: 7003.379<br />condition_type: None","gaitspeed: 1.1713209<br />steps: 6955.642<br />condition_type: None","gaitspeed: 1.1655874<br />steps: 6907.905<br />condition_type: None","gaitspeed: 1.1598538<br />steps: 6860.168<br />condition_type: None","gaitspeed: 1.1541202<br />steps: 6812.431<br />condition_type: None","gaitspeed: 1.1483866<br />steps: 6764.694<br />condition_type: None","gaitspeed: 1.1426531<br />steps: 6716.958<br />condition_type: None","gaitspeed: 1.1369195<br />steps: 6669.221<br />condition_type: None","gaitspeed: 1.1311859<br />steps: 6621.484<br />condition_type: None","gaitspeed: 1.1254524<br />steps: 6573.747<br />condition_type: None","gaitspeed: 1.1197188<br />steps: 6526.010<br />condition_type: None","gaitspeed: 1.1139852<br />steps: 6478.273<br />condition_type: None","gaitspeed: 1.1082516<br />steps: 6430.536<br />condition_type: None","gaitspeed: 1.1025181<br />steps: 6382.799<br />condition_type: None","gaitspeed: 1.0967845<br />steps: 6335.062<br />condition_type: None","gaitspeed: 1.0910509<br />steps: 6287.325<br />condition_type: None","gaitspeed: 1.0853174<br />steps: 6239.588<br />condition_type: None","gaitspeed: 1.0795838<br />steps: 6191.851<br />condition_type: None","gaitspeed: 1.0738502<br />steps: 6144.114<br />condition_type: None","gaitspeed: 1.0681167<br />steps: 6096.377<br />condition_type: None","gaitspeed: 1.0623831<br />steps: 6048.641<br />condition_type: None","gaitspeed: 1.0566495<br />steps: 6000.904<br />condition_type: None","gaitspeed: 1.0509159<br />steps: 5953.167<br />condition_type: None","gaitspeed: 1.0451824<br />steps: 5905.430<br />condition_type: None","gaitspeed: 1.0394488<br />steps: 5857.693<br />condition_type: None","gaitspeed: 1.0337152<br />steps: 5809.956<br />condition_type: None","gaitspeed: 1.0279817<br />steps: 5762.219<br />condition_type: None","gaitspeed: 1.0222481<br />steps: 5714.482<br />condition_type: None","gaitspeed: 1.0165145<br />steps: 5666.745<br />condition_type: None","gaitspeed: 1.0107809<br />steps: 5619.008<br />condition_type: None","gaitspeed: 1.0050474<br />steps: 5571.271<br />condition_type: None","gaitspeed: 0.9993138<br />steps: 5523.534<br />condition_type: None","gaitspeed: 0.9935802<br />steps: 5475.797<br />condition_type: None","gaitspeed: 0.9878467<br />steps: 5428.060<br />condition_type: None","gaitspeed: 0.9821131<br />steps: 5380.323<br />condition_type: None","gaitspeed: 0.9763795<br />steps: 5332.587<br />condition_type: None","gaitspeed: 0.9706460<br />steps: 5284.850<br />condition_type: None","gaitspeed: 0.9649124<br />steps: 5237.113<br />condition_type: None","gaitspeed: 0.9591788<br />steps: 5189.376<br />condition_type: None","gaitspeed: 0.9534452<br />steps: 5141.639<br />condition_type: None","gaitspeed: 0.9477117<br />steps: 5093.902<br />condition_type: None","gaitspeed: 0.9419781<br />steps: 5046.165<br />condition_type: None","gaitspeed: 0.9362445<br />steps: 4998.428<br />condition_type: None","gaitspeed: 0.9305110<br />steps: 4950.691<br />condition_type: None","gaitspeed: 0.9247774<br />steps: 4902.954<br />condition_type: None","gaitspeed: 0.9190438<br />steps: 4855.217<br />condition_type: None","gaitspeed: 0.9133102<br />steps: 4807.480<br />condition_type: None","gaitspeed: 0.9075767<br />steps: 4759.743<br />condition_type: None","gaitspeed: 0.9018431<br />steps: 4712.006<br />condition_type: None","gaitspeed: 0.8961095<br />steps: 4664.270<br />condition_type: None","gaitspeed: 0.8903760<br />steps: 4616.533<br />condition_type: None","gaitspeed: 0.8846424<br />steps: 4568.796<br />condition_type: None","gaitspeed: 0.8789088<br />steps: 4521.059<br />condition_type: None","gaitspeed: 0.8731752<br />steps: 4473.322<br />condition_type: None","gaitspeed: 0.8674417<br />steps: 4425.585<br />condition_type: None","gaitspeed: 0.8617081<br />steps: 4377.848<br />condition_type: None","gaitspeed: 0.8559745<br />steps: 4330.111<br />condition_type: None","gaitspeed: 0.8502410<br />steps: 4282.374<br />condition_type: None","gaitspeed: 0.8445074<br />steps: 4234.637<br />condition_type: None","gaitspeed: 0.8445074<br />steps: 4234.637<br />condition_type: None"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"None","legendgroup":"None","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":54.794520547945211},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Gait speed by step count","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.49408326460000002,1.3357154934],"tickmode":"array","ticktext":["0.5","0.7","0.9","1.1","1.3"],"tickvals":[0.5,0.69999999999999996,0.90000000000000002,1.1000000000000001,1.3],"categoryorder":"array","categoryarray":["0.5","0.7","0.9","1.1","1.3"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y","title":{"text":"Gait speed (m/s)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-422.82164507445123,10317.181983098784],"tickmode":"array","ticktext":["0","2500","5000","7500","10000"],"tickvals":[5.6843418860808015e-14,2500,5000,7500,10000],"categoryorder":"array","categoryarray":["0","2500","5000","7500","10000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":{"text":"Number of steps","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Type of condition","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2ac829af769a":{"x":{},"y":{},"colour":{},"type":"scatter"},"2ac812151be0":{"x":{},"y":{},"colour":{}}},"cur_data":"2ac829af769a","visdat":{"2ac829af769a":["function (y) ","x"],"2ac812151be0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>Interactive graph using plotly</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Hover over the data points above and click on the legend items.</p>
</div>
</div>
</section><section id="waffle-plots" class="level4"><h4 class="anchored" data-anchor-id="waffle-plots">Waffle Plots</h4>
<p>In <a href="03-viz.html" class="quarto-xref"><span>Chapter 3</span></a>, we mentioned that pie charts are such a poor way to visualise proportions that we refused to even show you how to make one. Waffle plots are a delicious alternative.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use <pkg>waffle</pkg> by <a href="https://github.com/hrbrmstr/waffle/">hrbrmstr on GitHub</a> using the <code>install_github()</code> function below, rather than the one on CRAN you get from using <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"hrbrmstr/waffle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>By default, <code>geom_waffle()</code> represents each observation with a tile and splits these across 10 rows. You can play about with the <code>n_rows</code> argument to determine what works best for your data.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>function_data <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">count</span>(condition_type) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> condition_type, <span class="at">values =</span> n)) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">geom_waffle</span>(</span>
<span id="cb16-5"><a href="#cb16-5"></a>    <span class="at">n_rows =</span> <span class="dv">8</span>, <span class="co"># try setting this to 10 (the default)</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="at">size =</span> <span class="fl">0.33</span>, <span class="co"># line size</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>    <span class="at">make_proportional =</span> <span class="cn">FALSE</span>, <span class="co"># use raw values</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>    <span class="at">colour =</span> <span class="st">"white"</span>, <span class="co"># line colour</span></span>
<span id="cb16-9"><a href="#cb16-9"></a>    <span class="at">flip =</span> <span class="cn">FALSE</span>, <span class="co"># bottom-top or left-right</span></span>
<span id="cb16-10"><a href="#cb16-10"></a>    <span class="at">radius =</span> grid<span class="sc">::</span><span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"npc"</span>) <span class="co"># set to 0.5 for circles</span></span>
<span id="cb16-11"><a href="#cb16-11"></a>  ) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12"></a>  <span class="fu">theme_enhance_waffle</span>() <span class="sc">+</span> <span class="co"># gets rid of axes</span></span>
<span id="cb16-13"><a href="#cb16-13"></a>  <span class="fu">scale_fill_colorblind</span>(<span class="at">name =</span> <span class="st">"Type of condition"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Waffle plot.</figcaption></figure>
</div>
</div>
</div>
<p>The waffle plot can also be used to display the counts as proportions To achieve these, set <code>n_rows = 10</code> and <code>make_proportional = TRUE</code>. Now, rather than each tile representing one observation, each tile represents 1% of the data.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>function_data <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">count</span>(condition_type) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> condition_type, <span class="at">values =</span> n)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">geom_waffle</span>(</span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="at">n_rows =</span> <span class="dv">10</span>, </span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="at">size =</span> <span class="fl">0.33</span>, </span>
<span id="cb17-7"><a href="#cb17-7"></a>    <span class="at">make_proportional =</span> <span class="cn">TRUE</span>, <span class="co"># compute proportions</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>    <span class="at">colour =</span> <span class="st">"white"</span>, </span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="at">flip =</span> <span class="cn">FALSE</span>, </span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="at">radius =</span> grid<span class="sc">::</span><span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"npc"</span>) </span>
<span id="cb17-11"><a href="#cb17-11"></a>  ) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">theme_enhance_waffle</span>() <span class="sc">+</span> </span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="fu">scale_fill_colorblind</span>(<span class="at">name =</span> <span class="st">"Type of condition"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Proportional waffle plot.</figcaption></figure>
</div>
</div>
</div>
</section><section id="treemap" class="level4"><h4 class="anchored" data-anchor-id="treemap">Treemap</h4>
<p>Treemap plots are another way to visualise proportions. Like the waffle plots, you need to count the data by category first. You can use any <a href="https://www.datanovia.com/en/blog/the-a-z-of-rcolorbrewer-palette/">brewer palette</a> for the fill.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>function_data <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">count</span>(condition_type) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">treemap</span>(</span>
<span id="cb18-4"><a href="#cb18-4"></a>    <span class="at">index =</span> <span class="st">"condition_type"</span>, <span class="co"># column with number of rectangles</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>    <span class="at">vSize =</span> <span class="st">"n"</span>, <span class="co"># column with size of rectangle</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb18-7"><a href="#cb18-7"></a>    <span class="at">palette =</span> <span class="st">"BuPu"</span>,</span>
<span id="cb18-8"><a href="#cb18-8"></a>    <span class="at">inflate.labels =</span> <span class="cn">TRUE</span> <span class="co"># expand labels to size of rectangle</span></span>
<span id="cb18-9"><a href="#cb18-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Treemap plot.</figcaption></figure>
</div>
</div>
</div>
<p>You can also represent multiple categories with treemaps</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>function_data <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">count</span>(condition_type, generalhealth) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">arrange</span>(generalhealth) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="fu">treemap</span>(</span>
<span id="cb19-5"><a href="#cb19-5"></a>    <span class="co"># use c() to specify two variables</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>    <span class="at">index =</span> <span class="fu">c</span>(<span class="st">"generalhealth"</span>, <span class="st">"condition_type"</span>), </span>
<span id="cb19-7"><a href="#cb19-7"></a>    <span class="at">vSize =</span> <span class="st">"n"</span>, </span>
<span id="cb19-8"><a href="#cb19-8"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb19-9"><a href="#cb19-9"></a>    <span class="at">palette =</span> <span class="st">"Dark2"</span>,</span>
<span id="cb19-10"><a href="#cb19-10"></a>    <span class="co"># set different label sizes for each type of label</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>    <span class="at">fontsize.labels =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">10</span>), </span>
<span id="cb19-12"><a href="#cb19-12"></a>    <span class="co"># set different alignments for two label types</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>    <span class="at">align.labels =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>), <span class="fu">c</span>(<span class="st">"center"</span>, <span class="st">"center"</span>)) </span>
<span id="cb19-14"><a href="#cb19-14"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Treemap with two variables</figcaption></figure>
</div>
</div>
</div>
</section><section id="bump-plots" class="level4"><h4 class="anchored" data-anchor-id="bump-plots">Bump Plots</h4>
<p>Bump plots are very useful for visualising how rankings change over time. So first, we need to get some ranking data. Let’s start with a more typical raw data table, containing an identifying column of <code>person</code> and three columns for their scores each week</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># make a small dataset of scores for 3 people over 3 weeks</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>score_data <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="sc">~</span>person, <span class="sc">~</span>week_1, <span class="sc">~</span>week_2, <span class="sc">~</span>week_3,</span>
<span id="cb20-4"><a href="#cb20-4"></a>  <span class="st">"Abeni"</span>,      <span class="dv">80</span>,     <span class="dv">75</span>,       <span class="dv">90</span>,</span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="st">"Beth"</span>,       <span class="dv">75</span>,     <span class="dv">85</span>,       <span class="dv">75</span>,</span>
<span id="cb20-6"><a href="#cb20-6"></a>  <span class="st">"Carmen"</span>,     <span class="dv">60</span>,     <span class="dv">70</span>,       <span class="dv">80</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we make the table long, group by week, and use the <code><a href="https://rdrr.io/r/base/rank.html">rank()</a></code> function to find the rank of each person’s score each week. Use <code>n() - rank(score) + 1</code> to reverse the ranks so that the highest score gets rank 1. We also need to make the <code>week</code> variable a number.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># calculate ranks</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>rank_data <span class="ot">&lt;-</span> score_data <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>person,</span>
<span id="cb21-4"><a href="#cb21-4"></a>               <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb21-5"><a href="#cb21-5"></a>               <span class="at">values_to =</span> <span class="st">"score"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="fu">group_by</span>(week) <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="fu">n</span>() <span class="sc">-</span> <span class="fu">rank</span>(score) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>  <span class="fu">arrange</span>(week, rank) <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">str_replace</span>(week, <span class="st">"week_"</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span> <span class="fu">as.integer</span>())</span>
<span id="cb21-11"><a href="#cb21-11"></a></span>
<span id="cb21-12"><a href="#cb21-12"></a>rank_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">person</th>
<th style="text-align: right;">week</th>
<th style="text-align: right;">score</th>
<th style="text-align: right;">rank</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Abeni</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Beth</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Carmen</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Beth</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Abeni</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Carmen</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Abeni</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Carmen</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Beth</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">3</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>A typical mapping for a bump plot puts the time variable in the x-axis, the rank variable on the y-axis, and sets colour to the identifying variable.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rank_data, </span>
<span id="cb22-2"><a href="#cb22-2"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> week, </span>
<span id="cb22-3"><a href="#cb22-3"></a>                     <span class="at">y =</span> rank, </span>
<span id="cb22-4"><a href="#cb22-4"></a>                     <span class="at">colour =</span> person)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  ggbump<span class="sc">::</span><span class="fu">geom_bump</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/basic-bump-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Basic bump plot</figcaption></figure>
</div>
</div>
</div>
<p>We can make this more attractive by customising the axes and adding text labels. Try running each line of this code to see how it builds up.</p>
<ul>
<li>Add <code>label = person</code> to the mapping so we can add in text labels.</li>
<li>Increase the size of the lines with the <code>size</code> argument to <code>geom_bump()</code>
</li>
<li>We don’t need labels for weeks 1.5 and 2.5, so change the x-axis <code>breaks</code>
</li>
<li>The <code>expand</code> argument for the two scale_ functions expands the plot area so we can fit text labels to the right.</li>
<li>It makes more sense to have first place at the top, so reverse the order of the y-axis with <code>scale_y_reverse()</code> and fix the breaks and expansion.</li>
<li>Add text labels with <code>geom_text()</code>, but just for week 3, so set <code>data =  filter(rank_data, week == 3)</code> for this geom.</li>
<li>Set <code>x = 3.05</code> to move the text labels just to the right of week 3, and set <code>hjust = 0</code> to right-justify the text labels (the default is <code>hjust = 0.5</code>, which would center them on 3.05).</li>
<li>Remove the legend and grid lines. Increase the x-axis text size.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> rank_data, </span>
<span id="cb23-2"><a href="#cb23-2"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> week, </span>
<span id="cb23-3"><a href="#cb23-3"></a>                     <span class="at">y =</span> rank, </span>
<span id="cb23-4"><a href="#cb23-4"></a>                     <span class="at">colour =</span> person,</span>
<span id="cb23-5"><a href="#cb23-5"></a>                     <span class="at">label =</span> person)) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>  ggbump<span class="sc">::</span><span class="fu">geom_bump</span>(<span class="at">size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">""</span>,</span>
<span id="cb23-8"><a href="#cb23-8"></a>                     <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb23-9"><a href="#cb23-9"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Week 1"</span>, <span class="st">"Week 2"</span>, <span class="st">"Week 3"</span>),</span>
<span id="cb23-10"><a href="#cb23-10"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="fu">c</span>(.<span class="dv">05</span>, .<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">name =</span> <span class="st">"Ranking"</span>,</span>
<span id="cb23-12"><a href="#cb23-12"></a>                  <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb23-13"><a href="#cb23-13"></a>                  <span class="at">expand =</span> <span class="fu">expansion</span>(.<span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> <span class="fu">filter</span>(rank_data, week <span class="sc">==</span> <span class="dv">3</span>),</span>
<span id="cb23-15"><a href="#cb23-15"></a>            <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">x =</span> <span class="fl">3.05</span>, <span class="at">hjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb23-16"><a href="#cb23-16"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb23-17"><a href="#cb23-17"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-18"><a href="#cb23-18"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-19"><a href="#cb23-19"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/bump-example-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Bump plot with added features.</figcaption></figure>
</div>
</div>
</div>
</section><section id="sec-word-clouds" class="level4"><h4 class="anchored" data-anchor-id="sec-word-clouds">Word Clouds</h4>
<p>Word clouds are a common way to summarise text data. First, download <a href="https://healthteachr.github.io/data/Health_Apps_Review.csv" download="">Health_Apps_Review.csv</a> into your data folder and then load it into an object. This dataset contains text reviews as well as the 1-5 rating from health app users.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># https://www.kaggle.com/datasets/faysal1998/health-apps-review</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>reviews <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"data/Health_Apps_Review.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can use this data to look at how the words used differ depending on the rating given. To make the text data easy to work with, the function <code><a href="https://juliasilge.github.io/tidytext/reference/unnest_tokens.html">tidytext::unnest_tokens()</a></code> splits the words in the <code>input</code> column into individual words in a new <code>output</code> column. <code>unnnest_tokens()</code> is particularly helpful because it also does things like removes punctuation and transforms all words to lower case to make it easier to work with. Compare <code>words</code> and `reviews`` to see how they map on to each other.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>words <span class="ot">&lt;-</span> reviews <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> <span class="st">"word"</span>, <span class="at">input =</span> <span class="st">"review"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can then add another line of code using a pipe that counts how many instances of each word there is by rating to give us the most popular words.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>words <span class="ot">&lt;-</span> reviews <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> <span class="st">"word"</span>, <span class="at">input =</span> <span class="st">"review"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">count</span>(word, rating, <span class="at">sort =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">word</th>
<th style="text-align: right;">rating</th>
<th style="text-align: right;">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">the</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1557</td>
</tr>
<tr class="even">
<td style="text-align: left;">i</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1150</td>
</tr>
<tr class="odd">
<td style="text-align: left;">to</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1132</td>
</tr>
<tr class="even">
<td style="text-align: left;">it</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1024</td>
</tr>
<tr class="odd">
<td style="text-align: left;">and</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">941</td>
</tr>
<tr class="even">
<td style="text-align: left;">the</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">909</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The problem is that the most common words are all function words rather than content words, which makes sense because these words have the highest word frequency in natural language.</p>
<p>Helpfully, <code>tidytext</code> contains a list of common “stop words”, i.e., words that you want to ignore, that are stored in an object named <code>stop_words</code>. It is also very useful to define a list of custom stop words based upon the unique properties of your data (it can sometimes take a few attempts to identify what’s appropriate for your dataset). This dataset contains a lot of numbers that aren’t informative, and it also contains “http” from website links, so we’ll get rid of both with a custom stop list.</p>
<p>Once you have defined your stop words, you can then use <code>anti_join()</code> to remove any <code>word</code> that is present in the stop word list.</p>
<p>To get the top 25 words, we then group by rating and use <code><a href="https://dplyr.tidyverse.org/reference/slice.html">dplyr::slice_max()</a></code>, ordered by the column <code>n</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>custom_stop <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">9</span>, <span class="st">"http"</span>, <span class="dv">2020</span>))</span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a>words <span class="ot">&lt;-</span> reviews <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> <span class="st">"word"</span>, <span class="at">input =</span> <span class="st">"review"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>  <span class="fu">count</span>(word, rating) <span class="sc">%&gt;%</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>  <span class="fu">anti_join</span>(stop_words, <span class="at">by =</span> <span class="st">"word"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>  <span class="fu">anti_join</span>(custom_stop, <span class="at">by =</span> <span class="st">"word"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-8"><a href="#cb28-8"></a>  <span class="fu">group_by</span>(rating) <span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="#cb28-9"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> n, <span class="at">n =</span> <span class="dv">25</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, let’s make a word cloud for users who gave a 1-star rating:</p>
<ul>
<li>Filter retains only the data for 1-star ratings.</li>
<li>
<code>label</code> comes from the <code>word</code> column and is the data to plot (i.e., the words).</li>
<li>
<code>colour</code> makes the words red (you could also set this to <code>word</code> to give each word a different colour or <code>n</code> to vary colour continuously by frequency).</li>
<li>
<code>size</code> makes the size of the word proportional to <code>n</code>, the number of times the word appeared.</li>
<li>
<code><a href="https://lepennec.github.io/ggwordcloud/reference/geom_text_wordcloud.html">ggwordcloud::geom_text_wordcloud_area()</a></code> is the word cloud geom.</li>
<li>
<code>ggwordcloud::scale_size_area()</code> controls how big the word cloud is (this usually takes some trial-and-error).</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>rating1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(words, rating <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">label =</span> word, <span class="at">colour =</span> <span class="st">"red"</span>, <span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">geom_text_wordcloud_area</span>() <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>  <span class="fu">scale_size_area</span>(<span class="at">max_size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>  <span class="fu">ggtitle</span>(<span class="st">"Rating = 1"</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb29-7"><a href="#cb29-7"></a></span>
<span id="cb29-8"><a href="#cb29-8"></a>rating1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>We can now do the same but for 5-star ratings and paste the plots together with <code>patchwork</code> (word clouds don’t play well with facets).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>rating5 <span class="ot">&lt;-</span> <span class="fu">filter</span>(words, rating <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">label =</span> word, <span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">geom_text_wordcloud_area</span>(<span class="at">colour =</span> <span class="st">"darkolivegreen3"</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>  <span class="fu">scale_size_area</span>(<span class="at">max_size =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>  <span class="fu">ggtitle</span>(<span class="st">"Rating = 5"</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb30-7"><a href="#cb30-7"></a></span>
<span id="cb30-8"><a href="#cb30-8"></a>rating1 <span class="sc">+</span> rating5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Word cloud.</figcaption></figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>It’s worth highlighting that whilst word clouds are very common, they’re really the equivalent of pie charts for text data because we’re not very good at making accurate comparisons based on size. You might be able to see what’s the most popular word, but can you accurately determine the 2nd, 3rd, 4th or 5th most popular word based on the clouds alone? There’s also the issue that just because it’s text data doesn’t make it a qualitative analysis and just because something is said a lot doesn’t mean it’s useful or important. But, this argument is outwith the scope of this book.</p>
</div>
</div>
</section><section id="maps" class="level4"><h4 class="anchored" data-anchor-id="maps">Maps</h4>
<p>Working with maps can be tricky. The <pkg>sf</pkg> package provides functions that work with <pkg>ggplot2</pkg>, such as <code>geom_sf()</code>. The <pkg>rnaturalearth</pkg> package (and associated data packages that you may be prompted to download) provide high-quality mapping coordinates.</p>
<ul>
<li>
<code>ne_countries()</code> returns world country polygons (i.e., a world map). We specify the object should be returned as a “simple feature” class <code>sf</code> so that it will work with <code>geom_sf()</code>. If you would like a deep dive on simple feature objects, check out a <a href="https://r-spatial.github.io/sf/articles/sf1.html">vignette</a> from the <pkg>sf</pkg> package.</li>
<li>It’s worth checking out what the object <code>ne_countries()</code> returns to see just how much information is available.</li>
<li>Try changing the values and colours below to get a sense of how the code works.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># get the world map coordinates</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>world_sf <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">returnclass =</span> <span class="st">"sf"</span>, <span class="at">scale =</span> <span class="st">"medium"</span>)</span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co"># plot them on a light blue background</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> world_sf, <span class="at">size =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb31-7"><a href="#cb31-7"></a>  <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightskyblue2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/map-world-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>You can combine multiple countries using <code>bind_rows()</code> and visualise them with different colours for each country.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># get and bind country data</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="fu">install.packages</span>(<span class="st">'rnaturalearthhires'</span>, <span class="at">repos =</span> <span class="fu">c</span>(<span class="st">'https://ropensci.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into 'C:/Users/osm25/AppData/Local/R/win-library/4.4'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">library</span>(<span class="st">"rnaturalearthhires"</span>)</span>
<span id="cb34-2"><a href="#cb34-2"></a>uk_sf <span class="ot">&lt;-</span> <span class="fu">ne_states</span>(<span class="at">country =</span> <span class="st">"united kingdom"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb34-3"><a href="#cb34-3"></a>ireland_sf <span class="ot">&lt;-</span> <span class="fu">ne_states</span>(<span class="at">country =</span> <span class="st">"ireland"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb34-4"><a href="#cb34-4"></a>islands <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(uk_sf, ireland_sf) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(geonunit))</span>
<span id="cb34-6"><a href="#cb34-6"></a></span>
<span id="cb34-7"><a href="#cb34-7"></a><span class="co"># set colours</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>country_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Scotland"</span> <span class="ot">=</span> <span class="st">"#0962BA"</span>,</span>
<span id="cb34-9"><a href="#cb34-9"></a>                     <span class="st">"Wales"</span> <span class="ot">=</span> <span class="st">"#00AC48"</span>,</span>
<span id="cb34-10"><a href="#cb34-10"></a>                     <span class="st">"England"</span> <span class="ot">=</span> <span class="st">"#FF0000"</span>,</span>
<span id="cb34-11"><a href="#cb34-11"></a>                     <span class="st">"Northern Ireland"</span> <span class="ot">=</span> <span class="st">"#FFCD2C"</span>,</span>
<span id="cb34-12"><a href="#cb34-12"></a>                     <span class="st">"Ireland"</span> <span class="ot">=</span> <span class="st">"#F77613"</span>)</span>
<span id="cb34-13"><a href="#cb34-13"></a></span>
<span id="cb34-14"><a href="#cb34-14"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb34-15"><a href="#cb34-15"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> islands,</span>
<span id="cb34-16"><a href="#cb34-16"></a>          <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> geonunit),</span>
<span id="cb34-17"><a href="#cb34-17"></a>          <span class="at">colour =</span> <span class="cn">NA</span>,</span>
<span id="cb34-18"><a href="#cb34-18"></a>          <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb34-19"><a href="#cb34-19"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> sf<span class="sc">::</span><span class="fu">st_crs</span>(<span class="dv">4326</span>),</span>
<span id="cb34-20"><a href="#cb34-20"></a>           <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">10.7</span>, <span class="fl">2.1</span>), </span>
<span id="cb34-21"><a href="#cb34-21"></a>           <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">49.7</span>, <span class="dv">61</span>)) <span class="sc">+</span></span>
<span id="cb34-22"><a href="#cb34-22"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">"Country"</span>, </span>
<span id="cb34-23"><a href="#cb34-23"></a>                    <span class="at">values =</span> country_colours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/map-islands-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Map coloured by country.</figcaption></figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>package 'rnaturalearthhires' successfully unpacked and MD5 sums checked

The downloaded binary packages are in
    C:\Users\local_osm25\Temp\RtmpwDn7TY\downloaded_packages</code></pre>
</div>
</div>
<p>You can join <a href="https://healthteachr.github.io/data/scottish_population.csv" download="">Scottish population data</a> to the map table to visualise data on the map using colours or labels.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="co"># load map data</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>scotland_sf <span class="ot">&lt;-</span> <span class="fu">ne_states</span>(<span class="at">geounit =</span> <span class="st">"Scotland"</span>, </span>
<span id="cb36-3"><a href="#cb36-3"></a>                         <span class="at">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb36-4"><a href="#cb36-4"></a></span>
<span id="cb36-5"><a href="#cb36-5"></a><span class="co"># load population data from</span></span>
<span id="cb36-6"><a href="#cb36-6"></a><span class="co"># https://www.indexmundi.com/facts/united-kingdom/quick-facts/scotland/population</span></span>
<span id="cb36-7"><a href="#cb36-7"></a>scotpop <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/scottish_population.csv"</span>, </span>
<span id="cb36-8"><a href="#cb36-8"></a>                    <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb36-9"><a href="#cb36-9"></a></span>
<span id="cb36-10"><a href="#cb36-10"></a><span class="co"># join data and fix typo in the map</span></span>
<span id="cb36-11"><a href="#cb36-11"></a>scotmap_pop <span class="ot">&lt;-</span> scotland_sf <span class="sc">%&gt;%</span></span>
<span id="cb36-12"><a href="#cb36-12"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">ifelse</span>(name <span class="sc">==</span> <span class="st">"North Ayshire"</span>, </span>
<span id="cb36-13"><a href="#cb36-13"></a>                       <span class="at">yes =</span> <span class="st">"North Ayrshire"</span>, </span>
<span id="cb36-14"><a href="#cb36-14"></a>                       <span class="at">no =</span> name)) <span class="sc">%&gt;%</span></span>
<span id="cb36-15"><a href="#cb36-15"></a>  <span class="fu">left_join</span>(scotpop, <span class="at">by =</span> <span class="st">"name"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-16"><a href="#cb36-16"></a>  <span class="fu">select</span>(name, population, geometry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is a typo in the data from <pkg>rnaturalearth</pkg>, so you need to change “North Ayshire” to “North Ayrshire” before you join the population data.</p>
</div>
</div>
<ul>
<li>Setting the fill to population in <code>geom_sf()</code> gives each region a colour based on its population.</li>
<li>The colours are customised with <code>scale_fill_viridis_c()</code>. The breaks of the fill scale are set to increments of 100K (1e5 in scientific notation) and the scale is set to span 0 to 600K.</li>
<li>
<code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code> creates the labels by taking the numbers 0 through 6 and adding “00 k” to them.</li>
<li>Finally, the position of the legend is moved into the sea using <code>legend.position()</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># plot</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> scotmap_pop,</span>
<span id="cb37-4"><a href="#cb37-4"></a>          <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> population),</span>
<span id="cb37-5"><a href="#cb37-5"></a>          <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb37-6"><a href="#cb37-6"></a>          <span class="at">size =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb37-7"><a href="#cb37-7"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">8</span>, <span class="dv">0</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">54</span>, <span class="dv">61</span>)) <span class="sc">+</span></span>
<span id="cb37-8"><a href="#cb37-8"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">"Population"</span>,</span>
<span id="cb37-9"><a href="#cb37-9"></a>                       <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="fl">6e5</span>, <span class="at">by =</span> <span class="fl">1e5</span>), </span>
<span id="cb37-10"><a href="#cb37-10"></a>                       <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">6e5</span>),</span>
<span id="cb37-11"><a href="#cb37-11"></a>                       <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">6</span>, <span class="st">"00 K"</span>)) <span class="sc">+</span></span>
<span id="cb37-12"><a href="#cb37-12"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.16</span>, <span class="fl">0.84</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2
3.5.0.
ℹ Please use the `legend.position.inside` argument of `theme()` instead.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/map-scotland-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Map coloured by population.</figcaption></figure>
</div>
</div>
</div>
</section><section id="animated-plots" class="level4"><h4 class="anchored" data-anchor-id="animated-plots">Animated Plots</h4>
<p>Animated plots are a great way to add a wow factor to your reports, but they can be complex to make, distracting, and not very accessible, so use them sparingly and only for data visualisation where the animation really adds something. The package <pkg>gganimate”, “https://gganimate.com/”)` has many functions for animating ggplots.</pkg></p>
<p>Here, we’ll load some population data from the United Nations. <a href="data/WPP2019_POP_F01_1_TOTAL_POPULATION_BOTH_SEXES.xlsx" download="">Download the file</a> into your data folder and open it in Excel first to see what it looks like. The code below gets the data from the first tab, filters it to just the 6 world regions, makes the data long, and makes sure the <code>year</code> column is numeric and the <code>pop</code> column shows population in whole numbers (the original data is in 1000s).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co"># load and process data</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>worldpop <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"data/WPP2019_POP_F01_1_TOTAL_POPULATION_BOTH_SEXES.xlsx"</span>, <span class="at">skip =</span> <span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>  <span class="fu">filter</span>(Type <span class="sc">==</span> <span class="st">"Region"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>  <span class="fu">select</span>(<span class="at">region =</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">1950</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">1992</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-5"><a href="#cb39-5"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>region, </span>
<span id="cb39-6"><a href="#cb39-6"></a>               <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb39-7"><a href="#cb39-7"></a>               <span class="at">values_to =</span> <span class="st">"pop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="#cb39-8"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.integer</span>(year),</span>
<span id="cb39-9"><a href="#cb39-9"></a>         <span class="at">pop =</span> <span class="fu">round</span>(<span class="dv">1000</span> <span class="sc">*</span> <span class="fu">as.numeric</span>(pop)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s make an animated plot showing how the population in each region changes with year. First, make a static plot. Filter the data to the most recent year so you can see what a single frame of the animation will look like.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>worldpop <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1992</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> region, <span class="at">y =</span> pop, <span class="at">fill =</span> region)) <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">""</span>, </span>
<span id="cb40-7"><a href="#cb40-7"></a>                   <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge=</span><span class="dv">2</span>))<span class="sc">+</span></span>
<span id="cb40-8"><a href="#cb40-8"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Population"</span>,</span>
<span id="cb40-9"><a href="#cb40-9"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">3e9</span>, <span class="fl">1e9</span>),</span>
<span id="cb40-10"><a href="#cb40-10"></a>                     <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"B"</span>)) <span class="sc">+</span></span>
<span id="cb40-11"><a href="#cb40-11"></a>  <span class="fu">ggtitle</span>(<span class="st">'Year: 1992'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>To convert this to an animated plot that shows the data from multiple years:</p>
<ul>
<li>Remove the filter and add <code>transition_time(year)</code>.</li>
<li>Use the <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> syntax to include the <code>frame_time</code> in the title.</li>
<li>Use <code>anim_save()</code> to save the animation to a GIF file and set this code chunk to <code>eval = FALSE</code> because creating an animation takes a long time and you don’t want to have to run it every time you knit your report.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">library</span>(gifski)</span>
<span id="cb41-2"><a href="#cb41-2"></a>anim <span class="ot">&lt;-</span> worldpop <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> region, <span class="at">y =</span> pop, <span class="at">fill =</span> region)) <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb41-5"><a href="#cb41-5"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb41-6"><a href="#cb41-6"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">""</span>,</span>
<span id="cb41-7"><a href="#cb41-7"></a>                   <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge=</span><span class="dv">2</span>))<span class="sc">+</span></span>
<span id="cb41-8"><a href="#cb41-8"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Population"</span>,</span>
<span id="cb41-9"><a href="#cb41-9"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">3e9</span>, <span class="fl">1e9</span>),</span>
<span id="cb41-10"><a href="#cb41-10"></a>                     <span class="at">labels =</span> <span class="fu">paste0</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"B"</span>)) <span class="sc">+</span></span>
<span id="cb41-11"><a href="#cb41-11"></a>  <span class="fu">ggtitle</span>(<span class="st">'Year: {frame_time}'</span>) <span class="sc">+</span></span>
<span id="cb41-12"><a href="#cb41-12"></a>  <span class="fu">transition_time</span>(year)</span>
<span id="cb41-13"><a href="#cb41-13"></a>  </span>
<span id="cb41-14"><a href="#cb41-14"></a><span class="fu">dir.create</span>(<span class="st">"images"</span>, <span class="cn">FALSE</span>) <span class="co"># creates an images directory if needed</span></span>
<span id="cb41-15"><a href="#cb41-15"></a></span>
<span id="cb41-16"><a href="#cb41-16"></a><span class="fu">anim_save</span>(<span class="at">animation =</span> anim,</span>
<span id="cb41-17"><a href="#cb41-17"></a>          <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">res =</span> <span class="dv">150</span>,<span class="at">renderer =</span> <span class="fu">gifski_renderer</span>(),</span>
<span id="cb41-18"><a href="#cb41-18"></a>          <span class="at">filename =</span> <span class="st">"images/gganim-demo.gif"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can show your animated gif in an html report (animations don’t work in Word or a PDF) using <code>include_graphics()</code>, or include the GIF in a dynamic document like PowerPoint.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"images/gganim-demo.gif"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/gganim-demo.gif" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Animated gif.</figcaption></figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are actually not many plots that are really improved by animating them. The plot below gives the same information at a single glance.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="10-custom_files/figure-html/anim-alternative-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="sec-resources-custom" class="level3" data-number="10.1.5"><h3 data-number="10.1.5" class="anchored" data-anchor-id="sec-resources-custom">
<span class="header-section-number">10.1.5</span> Resources</h3>
<p>There are so many more options for data visualisation in R than we have time to cover here. The following resources will get you started on your journey to informative, intuitive visualisations.</p>
<ul>
<li>
<a href="http://www.r-graph-gallery.com/">The R Graph Gallery</a> (this is really useful)</li>
<li>
<a href="https://socviz.co/lookatdata.html">Look at Data</a> from <a href="http://socviz.co/">Data Vizualization for Social Science</a>
</li>
<li>
<a href="http://www.cookbook-r.com/Graphs">Graphs</a> in <em>Cookbook for R</em>
</li>
<li><a href="http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html">Top 50 ggplot2 Visualizations</a></li>
<li>
<a href="http://www.cookbook-r.com/Graphs/">R Graphics Cookbook</a> by Winston Chang</li>
<li><a href="https://exts.ggplot2.tidyverse.org/">ggplot extensions</a></li>
<li>
<a href="https://plot.ly/ggplot2/">plotly</a> for creating interactive graphs</li>
<li><a href="https://r-spatial.org/r/2018/10/25/ggplot2-sf.html">Drawing Beautiful Maps Programmatically</a></li>
<li><a href="https://gganimate.com/">gganimate</a></li>
</ul></section></section><section id="sec-custom-reports" class="level2" data-number="10.2"><h2 data-number="10.2" class="anchored" data-anchor-id="sec-custom-reports">
<span class="header-section-number">10.2</span> Reports</h2>
<section id="sec-setup-custom-reports" class="level3" data-number="10.2.1"><h3 data-number="10.2.1" class="anchored" data-anchor-id="sec-setup-custom-reports">
<span class="header-section-number">10.2.1</span> Set-up</h3>
<p>Close your visualisation Markdown and open and save a new R Markdown document named <code>reports.Rmd</code>, delete the welcome text and load the required packages for this section.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co">#remove.packages("rlang")</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="co">#install.packages("rlang")</span></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="co">#library(rlang)</span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="co">#remove.packages("flexdashboard")</span></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="co">#install.packages("flexdashboard")</span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="fu">library</span>(tidyverse)     <span class="co"># data wrangling functions</span></span>
<span id="cb43-7"><a href="#cb43-7"></a><span class="fu">library</span>(bookdown)      <span class="co"># for chaptered reports</span></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="fu">library</span>(flexdashboard) <span class="co"># for dashboards</span></span>
<span id="cb43-9"><a href="#cb43-9"></a><span class="fu">library</span>(DT)            <span class="co"># for interactive tables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You’ll need to make a folder called “data” and download data files into it: <a href="https://healthteachr.github.io/data/Health_Apps_Review.csv" download="">Health_Apps_Review.csv</a> and <a href="https://healthteachr.github.io/data/scottish_population.csv" download="">scottish_population.csv</a>.</p>
</section><section id="sec-linked-docs" class="level3" data-number="10.2.2"><h3 data-number="10.2.2" class="anchored" data-anchor-id="sec-linked-docs">
<span class="header-section-number">10.2.2</span> Linked documents</h3>
<p>If you need to create longer reports with links between sections, you can edit the YAML to use a bookdown format. <code><a href="https://pkgs.rstudio.com/bookdown/reference/html_document2.html">bookdown::html_document2</a></code> is a useful one that adds figure and table numbers automatically to any figures or tables with a caption and allows you to link to these by reference.</p>
<p>To create links to tables and figures, you need to name the code chunk that created your figures or tables, and then call those names in your inline coding:</p>
<div class="cell" data-layout-align="center" data-verbatim="r tab-my-table">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r tab-my-table}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># table code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-verbatim="r fig-my-figure">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r fig-my-figure}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># figure code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<pre><code>See @tab-my-table or @fig-my-figure.</code></pre>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The code chunk names can only contain letters, numbers and dashes. If they contain other characters like spaces or underscores, the referencing will not work.</p>
</div>
</div>
<p>You can also link to different sections of your report by naming your headings with <code>{#sec-}</code>:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu"># My first heading {#sec-heading-1}</span></span>
<span id="cb47-2"><a href="#cb47-2"></a></span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="fu">## My second heading {#sec-heading-2}</span></span>
<span id="cb47-4"><a href="#cb47-4"></a></span>
<span id="cb47-5"><a href="#cb47-5"></a>See @sec-heading-1 and @sec-heading-2.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The code below shows how to link text to figures or tables in a full report using the built-in <code>diamonds</code> dataset - use your <code>reports.Rmd</code> to create this document now. You can see the <a href="demos/html_document2.html">HTML output here</a>.</p>
<div class="webex-solution">
<button>
Linked document code
</button>
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb48-1"><a href="#cb48-1"></a><span class="co">---</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="an">title:</span><span class="co"> "Linked Document Demo"</span></span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="an">output:</span><span class="co"> </span></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="co">  bookdown::html_document2:</span></span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="co">    number_sections: true</span></span>
<span id="cb48-6"><a href="#cb48-6"></a><span class="co">---</span></span>
<span id="cb48-7"><a href="#cb48-7"></a></span>
<span id="cb48-8"><a href="#cb48-8"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb48-9"><a href="#cb48-9"></a><span class="in">knitr::opts_chunk$set(echo = FALSE,</span></span>
<span id="cb48-10"><a href="#cb48-10"></a><span class="in">                      message = FALSE,</span></span>
<span id="cb48-11"><a href="#cb48-11"></a><span class="in">                      warning = FALSE)</span></span>
<span id="cb48-12"><a href="#cb48-12"></a><span class="in">library(tidyverse)</span></span>
<span id="cb48-13"><a href="#cb48-13"></a><span class="in">library(kableExtra)</span></span>
<span id="cb48-14"><a href="#cb48-14"></a><span class="in">theme_set(theme_minimal())</span></span>
<span id="cb48-15"><a href="#cb48-15"></a><span class="in">```</span></span>
<span id="cb48-16"><a href="#cb48-16"></a></span>
<span id="cb48-17"><a href="#cb48-17"></a>Diamond price depends on many features, such as:</span>
<span id="cb48-18"><a href="#cb48-18"></a></span>
<span id="cb48-19"><a href="#cb48-19"></a><span class="ss">- </span>cut (See @tab-tab:by-cut))</span>
<span id="cb48-20"><a href="#cb48-20"></a><span class="ss">- </span>colour (See @tab-tab:by-colour))</span>
<span id="cb48-21"><a href="#cb48-21"></a><span class="ss">- </span>clarity (See @fig-by-clarity))</span>
<span id="cb48-22"><a href="#cb48-22"></a><span class="ss">- </span>carats (See @fig-by-carat))</span>
<span id="cb48-23"><a href="#cb48-23"></a><span class="ss">- </span>See @sec-conclusion) for concluding remarks</span>
<span id="cb48-24"><a href="#cb48-24"></a></span>
<span id="cb48-25"><a href="#cb48-25"></a><span class="fu">## Tables</span></span>
<span id="cb48-26"><a href="#cb48-26"></a></span>
<span id="cb48-27"><a href="#cb48-27"></a><span class="fu">### Cut</span></span>
<span id="cb48-28"><a href="#cb48-28"></a></span>
<span id="cb48-29"><a href="#cb48-29"></a><span class="in">```{r by-cut}</span></span>
<span id="cb48-30"><a href="#cb48-30"></a><span class="in">diamonds %&gt;%</span></span>
<span id="cb48-31"><a href="#cb48-31"></a><span class="in">  group_by(cut) %&gt;%</span></span>
<span id="cb48-32"><a href="#cb48-32"></a><span class="in">  summarise(avg = mean(price),</span></span>
<span id="cb48-33"><a href="#cb48-33"></a><span class="in">            .groups = "drop") %&gt;%</span></span>
<span id="cb48-34"><a href="#cb48-34"></a><span class="in">  kable(digits = 0, </span></span>
<span id="cb48-35"><a href="#cb48-35"></a><span class="in">        col.names = c("Cut", "Average Price"),</span></span>
<span id="cb48-36"><a href="#cb48-36"></a><span class="in">        caption = "Mean diamond price by cut.") %&gt;%</span></span>
<span id="cb48-37"><a href="#cb48-37"></a><span class="in">  kable_material()</span></span>
<span id="cb48-38"><a href="#cb48-38"></a><span class="in">```</span></span>
<span id="cb48-39"><a href="#cb48-39"></a></span>
<span id="cb48-40"><a href="#cb48-40"></a><span class="fu">### Colour</span></span>
<span id="cb48-41"><a href="#cb48-41"></a></span>
<span id="cb48-42"><a href="#cb48-42"></a><span class="in">```{r by-colour}</span></span>
<span id="cb48-43"><a href="#cb48-43"></a><span class="in">diamonds %&gt;%</span></span>
<span id="cb48-44"><a href="#cb48-44"></a><span class="in">  group_by(color) %&gt;%</span></span>
<span id="cb48-45"><a href="#cb48-45"></a><span class="in">  summarise(avg = mean(price),</span></span>
<span id="cb48-46"><a href="#cb48-46"></a><span class="in">            .groups = "drop") %&gt;%</span></span>
<span id="cb48-47"><a href="#cb48-47"></a><span class="in">  kable(digits = 0, </span></span>
<span id="cb48-48"><a href="#cb48-48"></a><span class="in">        col.names = c("Cut", "Average Price"),</span></span>
<span id="cb48-49"><a href="#cb48-49"></a><span class="in">        caption = "Mean diamond price by colour.") %&gt;%</span></span>
<span id="cb48-50"><a href="#cb48-50"></a><span class="in">  kable_material()</span></span>
<span id="cb48-51"><a href="#cb48-51"></a><span class="in">```</span></span>
<span id="cb48-52"><a href="#cb48-52"></a></span>
<span id="cb48-53"><a href="#cb48-53"></a><span class="fu">## Plots</span></span>
<span id="cb48-54"><a href="#cb48-54"></a></span>
<span id="cb48-55"><a href="#cb48-55"></a><span class="fu">### Clarity</span></span>
<span id="cb48-56"><a href="#cb48-56"></a></span>
<span id="cb48-57"><a href="#cb48-57"></a><span class="in">```{r by-clarity, fig.cap = "Diamond price by clarity"}</span></span>
<span id="cb48-58"><a href="#cb48-58"></a><span class="in">ggplot(diamonds, aes(x = clarity, y = price)) +</span></span>
<span id="cb48-59"><a href="#cb48-59"></a><span class="in">  geom_boxplot() </span></span>
<span id="cb48-60"><a href="#cb48-60"></a><span class="in">```</span></span>
<span id="cb48-61"><a href="#cb48-61"></a></span>
<span id="cb48-62"><a href="#cb48-62"></a><span class="fu">### Carats</span></span>
<span id="cb48-63"><a href="#cb48-63"></a></span>
<span id="cb48-64"><a href="#cb48-64"></a><span class="in">```{r by-carat, fig.cap = "Diamond price by carat"}</span></span>
<span id="cb48-65"><a href="#cb48-65"></a><span class="in">ggplot(diamonds, aes(x = carat, y = price)) +</span></span>
<span id="cb48-66"><a href="#cb48-66"></a><span class="in">  stat_smooth()</span></span>
<span id="cb48-67"><a href="#cb48-67"></a><span class="in">```</span></span>
<span id="cb48-68"><a href="#cb48-68"></a></span>
<span id="cb48-69"><a href="#cb48-69"></a><span class="fu">### Concluding remarks {#sec-conclusion}</span></span>
<span id="cb48-70"><a href="#cb48-70"></a></span>
<span id="cb48-71"><a href="#cb48-71"></a>I am not rich enough to worry about any of this.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This format defaults to numbered sections, so set <code>number_sections: false</code> in the <a href="https://psyteachr.github.io/glossary/y#yaml" target="_blank" class="glossary" title="A structured format for information">YAML</a> header if you don’t want this. If you remove numbered sections, links like <code>@sec-conclusion)</code> will show “??”, so you need to use URL link syntax instead, like this:</p>
<pre><code>See the [last section](#conclusion) for concluding remarks.</code></pre>
</section><section id="sec-references" class="level3" data-number="10.2.3"><h3 data-number="10.2.3" class="anchored" data-anchor-id="sec-references">
<span class="header-section-number">10.2.3</span> References</h3>
<p>There are several ways to do in-text references and automatically generate a <a href="https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html" target="_blank">bibliography</a> in R Markdown. Markdown files need to link to a BibTex file (a plain text file with references in a specific format) that contains the references you need to cite. You specify the name of this file in the YAML header, like <code>bibliography: filename.bib</code> and cite references in text using an at symbol and a shortname, like <code>[@tidyverse]</code>.</p>
<section id="creating-a-bibtex-file" class="level4"><h4 class="anchored" data-anchor-id="creating-a-bibtex-file">Creating a BibTeX file</h4>
<p>Most reference software like EndNote, Zotero or Mendeley have exporting options that can export to BibTeX format. You just need to check the shortnames in the resulting file.</p>
<p>You can also make a BibTeX file and add references manually. In RStudio, go to <if>File &gt; New File… &gt; Text File</if> and save the file as “bibliography.bib”.</p>
<p>Next, add the line <code>bibliography: bibliography.bib</code> to your YAML header.</p>
</section><section id="adding-references" class="level4"><h4 class="anchored" data-anchor-id="adding-references">Adding references</h4>
<p>You can add references to a journal article in the following format:</p>
<pre><code>@article{shortname,
  author = {Author One and Author Two and Author Three},
  title = {Paper Title},
  journal = {Journal Title},
  volume = {vol},
  number = {issue},
  pages = {startpage--endpage},
  year = {year},
  doi = {doi}
}</code></pre>
<p>See <a href="https://www.bibtex.com/g/bibtex-format/" target="_blank">A complete guide to the BibTeX format</a> for instructions on citing books, technical reports, and more.</p>
<p>You can get the reference for an R package using the functions <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code> and <code><a href="https://rdrr.io/r/utils/toLatex.html">toBibtex()</a></code>. You can paste the bibtex entry into your bibliography.bib file. Make sure to add a short name (e.g., “ggplot2”) before the first comma to refer to the reference.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">citation</span>(<span class="at">package=</span><span class="st">"ggplot2"</span>) <span class="sc">%&gt;%</span> <span class="fu">toBibtex</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>@Book{,
  author = {Hadley Wickham},
  title = {ggplot2: Elegant Graphics for Data Analysis},
  publisher = {Springer-Verlag New York},
  year = {2016},
  isbn = {978-3-319-24277-4},
  url = {https://ggplot2.tidyverse.org},
}</code></pre>
</div>
</div>
<p><a href="https://scholar.google.com/">Google Scholar</a> entries have a BibTeX citation option. This is usually the easiest way to get the relevant values, although you have to add the DOI yourself. You can keep the suggested shortname or change it to something that makes more sense to you.</p>
<div class="cell" data-layout-align="center" data-fi.caption="Get BibTex citations from Google Scholar.">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/present/google-scholar.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="citing-references" class="level4"><h4 class="anchored" data-anchor-id="citing-references">Citing references</h4>
<p>You can cite references in text like this:</p>
<pre><code>This tutorial uses several R packages [@tidyverse;@rmarkdown].</code></pre>
<p>This tutorial uses several R packages <span class="citation" data-cites="tidyverse rmarkdown">(<a href="11-refs.html#ref-rmarkdown" role="doc-biblioref">Allaire et al., 2018</a>; <a href="11-refs.html#ref-tidyverse" role="doc-biblioref">Wickham, 2017</a>)</span>.</p>
<p>Put a minus in front of the @ if you just want the year:</p>
<pre><code>Franconeri and colleagues [-@franconeri2021science] review research-backed guidelines for creating effective and intuitive visualizations.</code></pre>
<p>Franconeri and colleagues <span class="citation" data-cites="franconeri2021science">(<a href="11-refs.html#ref-franconeri2021science" role="doc-biblioref">2021</a>)</span> review research-backed guidelines for creating effective and intuitive visualizations.</p>
</section><section id="citation-styles" class="level4"><h4 class="anchored" data-anchor-id="citation-styles">Citation styles</h4>
<p>You can search a <a href="https://www.zotero.org/styles" target="_blank">list of style files</a> (e.g., APA, MLA, Harvard) and download a file that will format your bibliography. You’ll need to add the line <code>csl: filename.csl</code> to your YAML header.</p>
</section><section id="reference-section" class="level4"><h4 class="anchored" data-anchor-id="reference-section">Reference section</h4>
<p>By default, the reference section is added to the end of the document. If you want to change the position (e.g., to add figures and tables after the references), include <code>&lt;div id="refs"&gt;&lt;/div&gt;</code> where you want the references.</p>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Add in-text citations and a reference list to your report.</p>
</div>
</div>
</section></section><section id="interactive-tables" class="level3" data-number="10.2.4"><h3 data-number="10.2.4" class="anchored" data-anchor-id="interactive-tables">
<span class="header-section-number">10.2.4</span> Interactive tables</h3>
<p>One way to make your reports more exciting is to use interactive tables. The <code><a href="https://rdrr.io/pkg/DT/man/datatable.html">DT::datatable()</a></code> function displays a table with some extra interactive elements to allow readers to search and reorder the data, as well as controlling the number of rows shown at once. This can be especially helpful. This only works with HTML output types. The <a href="https://rstudio.github.io/DT/" target="_blank">DT website</a> has extensive tutorials, but we’ll cover the basics here.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a>scotpop <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/scottish_population.csv"</span>, </span>
<span id="cb55-4"><a href="#cb55-4"></a>                    <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb55-5"><a href="#cb55-5"></a></span>
<span id="cb55-6"><a href="#cb55-6"></a><span class="fu">datatable</span>(<span class="at">data =</span> scotpop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-46f95cd61b7e7dbeb5c0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-46f95cd61b7e7dbeb5c0">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32"],["Aberdeen","Aberdeenshire","Angus","Argyll and Bute","Edinburgh","Clackmannanshire","Dumfries and Galloway","Dundee","East Ayrshire","East Dunbartonshire","East Lothian","East Renfrewshire","Eilean Siar","Falkirk","Fife","Glasgow","Highland","Inverclyde","Midlothian","Moray","North Ayrshire","North Lanarkshire","Orkney","Perthshire and Kinross","Renfrewshire","Scottish Borders","Shetland Islands","South Ayrshire","South Lanarkshire","Stirling","West Dunbartonshire","West Lothian"],[217120,245780,110570,89200,486120,50630,148190,144290,120240,104580,97500,89540,26190,153280,365020,592820,221630,79770,81140,87720,135180,326360,20110,147780,170250,112870,22400,111440,311880,89850,90570,172080]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>population<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"name","targets":1},{"name":"population","targets":2}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>You can customise the display, such as changing column names, adding a caption, moving the location of the filter boxes, removing row names, applying <a href="https://datatables.net/manual/styling/classes" target="_blank">classes</a> to change table appearance, and applying <a href="https://datatables.net/reference/option/" target="_blank">advanced options</a>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co"># https://datatables.net/reference/option/</span></span>
<span id="cb56-2"><a href="#cb56-2"></a>my_options <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="co"># how many rows are displayed</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>  <span class="at">lengthChange =</span> <span class="cn">FALSE</span>, <span class="co"># whether pageLength can change</span></span>
<span id="cb56-5"><a href="#cb56-5"></a>  <span class="at">info =</span> <span class="cn">TRUE</span>, <span class="co"># text with the total number of rows</span></span>
<span id="cb56-6"><a href="#cb56-6"></a>  <span class="at">paging =</span> <span class="cn">TRUE</span>, <span class="co"># if FALSE, the whole table displays</span></span>
<span id="cb56-7"><a href="#cb56-7"></a>  <span class="at">ordering =</span> <span class="cn">FALSE</span>, <span class="co"># whether you can reorder columns</span></span>
<span id="cb56-8"><a href="#cb56-8"></a>  <span class="at">searching =</span> <span class="cn">FALSE</span> <span class="co"># whether you can search the table</span></span>
<span id="cb56-9"><a href="#cb56-9"></a>)</span>
<span id="cb56-10"><a href="#cb56-10"></a></span>
<span id="cb56-11"><a href="#cb56-11"></a><span class="fu">datatable</span>(</span>
<span id="cb56-12"><a href="#cb56-12"></a>  <span class="at">data =</span> scotpop,</span>
<span id="cb56-13"><a href="#cb56-13"></a>  <span class="at">colnames =</span> <span class="fu">c</span>(<span class="st">"County"</span>, <span class="st">"Population"</span>),</span>
<span id="cb56-14"><a href="#cb56-14"></a>  <span class="at">caption =</span> <span class="st">"The population of Scottish counties."</span>,</span>
<span id="cb56-15"><a href="#cb56-15"></a>  <span class="at">filter =</span> <span class="st">"none"</span>, <span class="co"># "none", "bottom" or "top"</span></span>
<span id="cb56-16"><a href="#cb56-16"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="co"># removes the number at the left</span></span>
<span id="cb56-17"><a href="#cb56-17"></a>  <span class="at">class =</span> <span class="st">"cell-border hover stripe"</span>, <span class="co"># default is "display"</span></span>
<span id="cb56-18"><a href="#cb56-18"></a>  <span class="at">options =</span> my_options</span>
<span id="cb56-19"><a href="#cb56-19"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8e19450a8bda2ea8d720" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8e19450a8bda2ea8d720">{"x":{"filter":"none","vertical":false,"caption":"<caption>The population of Scottish counties.<\/caption>","data":[["Aberdeen","Aberdeenshire","Angus","Argyll and Bute","Edinburgh","Clackmannanshire","Dumfries and Galloway","Dundee","East Ayrshire","East Dunbartonshire","East Lothian","East Renfrewshire","Eilean Siar","Falkirk","Fife","Glasgow","Highland","Inverclyde","Midlothian","Moray","North Ayrshire","North Lanarkshire","Orkney","Perthshire and Kinross","Renfrewshire","Scottish Borders","Shetland Islands","South Ayrshire","South Lanarkshire","Stirling","West Dunbartonshire","West Lothian"],[217120,245780,110570,89200,486120,50630,148190,144290,120240,104580,97500,89540,26190,153280,365020,592820,221630,79770,81140,87720,135180,326360,20110,147780,170250,112870,22400,111440,311880,89850,90570,172080]],"container":"<table class=\"cell-border hover stripe\">\n  <thead>\n    <tr>\n      <th>County<\/th>\n      <th>Population<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthChange":false,"info":true,"paging":true,"ordering":false,"searching":false,"columnDefs":[{"className":"dt-right","targets":1},{"name":"name","targets":0},{"name":"population","targets":1}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Create an interactive table like the one below from the <code>diamonds</code> dataset of diamonds where the <code>table</code> value is greater than 65 (the whole table is <em>much</em> too large to display with an interactive table). Show 20 items by default and remove the search box, but leave in the filter and other default options.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0bf6cc79cbc2a7ca0250" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0bf6cc79cbc2a7ca0250">{"x":{"filter":"none","vertical":false,"caption":"<caption>All diamonds with table &gt; 65.<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181"],[0.86,0.84,0.7,0.76,0.57,0.74,0.91,0.98,0.75,0.72,0.9,0.75,0.99,0.98,1.06,0.85,0.73,1.2,0.91,1,0.95,0.9,0.9,0.99,0.9,1.01,0.98,0.96,1,1.01,1.01,1.17,1.18,0.9,1,1.01,0.9,1,0.9399999999999999,0.97,0.31,0.91,1.05,1.45,1,0.51,1.07,0.9,0.91,1.18,1.07,1.45,1.13,1.17,0.3,1,1.01,0.93,1.01,1,1.65,1.14,1.5,1.16,1.42,1.24,2.01,1.44,1.57,1.5,1.51,1.52,1.53,1.76,1.55,1.51,1.52,1,1.51,1.5,1.51,2,2.1,1.91,2,1.32,2.29,1.98,1.51,2.01,2.01,2.29,2.01,2.48,2.01,0.23,2.1,0.23,0.3,0.45,0.36,0.5,0.5,0.23,0.46,0.3,0.4,0.43,0.46,0.5,0.54,0.5,0.7,0.5,0.5,0.49,0.5600000000000001,0.5,0.51,0.89,0.5,0.52,0.64,0.52,0.67,0.68,0.62,0.67,0.7,0.53,0.5,0.5600000000000001,0.57,0.75,0.71,0.71,0.7,0.75,0.73,0.96,0.7,0.5,0.75,0.77,0.74,0.7,0.7,0.7,0.7,0.77,0.6899999999999999,0.7,0.9,0.6,0.71,0.7,0.6899999999999999,0.77,0.8100000000000001,0.71,0.76,0.73,0.62,0.7,0.79,0.71,0.7,1.05,0.71,0.6,0.82,0.76,0.97,0.88,0.5,0.5,0.89,0.72,0.71,0.78,0.71],["Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Good","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Good","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Good","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Good","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Good","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Very Good","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair","Fair"],["E","G","G","G","E","F","H","E","F","F","I","E","J","F","J","G","F","I","D","G","J","E","I","I","I","F","F","E","D","G","G","I","D","D","F","E","F","F","F","F","E","H","I","F","H","F","E","F","E","I","F","J","I","H","F","G","H","D","D","G","J","G","G","F","G","D","F","H","H","E","F","H","I","J","F","G","G","D","E","E","H","I","G","I","F","F","J","H","G","F","H","J","E","I","D","D","F","G","G","F","F","F","E","F","G","E","G","H","G","E","F","H","H","F","E","D","H","G","F","H","F","I","I","F","I","G","F","F","E","E","G","F","G","J","H","I","I","J","I","F","F","G","J","J","J","H","G","G","E","J","G","H","E","G","F","I","G","I","F","F","H","I","E","G","G","D","H","I","F","F","F","D","J","I","E","E","G","H","G","H","F"],["SI2","SI1","VVS1","VS1","VVS1","VS2","SI2","SI2","VS1","VS1","VS2","VS2","SI1","SI2","SI2","VS1","VS1","I1","SI2","SI2","SI1","SI2","VVS2","SI1","VS2","SI2","SI1","SI2","SI2","SI2","SI2","SI2","SI2","VS2","SI2","SI2","VS2","SI2","SI1","SI1","SI1","VVS1","VS1","I1","VS1","VVS2","SI2","VS2","VS2","VS2","SI1","SI2","VS2","SI2","VS1","VS1","VS1","VS2","VS2","VS1","SI1","VS1","SI2","VS1","VS2","SI1","I1","VS1","VS1","SI2","SI2","VS2","VS2","VS1","SI1","VS2","VS2","VVS1","SI1","SI1","VS1","VS1","SI2","VS1","SI2","VVS1","SI1","VS1","VS1","SI1","SI2","VS2","SI2","SI2","SI2","VVS1","SI2","VVS2","VVS1","SI1","VS1","I1","SI2","VVS1","SI1","VVS2","SI1","SI1","VS1","SI2","SI1","VS2","I1","SI2","SI1","VS2","VS2","VS1","VS2","I1","VS1","VVS2","VS2","SI1","VS2","SI1","SI1","SI1","SI2","VS1","VVS2","VS2","VS2","SI1","VS2","VS2","SI1","VS1","SI2","I1","SI2","VVS2","VS2","SI1","VS1","SI1","SI1","SI2","SI1","VS1","VS1","VS1","I1","VVS2","SI1","VS1","VS1","VVS2","SI2","SI2","SI1","VS1","VS1","SI1","SI1","VS2","VS1","I1","SI1","VVS2","SI2","SI2","SI2","VS2","VS2","VS2","SI2","VVS2","VS2","VS2","VS1"],[55.1,55.1,58.8,59,58.7,61.1,61.3,53.3,55.8,56.9,64.09999999999999,56,58,61.6,61,57.7,58.6,62.2,62.5,64.59999999999999,58,57.5,60.9,60.7,58.5,60.1,61.8,57.7,65.59999999999999,58.7,59.8,59.2,57,57.5,59.3,56.8,58.9,59,56.8,56.4,56.9,56.5,58.9,64.8,57.4,60.7,62.2,59.5,61.8,62,60.6,58.6,55.9,60,61.7,63.1,61.4,56.3,59.1,58.7,61.6,57.5,68.5,57.8,59.6,55.6,58.7,58.1,67.3,59.9,61.8,62.1,57.7,56.9,59.7,58.1,55.2,56.7,58.4,58.2,58,58.5,61.4,59.5,59.8,58,56.8,58.3,60.8,58.6,61.2,57,62.1,56.7,59.4,60.3,59.5,61.4,58.6,57.9,55.3,57.5,58,60.3,63.4,51,59.9,62.7,58,59.8,61.4,62.4,62.1,61.1,61.7,57.5,52.7,60.3,61,58.8,62.9,60.4,55.3,65.5,57.2,58,55.1,56,58.7,62.3,62.9,57,58.2,55,62.1,61.6,62,61.9,61.3,62.9,58.2,60.6,59.1,60.2,58.8,61,61.6,61.5,57.2,61.2,57.8,62,59.9,57.9,57,60.2,61.2,59.2,68.8,60.1,61.9,55.9,58.8,61.7,65.3,55.6,59.6,61.8,59.8,60.1,56.7,55.5,60.8,57.4,79,79,58.9,56.5,57,54.7,57.3],[2757,2782,2797,2800,2805,2805,2825,2855,2859,2879,2921,2940,2949,2958,2992,2998,3002,3011,3079,3142,3154,3187,3288,3337,3353,3597,3622,3674,3767,3816,3816,3833,3899,3931,3975,3991,3992,4036,4053,4063,579,4115,4281,4320,4368,4368,4496,4536,4550,4553,4554,4570,4695,4717,593,4892,5062,5078,5797,5853,5914,6381,6552,7094,7214,7291,7294,7338,8133,8190,8287,8674,8996,9314,10217,10553,10623,10752,11102,11128,11263,11322,11946,12244,12610,12648,12811,12923,12948,13387,13587,13701,14948,15030,15627,425,16506,369,790,794,810,827,851,472,911,945,960,984,1035,1114,1114,1122,1138,1156,1238,1249,1293,1327,1334,1334,1348,1401,1411,1427,1436,1633,1641,1642,1723,1778,1791,1814,1816,1827,1832,1840,1848,1869,1892,1917,1920,1939,1944,1956,1982,1995,1995,1999,2000,2005,2070,2100,2138,2167,2198,2234,2235,2292,2301,2327,2328,2330,2344,2352,2362,2368,2395,2396,2458,2484,2508,2518,2538,2550,2579,2579,2579,2608,2623,2691,2707]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>carat<\/th>\n      <th>cut<\/th>\n      <th>color<\/th>\n      <th>clarity<\/th>\n      <th>depth<\/th>\n      <th>price<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"searching":false,"columnDefs":[{"className":"dt-right","targets":[1,5,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"carat","targets":1},{"name":"cut","targets":2},{"name":"color","targets":3},{"name":"clarity","targets":4},{"name":"depth","targets":5},{"name":"price","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,20,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center" data-webex.hide="true">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>my_options <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="at">pageLength =</span> <span class="dv">20</span>, <span class="co"># how many rows are displayed</span></span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="at">searching =</span> <span class="cn">FALSE</span> <span class="co"># whether you can search the table</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>)</span>
<span id="cb57-5"><a href="#cb57-5"></a></span>
<span id="cb57-6"><a href="#cb57-6"></a>diamonds <span class="sc">%&gt;%</span> </span>
<span id="cb57-7"><a href="#cb57-7"></a>  <span class="fu">filter</span>(table <span class="sc">&gt;</span> <span class="dv">65</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-8"><a href="#cb57-8"></a>  <span class="fu">select</span>(<span class="sc">-</span>table, <span class="sc">-</span>(x<span class="sc">:</span>z)) <span class="sc">%&gt;%</span></span>
<span id="cb57-9"><a href="#cb57-9"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(</span>
<span id="cb57-10"><a href="#cb57-10"></a>    <span class="at">caption =</span> <span class="st">"All diamonds with table &gt; 65."</span>,</span>
<span id="cb57-11"><a href="#cb57-11"></a>    <span class="at">options =</span> my_options</span>
<span id="cb57-12"><a href="#cb57-12"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="other-formats" class="level3" data-number="10.2.5"><h3 data-number="10.2.5" class="anchored" data-anchor-id="other-formats">
<span class="header-section-number">10.2.5</span> Other formats</h3>
<p>You can create more than just reports with R Markdown. You can also create presentations, interactive dashboards, books, websites, and web applications.</p>
<section id="presentations" class="level4"><h4 class="anchored" data-anchor-id="presentations">Presentations</h4>
<p>You can choose a presentation template when you create a new R Markdown document. We’ll use ioslides for this example, but the other formats work similarly.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/present/new-ioslides.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Ioslides RMarkdown template.</figcaption></figure>
</div>
</div>
</div>
<p>The main differences between this and the Rmd files you’ve been working with until now are that the <code>output</code> type in the <a href="https://psyteachr.github.io/glossary/y#yaml" target="_blank" class="glossary" title="A structured format for information">YAML</a> header is <code>ioslides_presentation</code> instead of <code>html_document</code> and this format requires a specific title structure. Each slide starts with a level-2 header.</p>
<p>The template provides you with examples of text, bullet point, code, and plot slides. You can knit this template to create an <a href="https://psyteachr.github.io/glossary/h#html" target="_blank" class="glossary" title="Hyper-Text Markup Language: A system for semantically tagging structure and information on web pages.">HTML</a> document with your presentation. It often looks odd in the RStudio built-in browser, so click the button to open it in a web browser. You can use the space bar or arrow keys to advance slides.</p>
<p>The code below shows how to load some packages and display text, a table, and a plot. You can see the <a href="demos/ioslides.html">HTML output here</a>.</p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb58-1"><a href="#cb58-1"></a><span class="co">---</span></span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="an">title:</span><span class="co"> "Presentation Demo"</span></span>
<span id="cb58-3"><a href="#cb58-3"></a><span class="an">author:</span><span class="co"> "Lisa DeBruine"</span></span>
<span id="cb58-4"><a href="#cb58-4"></a><span class="an">output:</span><span class="co"> ioslides_presentation</span></span>
<span id="cb58-5"><a href="#cb58-5"></a><span class="co">---</span></span>
<span id="cb58-6"><a href="#cb58-6"></a></span>
<span id="cb58-7"><a href="#cb58-7"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb58-8"><a href="#cb58-8"></a><span class="in">knitr::opts_chunk$set(echo = FALSE)</span></span>
<span id="cb58-9"><a href="#cb58-9"></a><span class="in">library(tidyverse)</span></span>
<span id="cb58-10"><a href="#cb58-10"></a><span class="in">library(kableExtra)</span></span>
<span id="cb58-11"><a href="#cb58-11"></a><span class="in">```</span></span>
<span id="cb58-12"><a href="#cb58-12"></a></span>
<span id="cb58-13"><a href="#cb58-13"></a><span class="fu">## Slide with Markdown</span></span>
<span id="cb58-14"><a href="#cb58-14"></a></span>
<span id="cb58-15"><a href="#cb58-15"></a>The following slides will present some data from the <span class="in">`diamonds`</span> dataset from **ggplot2**.</span>
<span id="cb58-16"><a href="#cb58-16"></a></span>
<span id="cb58-17"><a href="#cb58-17"></a>Diamond price depends on many features, such as:</span>
<span id="cb58-18"><a href="#cb58-18"></a></span>
<span id="cb58-19"><a href="#cb58-19"></a><span class="ss">- </span>cut</span>
<span id="cb58-20"><a href="#cb58-20"></a><span class="ss">- </span>colour</span>
<span id="cb58-21"><a href="#cb58-21"></a><span class="ss">- </span>clarity</span>
<span id="cb58-22"><a href="#cb58-22"></a><span class="ss">- </span>carats</span>
<span id="cb58-23"><a href="#cb58-23"></a></span>
<span id="cb58-24"><a href="#cb58-24"></a><span class="fu">## Slide with a Table</span></span>
<span id="cb58-25"><a href="#cb58-25"></a></span>
<span id="cb58-26"><a href="#cb58-26"></a><span class="in">```{r}</span></span>
<span id="cb58-27"><a href="#cb58-27"></a><span class="in">diamonds %&gt;%</span></span>
<span id="cb58-28"><a href="#cb58-28"></a><span class="in">  group_by(cut, color) %&gt;%</span></span>
<span id="cb58-29"><a href="#cb58-29"></a><span class="in">  summarise(avg_price = mean(price),</span></span>
<span id="cb58-30"><a href="#cb58-30"></a><span class="in">            .groups = "drop") %&gt;%</span></span>
<span id="cb58-31"><a href="#cb58-31"></a><span class="in">  pivot_wider(names_from = cut, values_from = avg_price) %&gt;%</span></span>
<span id="cb58-32"><a href="#cb58-32"></a><span class="in">  kable(digits = 0, caption = "Mean diamond price by cut and colour.") %&gt;%</span></span>
<span id="cb58-33"><a href="#cb58-33"></a><span class="in">  kable_material()</span></span>
<span id="cb58-34"><a href="#cb58-34"></a><span class="in">```</span></span>
<span id="cb58-35"><a href="#cb58-35"></a></span>
<span id="cb58-36"><a href="#cb58-36"></a><span class="fu">## Slide with a Plot</span></span>
<span id="cb58-37"><a href="#cb58-37"></a></span>
<span id="cb58-38"><a href="#cb58-38"></a><span class="in">```{r pressure}</span></span>
<span id="cb58-39"><a href="#cb58-39"></a><span class="in">ggplot(diamonds, aes(x = cut, y = price, color = color)) +</span></span>
<span id="cb58-40"><a href="#cb58-40"></a><span class="in">  stat_summary(fun = mean, geom = "point") +</span></span>
<span id="cb58-41"><a href="#cb58-41"></a><span class="in">  stat_summary(aes(x = as.integer(cut)), </span></span>
<span id="cb58-42"><a href="#cb58-42"></a><span class="in">               fun = mean, geom = "line") +</span></span>
<span id="cb58-43"><a href="#cb58-43"></a><span class="in">  scale_x_discrete(position = "top") +</span></span>
<span id="cb58-44"><a href="#cb58-44"></a><span class="in">  scale_color_viridis_d(guide = guide_legend(reverse = TRUE)) +</span></span>
<span id="cb58-45"><a href="#cb58-45"></a><span class="in">  theme_minimal() </span></span>
<span id="cb58-46"><a href="#cb58-46"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="dashboards" class="level4"><h4 class="anchored" data-anchor-id="dashboards">Dashboards</h4>
<p>Dashboards are a way to display text, tables, and plots with dynamic formatting. After you install <pkg>flexdashboard</pkg>, you can choose a flexdashboard template when you create a new R Markdown document.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/present/flexdashboard-template.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Flexdashboard RMarkdown template.</figcaption></figure>
</div>
</div>
</div>
<p>The code below shows how to load some packages, display two tables in a tabset, and display two plots in a column. You can see the <a href="demos/flexdashboard.html">HTML output here</a>.</p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb59-1"><a href="#cb59-1"></a><span class="co">---</span></span>
<span id="cb59-2"><a href="#cb59-2"></a><span class="an">title:</span><span class="co"> "Flexdashboard Demo"</span></span>
<span id="cb59-3"><a href="#cb59-3"></a><span class="an">output:</span><span class="co"> </span></span>
<span id="cb59-4"><a href="#cb59-4"></a><span class="co">  flexdashboard::flex_dashboard:</span></span>
<span id="cb59-5"><a href="#cb59-5"></a><span class="co">    social: [ "twitter", "facebook", "linkedin", "pinterest" ]</span></span>
<span id="cb59-6"><a href="#cb59-6"></a><span class="co">    source_code: embed</span></span>
<span id="cb59-7"><a href="#cb59-7"></a><span class="co">    orientation: columns</span></span>
<span id="cb59-8"><a href="#cb59-8"></a><span class="co">    vertical_layout: fill</span></span>
<span id="cb59-9"><a href="#cb59-9"></a><span class="co">---</span></span>
<span id="cb59-10"><a href="#cb59-10"></a></span>
<span id="cb59-11"><a href="#cb59-11"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb59-12"><a href="#cb59-12"></a><span class="in">library(flexdashboard)</span></span>
<span id="cb59-13"><a href="#cb59-13"></a><span class="in">library(tidyverse)</span></span>
<span id="cb59-14"><a href="#cb59-14"></a><span class="in">library(kableExtra)</span></span>
<span id="cb59-15"><a href="#cb59-15"></a><span class="in">library(DT) # for interactive tables</span></span>
<span id="cb59-16"><a href="#cb59-16"></a><span class="in">theme_set(theme_minimal())</span></span>
<span id="cb59-17"><a href="#cb59-17"></a><span class="in">```</span></span>
<span id="cb59-18"><a href="#cb59-18"></a></span>
<span id="cb59-19"><a href="#cb59-19"></a>Column {data-width=350, .tabset}</span>
<span id="cb59-20"><a href="#cb59-20"></a>--------------------------------</span>
<span id="cb59-21"><a href="#cb59-21"></a></span>
<span id="cb59-22"><a href="#cb59-22"></a><span class="fu">### By Cut</span></span>
<span id="cb59-23"><a href="#cb59-23"></a></span>
<span id="cb59-24"><a href="#cb59-24"></a>This table uses <span class="in">`kableExtra`</span> to render the table with a specific theme.</span>
<span id="cb59-25"><a href="#cb59-25"></a></span>
<span id="cb59-26"><a href="#cb59-26"></a><span class="in">```{r}</span></span>
<span id="cb59-27"><a href="#cb59-27"></a><span class="in">diamonds %&gt;%</span></span>
<span id="cb59-28"><a href="#cb59-28"></a><span class="in">  group_by(cut) %&gt;%</span></span>
<span id="cb59-29"><a href="#cb59-29"></a><span class="in">  summarise(avg = mean(price),</span></span>
<span id="cb59-30"><a href="#cb59-30"></a><span class="in">            .groups = "drop") %&gt;%</span></span>
<span id="cb59-31"><a href="#cb59-31"></a><span class="in">  kable(digits = 0, </span></span>
<span id="cb59-32"><a href="#cb59-32"></a><span class="in">        col.names = c("Cut", "Average Price"),</span></span>
<span id="cb59-33"><a href="#cb59-33"></a><span class="in">        caption = "Mean diamond price by cut.") %&gt;%</span></span>
<span id="cb59-34"><a href="#cb59-34"></a><span class="in">  kable_classic()</span></span>
<span id="cb59-35"><a href="#cb59-35"></a><span class="in">```</span></span>
<span id="cb59-36"><a href="#cb59-36"></a></span>
<span id="cb59-37"><a href="#cb59-37"></a><span class="fu">### By Colour</span></span>
<span id="cb59-38"><a href="#cb59-38"></a></span>
<span id="cb59-39"><a href="#cb59-39"></a>This table uses <span class="in">`DT::datatable()`</span> to render the table with a searchable interface.</span>
<span id="cb59-40"><a href="#cb59-40"></a></span>
<span id="cb59-41"><a href="#cb59-41"></a><span class="in">```{r}</span></span>
<span id="cb59-42"><a href="#cb59-42"></a><span class="in">diamonds %&gt;%</span></span>
<span id="cb59-43"><a href="#cb59-43"></a><span class="in">  group_by(color) %&gt;%</span></span>
<span id="cb59-44"><a href="#cb59-44"></a><span class="in">  summarise(avg = mean(price),</span></span>
<span id="cb59-45"><a href="#cb59-45"></a><span class="in">            .groups = "drop") %&gt;%</span></span>
<span id="cb59-46"><a href="#cb59-46"></a><span class="in">  DT::datatable(colnames = c("Colour", "Average Price"), </span></span>
<span id="cb59-47"><a href="#cb59-47"></a><span class="in">                caption = "Mean diamond price by colour",</span></span>
<span id="cb59-48"><a href="#cb59-48"></a><span class="in">                options = list(pageLength = 5),</span></span>
<span id="cb59-49"><a href="#cb59-49"></a><span class="in">                rownames = FALSE) %&gt;%</span></span>
<span id="cb59-50"><a href="#cb59-50"></a><span class="in">  DT::formatRound(columns=2, digits=0)</span></span>
<span id="cb59-51"><a href="#cb59-51"></a><span class="in">```</span></span>
<span id="cb59-52"><a href="#cb59-52"></a></span>
<span id="cb59-53"><a href="#cb59-53"></a>Column {data-width=350}</span>
<span id="cb59-54"><a href="#cb59-54"></a>-----------------------</span>
<span id="cb59-55"><a href="#cb59-55"></a></span>
<span id="cb59-56"><a href="#cb59-56"></a><span class="fu">### By Clarity</span></span>
<span id="cb59-57"><a href="#cb59-57"></a></span>
<span id="cb59-58"><a href="#cb59-58"></a><span class="in">```{r by-clarity, fig.cap = "Diamond price by clarity"}</span></span>
<span id="cb59-59"><a href="#cb59-59"></a><span class="in">ggplot(diamonds, aes(x = clarity, y = price)) +</span></span>
<span id="cb59-60"><a href="#cb59-60"></a><span class="in">  geom_boxplot() </span></span>
<span id="cb59-61"><a href="#cb59-61"></a><span class="in">```</span></span>
<span id="cb59-62"><a href="#cb59-62"></a></span>
<span id="cb59-63"><a href="#cb59-63"></a></span>
<span id="cb59-64"><a href="#cb59-64"></a><span class="fu">### By Carats</span></span>
<span id="cb59-65"><a href="#cb59-65"></a></span>
<span id="cb59-66"><a href="#cb59-66"></a><span class="in">```{r by-carat, fig.cap = "Diamond price by carat"}</span></span>
<span id="cb59-67"><a href="#cb59-67"></a><span class="in">ggplot(diamonds, aes(x = carat, y = price)) +</span></span>
<span id="cb59-68"><a href="#cb59-68"></a><span class="in">  stat_smooth()</span></span>
<span id="cb59-69"><a href="#cb59-69"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Change the size of your web browser to see how the boxes, tables and figures change.</p>
<p>The best way to figure out how to format a dashboard is trial and error, but you can also look at some <a href="https://pkgs.rstudio.com/flexdashboard/articles/layouts.html" target="_blank">sample layouts</a>.</p>
</section><section id="books" class="level4"><h4 class="anchored" data-anchor-id="books">Books</h4>
<p>You can create online books with <pkg>bookdown</pkg>. In fact, the book you’re reading was created using bookdown. After you download the package, start a new project and choose “Book project using bookdown” from the list of project templates.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/present/bookdown.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Bookdown project template.</figcaption></figure>
</div>
</div>
</div>
<p>Each chapter is written in a separate .Rmd file and the general book settings can be changed in the <code>_bookdown.yml</code> and <code>_output.yml</code> files.</p>
</section><section id="websites" class="level4"><h4 class="anchored" data-anchor-id="websites">Websites</h4>
<p>You can create a simple website the same way you create any R Markdown document. Choose “Simple R Markdown Website” from the project templates to get started. See <a href="app-webpage.html" class="quarto-xref"><span>Appendix K</span></a> for a step-by-step tutorial.</p>
<p>For more complex, blog-style websites, you can investigate <a href="https://bookdown.org/yihui/blogdown/"><pkg>blogdown</pkg></a>. After you install this package, you will also be able to create template blogdown projects to get you started.</p>
</section><section id="shiny" class="level4"><h4 class="anchored" data-anchor-id="shiny">Shiny</h4>
<p>To get truly interactive, you can take your R coding to the next level and learn Shiny. Shiny apps let your R code react to user input. You can do things like <a href="https://shiny.psy.gla.ac.uk/debruine/wordcloud/">make a word cloud</a>, <a href="https://shiny.psy.gla.ac.uk/debruine/seen/">search a google spreadsheet</a>, or <a href="https://shiny.psy.gla.ac.uk/debruine/question/">conduct a survey</a>.</p>
<p>This is well outside the scope of this class, but the skills you’ve learned here provide a good start. The following free book <a href="https://debruine.github.io/shinyintro/">Building Web Apps with R Shiny</a> can get you started creating shiny apps.</p>
</section></section><section id="sec-resources-report" class="level3" data-number="10.2.6"><h3 data-number="10.2.6" class="anchored" data-anchor-id="sec-resources-report">
<span class="header-section-number">10.2.6</span> Resources</h3>
<ul>
<li><a href="https://rmarkdown.rstudio.com/formats.html">RStudio Formats</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook">R Markdown Cookbook</a></li>
<li><a href="https://rstudio.github.io/DT/">DT</a></li>
<li><a href="https://pkgs.rstudio.com/flexdashboard/">Flexdashboard</a></li>
<li><a href="https://bookdown.org/yihui/bookdown/">Bookdown</a></li>
<li><a href="https://bookdown.org/yihui/blogdown/">Blogdown</a></li>
<li><a href="https://shiny.rstudio.com/">Shiny</a></li>
<li><a href="https://debruine.github.io/shinyintro/">Building Web Apps with R Shiny</a></li>
</ul>
<hr></section></section><section id="course-complete" class="level2" data-number="10.3"><h2 data-number="10.3" class="anchored" data-anchor-id="course-complete">
<span class="header-section-number">10.3</span> Course Complete</h2>
<p>And so, we are done. We’ve covered a huge amount over the course of Applied Data Skills, and whilst you’re likely more comfortable with some bits than others, the skills you have developed are truly impressive. Even if you go no further than what you’ve learned in this book, you can now work reproducibly to produce informative summaries and visualisations that provide new insights into your data and reduce human error.</p>
<p>But it’s also important to recognise that your knowledge of R will never be complete. In the course of writing this book, the entire ADS team have learned new functions, new arguments, new approaches, and new reasons to love or loathe certain data visualisations. The flexibility and possibility of R is what makes it frustrating and empowering in equal measure. What we hope more than anything is that Applied Data Skills is the start of your journey with R, not the end. Please keep in touch, we’d love to see where it takes you.</p>
<p>Olivia Malkowski,<br>
Sean Williams,<br>
James Fern</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-rmarkdown" class="csl-entry" role="listitem">
Allaire, J., Xie, Y., McPherson, J., Luraschi, J., Ushey, K., Atkins, A., Wickham, H., Cheng, J., &amp; Chang, W. (2018). <em>Rmarkdown: Dynamic documents for r</em>. <a href="https://CRAN.R-project.org/package=rmarkdown">https://CRAN.R-project.org/package=rmarkdown</a>
</div>
<div id="ref-franconeri2021science" class="csl-entry" role="listitem">
Franconeri, S. L., Padilla, L. M., Shah, P., Zacks, J. M., &amp; Hullman, J. (2021). The science of visual data communication: What works. <em>Psychological Science in the Public Interest</em>, <em>22</em>(3), 110–161. <a href="https://doi.org/10.1177/15291006211051956">https://doi.org/10.1177/15291006211051956</a>
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, H. (2017). <em>Tidyverse: Easily install and load the ’tidyverse’</em>. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a>
</div>
</div>
</section></main><!-- /main --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    $(solveme[i]).after(" <span class='webex-icon'></span>");
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    $(selects[i]).after(" <span class='webex-icon'></span>");
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );

  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./09-wrangle.html" class="pagination-link" aria-label="Data Wrangling">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./11-refs.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>CC-BY 2022, healthTeachR</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/healthteachr/healthteachr.github.io/edit/main/10-custom.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/healthteachr/healthteachr.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/healthteachr/healthteachr.github.io/blob/main/10-custom.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


</body></html>